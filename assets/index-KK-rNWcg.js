(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function cl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Fe={},ks=[],sn=()=>{},lf=()=>!1,go=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ul=t=>t.startsWith("onUpdate:"),ht=Object.assign,hl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bg=Object.prototype.hasOwnProperty,De=(t,e)=>Bg.call(t,e),fe=Array.isArray,Ms=t=>ii(t)==="[object Map]",cf=t=>ii(t)==="[object Set]",Zc=t=>ii(t)==="[object Date]",ye=t=>typeof t=="function",Xe=t=>typeof t=="string",ln=t=>typeof t=="symbol",ke=t=>t!==null&&typeof t=="object",uf=t=>(ke(t)||ye(t))&&ye(t.then)&&ye(t.catch),hf=Object.prototype.toString,ii=t=>hf.call(t),Ug=t=>ii(t).slice(8,-1),ff=t=>ii(t)==="[object Object]",fl=t=>Xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Pr=cl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mo=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},jg=/-\w/g,$t=mo(t=>t.replace(jg,e=>e.slice(1).toUpperCase())),Hg=/\B([A-Z])/g,Zn=mo(t=>t.replace(Hg,"-$1").toLowerCase()),_o=mo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ta=mo(t=>t?`on${_o(t)}`:""),Un=(t,e)=>!Object.is(t,e),Di=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},df=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},dl=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let eu;const yo=()=>eu||(eu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pl(t){if(fe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Xe(s)?Gg(s):pl(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Xe(t)||ke(t))return t}const $g=/;(?![^(]*\))/g,qg=/:([^]+)/,zg=/\/\*[^]*?\*\//g;function Gg(t){const e={};return t.replace(zg,"").split($g).forEach(n=>{if(n){const s=n.split(qg);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function oi(t){let e="";if(Xe(t))e=t;else if(fe(t))for(let n=0;n<t.length;n++){const s=oi(t[n]);s&&(e+=s+" ")}else if(ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Kg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wg=cl(Kg);function pf(t){return!!t||t===""}function Qg(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=gl(t[s],e[s]);return n}function gl(t,e){if(t===e)return!0;let n=Zc(t),s=Zc(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=ln(t),s=ln(e),n||s)return t===e;if(n=fe(t),s=fe(e),n||s)return n&&s?Qg(t,e):!1;if(n=ke(t),s=ke(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const a in t){const l=t.hasOwnProperty(a),c=e.hasOwnProperty(a);if(l&&!c||!l&&c||!gl(t[a],e[a]))return!1}}return String(t)===String(e)}const gf=t=>!!(t&&t.__v_isRef===!0),ae=t=>Xe(t)?t:t==null?"":fe(t)||ke(t)&&(t.toString===hf||!ye(t.toString))?gf(t)?ae(t.value):JSON.stringify(t,mf,2):String(t),mf=(t,e)=>gf(e)?mf(t,e.value):Ms(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[na(s,i)+" =>"]=r,n),{})}:cf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>na(n))}:ln(e)?na(e):ke(e)&&!fe(e)&&!ff(e)?String(e):e,na=(t,e="")=>{var n;return ln(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let Vt;class Jg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=Vt,!e&&Vt&&(this.index=(Vt.scopes||(Vt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Vt;try{return Vt=this,e()}finally{Vt=n}}}on(){++this._on===1&&(this.prevScope=Vt,Vt=this)}off(){this._on>0&&--this._on===0&&(Vt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Yg(){return Vt}let Le;const sa=new WeakSet;class _f{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Vt&&Vt.active&&Vt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sa.has(this)&&(sa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tu(this),Ef(this);const e=Le,n=Kt;Le=this,Kt=!0;try{return this.fn()}finally{Af(this),Le=e,Kt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)yl(e);this.deps=this.depsTail=void 0,tu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ra(this)&&this.run()}get dirty(){return Ra(this)}}let yf=0,xr,Vr;function vf(t,e=!1){if(t.flags|=8,e){t.next=Vr,Vr=t;return}t.next=xr,xr=t}function ml(){yf++}function _l(){if(--yf>0)return;if(Vr){let e=Vr;for(Vr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;xr;){let e=xr;for(xr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Ef(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Af(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),yl(s),Xg(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Ra(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Tf(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Tf(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Hr)||(t.globalVersion=Hr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ra(t))))return;t.flags|=2;const e=t.dep,n=Le,s=Kt;Le=t,Kt=!0;try{Ef(t);const r=t.fn(t._value);(e.version===0||Un(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Le=n,Kt=s,Af(t),t.flags&=-3}}function yl(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)yl(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Xg(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Kt=!0;const If=[];function An(){If.push(Kt),Kt=!1}function Tn(){const t=If.pop();Kt=t===void 0?!0:t}function tu(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Le;Le=void 0;try{e()}finally{Le=n}}}let Hr=0;class Zg{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Le||!Kt||Le===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Le)n=this.activeLink=new Zg(Le,this),Le.deps?(n.prevDep=Le.depsTail,Le.depsTail.nextDep=n,Le.depsTail=n):Le.deps=Le.depsTail=n,bf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Le.depsTail,n.nextDep=void 0,Le.depsTail.nextDep=n,Le.depsTail=n,Le.deps===n&&(Le.deps=s)}return n}trigger(e){this.version++,Hr++,this.notify(e)}notify(e){ml();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_l()}}}function bf(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)bf(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Sa=new WeakMap,hs=Symbol(""),Ca=Symbol(""),$r=Symbol("");function vt(t,e,n){if(Kt&&Le){let s=Sa.get(t);s||Sa.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new vl),r.map=s,r.key=n),r.track()}}function _n(t,e,n,s,r,i){const a=Sa.get(t);if(!a){Hr++;return}const l=c=>{c&&c.trigger()};if(ml(),e==="clear")a.forEach(l);else{const c=fe(t),h=c&&fl(n);if(c&&n==="length"){const d=Number(s);a.forEach((p,_)=>{(_==="length"||_===$r||!ln(_)&&_>=d)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),h&&l(a.get($r)),e){case"add":c?h&&l(a.get("length")):(l(a.get(hs)),Ms(t)&&l(a.get(Ca)));break;case"delete":c||(l(a.get(hs)),Ms(t)&&l(a.get(Ca)));break;case"set":Ms(t)&&l(a.get(hs));break}}_l()}function Ss(t){const e=Ve(t);return e===t?e:(vt(e,"iterate",$r),Ht(t)?e:e.map(Qt))}function vo(t){return vt(t=Ve(t),"iterate",$r),t}function kn(t,e){return In(t)?$s(fs(t)?Qt(e):e):Qt(e)}const em={__proto__:null,[Symbol.iterator](){return ra(this,Symbol.iterator,t=>kn(this,t))},concat(...t){return Ss(this).concat(...t.map(e=>fe(e)?Ss(e):e))},entries(){return ra(this,"entries",t=>(t[1]=kn(this,t[1]),t))},every(t,e){return fn(this,"every",t,e,void 0,arguments)},filter(t,e){return fn(this,"filter",t,e,n=>n.map(s=>kn(this,s)),arguments)},find(t,e){return fn(this,"find",t,e,n=>kn(this,n),arguments)},findIndex(t,e){return fn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return fn(this,"findLast",t,e,n=>kn(this,n),arguments)},findLastIndex(t,e){return fn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return fn(this,"forEach",t,e,void 0,arguments)},includes(...t){return ia(this,"includes",t)},indexOf(...t){return ia(this,"indexOf",t)},join(t){return Ss(this).join(t)},lastIndexOf(...t){return ia(this,"lastIndexOf",t)},map(t,e){return fn(this,"map",t,e,void 0,arguments)},pop(){return yr(this,"pop")},push(...t){return yr(this,"push",t)},reduce(t,...e){return nu(this,"reduce",t,e)},reduceRight(t,...e){return nu(this,"reduceRight",t,e)},shift(){return yr(this,"shift")},some(t,e){return fn(this,"some",t,e,void 0,arguments)},splice(...t){return yr(this,"splice",t)},toReversed(){return Ss(this).toReversed()},toSorted(t){return Ss(this).toSorted(t)},toSpliced(...t){return Ss(this).toSpliced(...t)},unshift(...t){return yr(this,"unshift",t)},values(){return ra(this,"values",t=>kn(this,t))}};function ra(t,e,n){const s=vo(t),r=s[e]();return s!==t&&!Ht(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const tm=Array.prototype;function fn(t,e,n,s,r,i){const a=vo(t),l=a!==t&&!Ht(t),c=a[e];if(c!==tm[e]){const p=c.apply(t,i);return l?Qt(p):p}let h=n;a!==t&&(l?h=function(p,_){return n.call(this,kn(t,p),_,t)}:n.length>2&&(h=function(p,_){return n.call(this,p,_,t)}));const d=c.call(a,h,s);return l&&r?r(d):d}function nu(t,e,n,s){const r=vo(t);let i=n;return r!==t&&(Ht(t)?n.length>3&&(i=function(a,l,c){return n.call(this,a,l,c,t)}):i=function(a,l,c){return n.call(this,a,kn(t,l),c,t)}),r[e](i,...s)}function ia(t,e,n){const s=Ve(t);vt(s,"iterate",$r);const r=s[e](...n);return(r===-1||r===!1)&&Tl(n[0])?(n[0]=Ve(n[0]),s[e](...n)):r}function yr(t,e,n=[]){An(),ml();const s=Ve(t)[e].apply(t,n);return _l(),Tn(),s}const nm=cl("__proto__,__v_isRef,__isVue"),wf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ln));function sm(t){ln(t)||(t=String(t));const e=Ve(this);return vt(e,"has",t),e.hasOwnProperty(t)}class Rf{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?dm:xf:i?Pf:Cf).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const a=fe(e);if(!r){let c;if(a&&(c=em[n]))return c;if(n==="hasOwnProperty")return sm}const l=Reflect.get(e,n,It(e)?e:s);if((ln(n)?wf.has(n):nm(n))||(r||vt(e,"get",n),i))return l;if(It(l)){const c=a&&fl(n)?l:l.value;return r&&ke(c)?xa(c):c}return ke(l)?r?xa(l):Eo(l):l}}class Sf extends Rf{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];const a=fe(e)&&fl(n);if(!this._isShallow){const h=In(i);if(!Ht(s)&&!In(s)&&(i=Ve(i),s=Ve(s)),!a&&It(i)&&!It(s))return h||(i.value=s),!0}const l=a?Number(n)<e.length:De(e,n),c=Reflect.set(e,n,s,It(e)?e:r);return e===Ve(r)&&(l?Un(s,i)&&_n(e,"set",n,s):_n(e,"add",n,s)),c}deleteProperty(e,n){const s=De(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&_n(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!ln(n)||!wf.has(n))&&vt(e,"has",n),s}ownKeys(e){return vt(e,"iterate",fe(e)?"length":hs),Reflect.ownKeys(e)}}class rm extends Rf{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const im=new Sf,om=new rm,am=new Sf(!0);const Pa=t=>t,bi=t=>Reflect.getPrototypeOf(t);function lm(t,e,n){return function(...s){const r=this.__v_raw,i=Ve(r),a=Ms(i),l=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,h=r[t](...s),d=n?Pa:e?$s:Qt;return!e&&vt(i,"iterate",c?Ca:hs),ht(Object.create(h),{next(){const{value:p,done:_}=h.next();return _?{value:p,done:_}:{value:l?[d(p[0]),d(p[1])]:d(p),done:_}}})}}function wi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function cm(t,e){const n={get(r){const i=this.__v_raw,a=Ve(i),l=Ve(r);t||(Un(r,l)&&vt(a,"get",r),vt(a,"get",l));const{has:c}=bi(a),h=e?Pa:t?$s:Qt;if(c.call(a,r))return h(i.get(r));if(c.call(a,l))return h(i.get(l));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!t&&vt(Ve(r),"iterate",hs),r.size},has(r){const i=this.__v_raw,a=Ve(i),l=Ve(r);return t||(Un(r,l)&&vt(a,"has",r),vt(a,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const a=this,l=a.__v_raw,c=Ve(l),h=e?Pa:t?$s:Qt;return!t&&vt(c,"iterate",hs),l.forEach((d,p)=>r.call(i,h(d),h(p),a))}};return ht(n,t?{add:wi("add"),set:wi("set"),delete:wi("delete"),clear:wi("clear")}:{add(r){!e&&!Ht(r)&&!In(r)&&(r=Ve(r));const i=Ve(this);return bi(i).has.call(i,r)||(i.add(r),_n(i,"add",r,r)),this},set(r,i){!e&&!Ht(i)&&!In(i)&&(i=Ve(i));const a=Ve(this),{has:l,get:c}=bi(a);let h=l.call(a,r);h||(r=Ve(r),h=l.call(a,r));const d=c.call(a,r);return a.set(r,i),h?Un(i,d)&&_n(a,"set",r,i):_n(a,"add",r,i),this},delete(r){const i=Ve(this),{has:a,get:l}=bi(i);let c=a.call(i,r);c||(r=Ve(r),c=a.call(i,r)),l&&l.call(i,r);const h=i.delete(r);return c&&_n(i,"delete",r,void 0),h},clear(){const r=Ve(this),i=r.size!==0,a=r.clear();return i&&_n(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=lm(r,t,e)}),n}function El(t,e){const n=cm(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(De(n,r)&&r in s?n:s,r,i)}const um={get:El(!1,!1)},hm={get:El(!1,!0)},fm={get:El(!0,!1)};const Cf=new WeakMap,Pf=new WeakMap,xf=new WeakMap,dm=new WeakMap;function pm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gm(t){return t.__v_skip||!Object.isExtensible(t)?0:pm(Ug(t))}function Eo(t){return In(t)?t:Al(t,!1,im,um,Cf)}function Vf(t){return Al(t,!1,am,hm,Pf)}function xa(t){return Al(t,!0,om,fm,xf)}function Al(t,e,n,s,r){if(!ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=gm(t);if(i===0)return t;const a=r.get(t);if(a)return a;const l=new Proxy(t,i===2?s:n);return r.set(t,l),l}function fs(t){return In(t)?fs(t.__v_raw):!!(t&&t.__v_isReactive)}function In(t){return!!(t&&t.__v_isReadonly)}function Ht(t){return!!(t&&t.__v_isShallow)}function Tl(t){return t?!!t.__v_raw:!1}function Ve(t){const e=t&&t.__v_raw;return e?Ve(e):t}function mm(t){return!De(t,"__v_skip")&&Object.isExtensible(t)&&df(t,"__v_skip",!0),t}const Qt=t=>ke(t)?Eo(t):t,$s=t=>ke(t)?xa(t):t;function It(t){return t?t.__v_isRef===!0:!1}function zt(t){return Df(t,!1)}function _m(t){return Df(t,!0)}function Df(t,e){return It(t)?t:new ym(t,e)}class ym{constructor(e,n){this.dep=new vl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ve(e),this._value=n?e:Qt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ht(e)||In(e);e=s?e:Ve(e),Un(e,n)&&(this._rawValue=e,this._value=s?e:Qt(e),this.dep.trigger())}}function jt(t){return It(t)?t.value:t}const vm={get:(t,e,n)=>e==="__v_raw"?t:jt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return It(r)&&!It(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Nf(t){return fs(t)?t:new Proxy(t,vm)}class Em{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new vl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return vf(this,!0),!0}get value(){const e=this.dep.track();return Tf(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Am(t,e,n=!1){let s,r;return ye(t)?s=t:(s=t.get,r=t.set),new Em(s,r,n)}const Ri={},$i=new WeakMap;let as;function Tm(t,e=!1,n=as){if(n){let s=$i.get(n);s||$i.set(n,s=[]),s.push(t)}}function Im(t,e,n=Fe){const{immediate:s,deep:r,once:i,scheduler:a,augmentJob:l,call:c}=n,h=G=>r?G:Ht(G)||r===!1||r===0?yn(G,1):yn(G);let d,p,_,T,P=!1,x=!1;if(It(t)?(p=()=>t.value,P=Ht(t)):fs(t)?(p=()=>h(t),P=!0):fe(t)?(x=!0,P=t.some(G=>fs(G)||Ht(G)),p=()=>t.map(G=>{if(It(G))return G.value;if(fs(G))return h(G);if(ye(G))return c?c(G,2):G()})):ye(t)?e?p=c?()=>c(t,2):t:p=()=>{if(_){An();try{_()}finally{Tn()}}const G=as;as=d;try{return c?c(t,3,[T]):t(T)}finally{as=G}}:p=sn,e&&r){const G=p,ue=r===!0?1/0:r;p=()=>yn(G(),ue)}const S=Yg(),k=()=>{d.stop(),S&&S.active&&hl(S.effects,d)};if(i&&e){const G=e;e=(...ue)=>{G(...ue),k()}}let O=x?new Array(t.length).fill(Ri):Ri;const j=G=>{if(!(!(d.flags&1)||!d.dirty&&!G))if(e){const ue=d.run();if(r||P||(x?ue.some((D,E)=>Un(D,O[E])):Un(ue,O))){_&&_();const D=as;as=d;try{const E=[ue,O===Ri?void 0:x&&O[0]===Ri?[]:O,T];O=ue,c?c(e,3,E):e(...E)}finally{as=D}}}else d.run()};return l&&l(j),d=new _f(p),d.scheduler=a?()=>a(j,!1):j,T=G=>Tm(G,!1,d),_=d.onStop=()=>{const G=$i.get(d);if(G){if(c)c(G,4);else for(const ue of G)ue();$i.delete(d)}},e?s?j(!0):O=d.run():a?a(j.bind(null,!0),!0):d.run(),k.pause=d.pause.bind(d),k.resume=d.resume.bind(d),k.stop=k,k}function yn(t,e=1/0,n){if(e<=0||!ke(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,It(t))yn(t.value,e,n);else if(fe(t))for(let s=0;s<t.length;s++)yn(t[s],e,n);else if(cf(t)||Ms(t))t.forEach(s=>{yn(s,e,n)});else if(ff(t)){for(const s in t)yn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&yn(t[s],e,n)}return t}function ai(t,e,n,s){try{return s?t(...s):t()}catch(r){Ao(r,e,n)}}function cn(t,e,n,s){if(ye(t)){const r=ai(t,e,n,s);return r&&uf(r)&&r.catch(i=>{Ao(i,e,n)}),r}if(fe(t)){const r=[];for(let i=0;i<t.length;i++)r.push(cn(t[i],e,n,s));return r}}function Ao(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Fe;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,c,h)===!1)return}l=l.parent}if(i){An(),ai(i,null,10,[t,c,h]),Tn();return}}bm(t,n,r,s,a)}function bm(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Ct=[];let en=-1;const Fs=[];let Mn=null,Cs=0;const Of=Promise.resolve();let qi=null;function kf(t){const e=qi||Of;return t?e.then(this?t.bind(this):t):e}function wm(t){let e=en+1,n=Ct.length;for(;e<n;){const s=e+n>>>1,r=Ct[s],i=qr(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Il(t){if(!(t.flags&1)){const e=qr(t),n=Ct[Ct.length-1];!n||!(t.flags&2)&&e>=qr(n)?Ct.push(t):Ct.splice(wm(e),0,t),t.flags|=1,Mf()}}function Mf(){qi||(qi=Of.then(Lf))}function Rm(t){fe(t)?Fs.push(...t):Mn&&t.id===-1?Mn.splice(Cs+1,0,t):t.flags&1||(Fs.push(t),t.flags|=1),Mf()}function su(t,e,n=en+1){for(;n<Ct.length;n++){const s=Ct[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ct.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ff(t){if(Fs.length){const e=[...new Set(Fs)].sort((n,s)=>qr(n)-qr(s));if(Fs.length=0,Mn){Mn.push(...e);return}for(Mn=e,Cs=0;Cs<Mn.length;Cs++){const n=Mn[Cs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Mn=null,Cs=0}}const qr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Lf(t){try{for(en=0;en<Ct.length;en++){const e=Ct[en];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ai(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;en<Ct.length;en++){const e=Ct[en];e&&(e.flags&=-2)}en=-1,Ct.length=0,Ff(),qi=null,(Ct.length||Fs.length)&&Lf()}}let Ft=null,Bf=null;function zi(t){const e=Ft;return Ft=t,Bf=t&&t.type.__scopeId||null,e}function Sm(t,e=Ft,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Wi(-1);const i=zi(e);let a;try{a=t(...r)}finally{zi(i),s._d&&Wi(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function Cm(t,e){if(Ft===null)return t;const n=wo(Ft),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,a,l,c=Fe]=e[r];i&&(ye(i)&&(i={mounted:i,updated:i}),i.deep&&yn(a),s.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function is(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let a=0;a<r.length;a++){const l=r[a];i&&(l.oldValue=i[a].value);let c=l.dir[s];c&&(An(),cn(c,n,8,[t.el,l,t,e]),Tn())}}function Ni(t,e){if(At){let n=At.provides;const s=At.parent&&At.parent.provides;s===n&&(n=At.provides=Object.create(s)),n[t]=e}}function vn(t,e,n=!1){const s=P_();if(s||Ls){let r=Ls?Ls._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ye(e)?e.call(s&&s.proxy):e}}const Pm=Symbol.for("v-scx"),xm=()=>vn(Pm);function Oi(t,e,n){return Uf(t,e,n)}function Uf(t,e,n=Fe){const{immediate:s,deep:r,flush:i,once:a}=n,l=ht({},n),c=e&&s||!e&&i!=="post";let h;if(Gr){if(i==="sync"){const T=xm();h=T.__watcherHandles||(T.__watcherHandles=[])}else if(!c){const T=()=>{};return T.stop=sn,T.resume=sn,T.pause=sn,T}}const d=At;l.call=(T,P,x)=>cn(T,d,P,x);let p=!1;i==="post"?l.scheduler=T=>{xt(T,d&&d.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(T,P)=>{P?T():Il(T)}),l.augmentJob=T=>{e&&(T.flags|=4),p&&(T.flags|=2,d&&(T.id=d.uid,T.i=d))};const _=Im(t,e,l);return Gr&&(h?h.push(_):c&&_()),_}function Vm(t,e,n){const s=this.proxy,r=Xe(t)?t.includes(".")?jf(s,t):()=>s[t]:t.bind(s,s);let i;ye(e)?i=e:(i=e.handler,n=e);const a=li(this),l=Uf(r,i.bind(s),n);return a(),l}function jf(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Dm=Symbol("_vte"),Nm=t=>t.__isTeleport,Om=Symbol("_leaveCb");function bl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,bl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Hf(t,e){return ye(t)?ht({name:t.name},e,{setup:t}):t}function $f(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ru(t,e){let n;return!!((n=Object.getOwnPropertyDescriptor(t,e))&&!n.configurable)}const Gi=new WeakMap;function Dr(t,e,n,s,r=!1){if(fe(t)){t.forEach((x,S)=>Dr(x,e&&(fe(e)?e[S]:e),n,s,r));return}if(Nr(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Dr(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?wo(s.component):s.el,a=r?null:i,{i:l,r:c}=t,h=e&&e.r,d=l.refs===Fe?l.refs={}:l.refs,p=l.setupState,_=Ve(p),T=p===Fe?lf:x=>ru(d,x)?!1:De(_,x),P=(x,S)=>!(S&&ru(d,S));if(h!=null&&h!==c){if(iu(e),Xe(h))d[h]=null,T(h)&&(p[h]=null);else if(It(h)){const x=e;P(h,x.k)&&(h.value=null),x.k&&(d[x.k]=null)}}if(ye(c))ai(c,l,12,[a,d]);else{const x=Xe(c),S=It(c);if(x||S){const k=()=>{if(t.f){const O=x?T(c)?p[c]:d[c]:P()||!t.k?c.value:d[t.k];if(r)fe(O)&&hl(O,i);else if(fe(O))O.includes(i)||O.push(i);else if(x)d[c]=[i],T(c)&&(p[c]=d[c]);else{const j=[i];P(c,t.k)&&(c.value=j),t.k&&(d[t.k]=j)}}else x?(d[c]=a,T(c)&&(p[c]=a)):S&&(P(c,t.k)&&(c.value=a),t.k&&(d[t.k]=a))};if(a){const O=()=>{k(),Gi.delete(t)};O.id=-1,Gi.set(t,O),xt(O,n)}else iu(t),k()}}}function iu(t){const e=Gi.get(t);e&&(e.flags|=8,Gi.delete(t))}yo().requestIdleCallback;yo().cancelIdleCallback;const Nr=t=>!!t.type.__asyncLoader,qf=t=>t.type.__isKeepAlive;function km(t,e){zf(t,"a",e)}function Mm(t,e){zf(t,"da",e)}function zf(t,e,n=At){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(To(e,s,n),n){let r=n.parent;for(;r&&r.parent;)qf(r.parent.vnode)&&Fm(s,e,n,r),r=r.parent}}function Fm(t,e,n,s){const r=To(e,t,s,!0);wl(()=>{hl(s[e],r)},n)}function To(t,e,n=At,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{An();const l=li(n),c=cn(e,n,t,a);return l(),Tn(),c});return s?r.unshift(i):r.push(i),i}}const Sn=t=>(e,n=At)=>{(!Gr||t==="sp")&&To(t,(...s)=>e(...s),n)},Lm=Sn("bm"),Gf=Sn("m"),Bm=Sn("bu"),Um=Sn("u"),jm=Sn("bum"),wl=Sn("um"),Hm=Sn("sp"),$m=Sn("rtg"),qm=Sn("rtc");function zm(t,e=At){To("ec",t,e)}const Gm="components";function Km(t,e){return Qm(Gm,t,!0,e)||t}const Wm=Symbol.for("v-ndc");function Qm(t,e,n=!0,s=!1){const r=Ft||At;if(r){const i=r.type;{const l=O_(i,!1);if(l&&(l===e||l===$t(e)||l===_o($t(e))))return i}const a=ou(r[t]||i[t],e)||ou(r.appContext[t],e);return!a&&s?i:a}}function ou(t,e){return t&&(t[e]||t[$t(e)]||t[_o($t(e))])}function Tt(t,e,n,s){let r;const i=n,a=fe(t);if(a||Xe(t)){const l=a&&fs(t);let c=!1,h=!1;l&&(c=!Ht(t),h=In(t),t=vo(t)),r=new Array(t.length);for(let d=0,p=t.length;d<p;d++)r[d]=e(c?h?$s(Qt(t[d])):Qt(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i)}else if(ke(t))if(t[Symbol.iterator])r=Array.from(t,(l,c)=>e(l,c,void 0,i));else{const l=Object.keys(t);r=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const d=l[c];r[c]=e(t[d],d,c,i)}}else r=[];return r}const Va=t=>t?fd(t)?wo(t):Va(t.parent):null,Or=ht(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Va(t.parent),$root:t=>Va(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Wf(t),$forceUpdate:t=>t.f||(t.f=()=>{Il(t.update)}),$nextTick:t=>t.n||(t.n=kf.bind(t.proxy)),$watch:t=>Vm.bind(t)}),oa=(t,e)=>t!==Fe&&!t.__isScriptSetup&&De(t,e),Jm={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:a,type:l,appContext:c}=t;if(e[0]!=="$"){const _=a[e];if(_!==void 0)switch(_){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(oa(s,e))return a[e]=1,s[e];if(r!==Fe&&De(r,e))return a[e]=2,r[e];if(De(i,e))return a[e]=3,i[e];if(n!==Fe&&De(n,e))return a[e]=4,n[e];Da&&(a[e]=0)}}const h=Or[e];let d,p;if(h)return e==="$attrs"&&vt(t.attrs,"get",""),h(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(n!==Fe&&De(n,e))return a[e]=4,n[e];if(p=c.config.globalProperties,De(p,e))return p[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return oa(r,e)?(r[e]=n,!0):s!==Fe&&De(s,e)?(s[e]=n,!0):De(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,props:i,type:a}},l){let c;return!!(n[l]||t!==Fe&&l[0]!=="$"&&De(t,l)||oa(e,l)||De(i,l)||De(s,l)||De(Or,l)||De(r.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:De(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function au(t){return fe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Da=!0;function Ym(t){const e=Wf(t),n=t.proxy,s=t.ctx;Da=!1,e.beforeCreate&&lu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:a,watch:l,provide:c,inject:h,created:d,beforeMount:p,mounted:_,beforeUpdate:T,updated:P,activated:x,deactivated:S,beforeDestroy:k,beforeUnmount:O,destroyed:j,unmounted:G,render:ue,renderTracked:D,renderTriggered:E,errorCaptured:v,serverPrefetch:y,expose:b,inheritAttrs:A,components:R,directives:g,filters:se}=e;if(h&&Xm(h,s,null),a)for(const ge in a){const me=a[ge];ye(me)&&(s[ge]=me.bind(n))}if(r){const ge=r.call(n,n);ke(ge)&&(t.data=Eo(ge))}if(Da=!0,i)for(const ge in i){const me=i[ge],de=ye(me)?me.bind(n,n):ye(me.get)?me.get.bind(n,n):sn,Ze=!ye(me)&&ye(me.set)?me.set.bind(n):sn,Ge=$e({get:de,set:Ze});Object.defineProperty(s,ge,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:He=>Ge.value=He})}if(l)for(const ge in l)Kf(l[ge],s,n,ge);if(c){const ge=ye(c)?c.call(n):c;Reflect.ownKeys(ge).forEach(me=>{Ni(me,ge[me])})}d&&lu(d,t,"c");function we(ge,me){fe(me)?me.forEach(de=>ge(de.bind(n))):me&&ge(me.bind(n))}if(we(Lm,p),we(Gf,_),we(Bm,T),we(Um,P),we(km,x),we(Mm,S),we(zm,v),we(qm,D),we($m,E),we(jm,O),we(wl,G),we(Hm,y),fe(b))if(b.length){const ge=t.exposed||(t.exposed={});b.forEach(me=>{Object.defineProperty(ge,me,{get:()=>n[me],set:de=>n[me]=de,enumerable:!0})})}else t.exposed||(t.exposed={});ue&&t.render===sn&&(t.render=ue),A!=null&&(t.inheritAttrs=A),R&&(t.components=R),g&&(t.directives=g),y&&$f(t)}function Xm(t,e,n=sn){fe(t)&&(t=Na(t));for(const s in t){const r=t[s];let i;ke(r)?"default"in r?i=vn(r.from||s,r.default,!0):i=vn(r.from||s):i=vn(r),It(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[s]=i}}function lu(t,e,n){cn(fe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Kf(t,e,n,s){let r=s.includes(".")?jf(n,s):()=>n[s];if(Xe(t)){const i=e[t];ye(i)&&Oi(r,i)}else if(ye(t))Oi(r,t.bind(n));else if(ke(t))if(fe(t))t.forEach(i=>Kf(i,e,n,s));else{const i=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(i)&&Oi(r,i,t)}}function Wf(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,l=i.get(e);let c;return l?c=l:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(h=>Ki(c,h,a,!0)),Ki(c,e,a)),ke(e)&&i.set(e,c),c}function Ki(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Ki(t,i,n,!0),r&&r.forEach(a=>Ki(t,a,n,!0));for(const a in e)if(!(s&&a==="expose")){const l=Zm[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const Zm={data:cu,props:uu,emits:uu,methods:Tr,computed:Tr,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:Tr,directives:Tr,watch:t_,provide:cu,inject:e_};function cu(t,e){return e?t?function(){return ht(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function e_(t,e){return Tr(Na(t),Na(e))}function Na(t){if(fe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rt(t,e){return t?[...new Set([].concat(t,e))]:e}function Tr(t,e){return t?ht(Object.create(null),t,e):e}function uu(t,e){return t?fe(t)&&fe(e)?[...new Set([...t,...e])]:ht(Object.create(null),au(t),au(e??{})):e}function t_(t,e){if(!t)return e;if(!e)return t;const n=ht(Object.create(null),t);for(const s in e)n[s]=Rt(t[s],e[s]);return n}function Qf(){return{app:null,config:{isNativeTag:lf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let n_=0;function s_(t,e){return function(s,r=null){ye(s)||(s=ht({},s)),r!=null&&!ke(r)&&(r=null);const i=Qf(),a=new WeakSet,l=[];let c=!1;const h=i.app={_uid:n_++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:M_,get config(){return i.config},set config(d){},use(d,...p){return a.has(d)||(d&&ye(d.install)?(a.add(d),d.install(h,...p)):ye(d)&&(a.add(d),d(h,...p))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,p){return p?(i.components[d]=p,h):i.components[d]},directive(d,p){return p?(i.directives[d]=p,h):i.directives[d]},mount(d,p,_){if(!c){const T=h._ceVNode||Pt(s,r);return T.appContext=i,_===!0?_="svg":_===!1&&(_=void 0),t(T,d,_),c=!0,h._container=d,d.__vue_app__=h,wo(T.component)}},onUnmount(d){l.push(d)},unmount(){c&&(cn(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,p){return i.provides[d]=p,h},runWithContext(d){const p=Ls;Ls=h;try{return d()}finally{Ls=p}}};return h}}let Ls=null;const r_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${$t(e)}Modifiers`]||t[`${Zn(e)}Modifiers`];function i_(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Fe;let r=n;const i=e.startsWith("update:"),a=i&&r_(s,e.slice(7));a&&(a.trim&&(r=n.map(d=>Xe(d)?d.trim():d)),a.number&&(r=n.map(dl)));let l,c=s[l=ta(e)]||s[l=ta($t(e))];!c&&i&&(c=s[l=ta(Zn(e))]),c&&cn(c,t,6,r);const h=s[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,cn(h,t,6,r)}}const o_=new WeakMap;function Jf(t,e,n=!1){const s=n?o_:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let a={},l=!1;if(!ye(t)){const c=h=>{const d=Jf(h,e,!0);d&&(l=!0,ht(a,d))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(ke(t)&&s.set(t,null),null):(fe(i)?i.forEach(c=>a[c]=null):ht(a,i),ke(t)&&s.set(t,a),a)}function Io(t,e){return!t||!go(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,Zn(e))||De(t,e))}function hu(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:a,attrs:l,emit:c,render:h,renderCache:d,props:p,data:_,setupState:T,ctx:P,inheritAttrs:x}=t,S=zi(t);let k,O;try{if(n.shapeFlag&4){const G=r||s,ue=G;k=nn(h.call(ue,G,d,p,T,_,P)),O=l}else{const G=e;k=nn(G.length>1?G(p,{attrs:l,slots:a,emit:c}):G(p,null)),O=e.props?l:a_(l)}}catch(G){kr.length=0,Ao(G,t,1),k=Pt(Gn)}let j=k;if(O&&x!==!1){const G=Object.keys(O),{shapeFlag:ue}=j;G.length&&ue&7&&(i&&G.some(ul)&&(O=l_(O,i)),j=qs(j,O,!1,!0))}return n.dirs&&(j=qs(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&bl(j,n.transition),k=j,zi(S),k}const a_=t=>{let e;for(const n in t)(n==="class"||n==="style"||go(n))&&((e||(e={}))[n]=t[n]);return e},l_=(t,e)=>{const n={};for(const s in t)(!ul(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function c_(t,e,n){const{props:s,children:r,component:i}=t,{props:a,children:l,patchFlag:c}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?fu(s,a,h):!!a;if(c&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const _=d[p];if(Yf(a,s,_)&&!Io(h,_))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?fu(s,a,h):!0:!!a;return!1}function fu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(Yf(e,t,i)&&!Io(n,i))return!0}return!1}function Yf(t,e,n){const s=t[n],r=e[n];return n==="style"&&ke(s)&&ke(r)?!gl(s,r):s!==r}function u_({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xf={},Zf=()=>Object.create(Xf),ed=t=>Object.getPrototypeOf(t)===Xf;function h_(t,e,n,s=!1){const r={},i=Zf();t.propsDefaults=Object.create(null),td(t,e,r,i);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=s?r:Vf(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function f_(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:a}}=t,l=Ve(r),[c]=t.propsOptions;let h=!1;if((s||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let _=d[p];if(Io(t.emitsOptions,_))continue;const T=e[_];if(c)if(De(i,_))T!==i[_]&&(i[_]=T,h=!0);else{const P=$t(_);r[P]=Oa(c,l,P,T,t,!1)}else T!==i[_]&&(i[_]=T,h=!0)}}}else{td(t,e,r,i)&&(h=!0);let d;for(const p in l)(!e||!De(e,p)&&((d=Zn(p))===p||!De(e,d)))&&(c?n&&(n[p]!==void 0||n[d]!==void 0)&&(r[p]=Oa(c,l,p,void 0,t,!0)):delete r[p]);if(i!==l)for(const p in i)(!e||!De(e,p))&&(delete i[p],h=!0)}h&&_n(t.attrs,"set","")}function td(t,e,n,s){const[r,i]=t.propsOptions;let a=!1,l;if(e)for(let c in e){if(Pr(c))continue;const h=e[c];let d;r&&De(r,d=$t(c))?!i||!i.includes(d)?n[d]=h:(l||(l={}))[d]=h:Io(t.emitsOptions,c)||(!(c in s)||h!==s[c])&&(s[c]=h,a=!0)}if(i){const c=Ve(n),h=l||Fe;for(let d=0;d<i.length;d++){const p=i[d];n[p]=Oa(r,c,p,h[p],t,!De(h,p))}}return a}function Oa(t,e,n,s,r,i){const a=t[n];if(a!=null){const l=De(a,"default");if(l&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&ye(c)){const{propsDefaults:h}=r;if(n in h)s=h[n];else{const d=li(r);s=h[n]=c.call(null,e),d()}}else s=c;r.ce&&r.ce._setProp(n,s)}a[0]&&(i&&!l?s=!1:a[1]&&(s===""||s===Zn(n))&&(s=!0))}return s}const d_=new WeakMap;function nd(t,e,n=!1){const s=n?d_:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,a={},l=[];let c=!1;if(!ye(t)){const d=p=>{c=!0;const[_,T]=nd(p,e,!0);ht(a,_),T&&l.push(...T)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!c)return ke(t)&&s.set(t,ks),ks;if(fe(i))for(let d=0;d<i.length;d++){const p=$t(i[d]);du(p)&&(a[p]=Fe)}else if(i)for(const d in i){const p=$t(d);if(du(p)){const _=i[d],T=a[p]=fe(_)||ye(_)?{type:_}:ht({},_),P=T.type;let x=!1,S=!0;if(fe(P))for(let k=0;k<P.length;++k){const O=P[k],j=ye(O)&&O.name;if(j==="Boolean"){x=!0;break}else j==="String"&&(S=!1)}else x=ye(P)&&P.name==="Boolean";T[0]=x,T[1]=S,(x||De(T,"default"))&&l.push(p)}}const h=[a,l];return ke(t)&&s.set(t,h),h}function du(t){return t[0]!=="$"&&!Pr(t)}const Rl=t=>t==="_"||t==="_ctx"||t==="$stable",Sl=t=>fe(t)?t.map(nn):[nn(t)],p_=(t,e,n)=>{if(e._n)return e;const s=Sm((...r)=>Sl(e(...r)),n);return s._c=!1,s},sd=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Rl(r))continue;const i=t[r];if(ye(i))e[r]=p_(r,i,s);else if(i!=null){const a=Sl(i);e[r]=()=>a}}},rd=(t,e)=>{const n=Sl(e);t.slots.default=()=>n},id=(t,e,n)=>{for(const s in e)(n||!Rl(s))&&(t[s]=e[s])},g_=(t,e,n)=>{const s=t.slots=Zf();if(t.vnode.shapeFlag&32){const r=e._;r?(id(s,e,n),n&&df(s,"_",r,!0)):sd(e,s)}else e&&rd(t,e)},m_=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,a=Fe;if(s.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:id(r,e,n):(i=!e.$stable,sd(e,r)),a=e}else e&&(rd(t,e),a={default:1});if(i)for(const l in r)!Rl(l)&&a[l]==null&&delete r[l]},xt=A_;function __(t){return y_(t)}function y_(t,e){const n=yo();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:a,createText:l,createComment:c,setText:h,setElementText:d,parentNode:p,nextSibling:_,setScopeId:T=sn,insertStaticContent:P}=t,x=(I,w,C,M=null,U=null,F=null,W=void 0,z=null,q=!!w.dynamicChildren)=>{if(I===w)return;I&&!vr(I,w)&&(M=L(I),He(I,U,F,!0),I=null),w.patchFlag===-2&&(q=!1,w.dynamicChildren=null);const{type:H,ref:oe,shapeFlag:Y}=w;switch(H){case bo:S(I,w,C,M);break;case Gn:k(I,w,C,M);break;case la:I==null&&O(w,C,M,W);break;case Pe:R(I,w,C,M,U,F,W,z,q);break;default:Y&1?ue(I,w,C,M,U,F,W,z,q):Y&6?g(I,w,C,M,U,F,W,z,q):(Y&64||Y&128)&&H.process(I,w,C,M,U,F,W,z,q,re)}oe!=null&&U?Dr(oe,I&&I.ref,F,w||I,!w):oe==null&&I&&I.ref!=null&&Dr(I.ref,null,F,I,!0)},S=(I,w,C,M)=>{if(I==null)s(w.el=l(w.children),C,M);else{const U=w.el=I.el;w.children!==I.children&&h(U,w.children)}},k=(I,w,C,M)=>{I==null?s(w.el=c(w.children||""),C,M):w.el=I.el},O=(I,w,C,M)=>{[I.el,I.anchor]=P(I.children,w,C,M,I.el,I.anchor)},j=({el:I,anchor:w},C,M)=>{let U;for(;I&&I!==w;)U=_(I),s(I,C,M),I=U;s(w,C,M)},G=({el:I,anchor:w})=>{let C;for(;I&&I!==w;)C=_(I),r(I),I=C;r(w)},ue=(I,w,C,M,U,F,W,z,q)=>{if(w.type==="svg"?W="svg":w.type==="math"&&(W="mathml"),I==null)D(w,C,M,U,F,W,z,q);else{const H=I.el&&I.el._isVueCE?I.el:null;try{H&&H._beginPatch(),y(I,w,U,F,W,z,q)}finally{H&&H._endPatch()}}},D=(I,w,C,M,U,F,W,z)=>{let q,H;const{props:oe,shapeFlag:Y,transition:ie,dirs:ce}=I;if(q=I.el=a(I.type,F,oe&&oe.is,oe),Y&8?d(q,I.children):Y&16&&v(I.children,q,null,M,U,aa(I,F),W,z),ce&&is(I,null,M,"created"),E(q,I,I.scopeId,W,M),oe){for(const Oe in oe)Oe!=="value"&&!Pr(Oe)&&i(q,Oe,null,oe[Oe],F,M);"value"in oe&&i(q,"value",null,oe.value,F),(H=oe.onVnodeBeforeMount)&&Zt(H,M,I)}ce&&is(I,null,M,"beforeMount");const Ae=v_(U,ie);Ae&&ie.beforeEnter(q),s(q,w,C),((H=oe&&oe.onVnodeMounted)||Ae||ce)&&xt(()=>{H&&Zt(H,M,I),Ae&&ie.enter(q),ce&&is(I,null,M,"mounted")},U)},E=(I,w,C,M,U)=>{if(C&&T(I,C),M)for(let F=0;F<M.length;F++)T(I,M[F]);if(U){let F=U.subTree;if(w===F||cd(F.type)&&(F.ssContent===w||F.ssFallback===w)){const W=U.vnode;E(I,W,W.scopeId,W.slotScopeIds,U.parent)}}},v=(I,w,C,M,U,F,W,z,q=0)=>{for(let H=q;H<I.length;H++){const oe=I[H]=z?mn(I[H]):nn(I[H]);x(null,oe,w,C,M,U,F,W,z)}},y=(I,w,C,M,U,F,W)=>{const z=w.el=I.el;let{patchFlag:q,dynamicChildren:H,dirs:oe}=w;q|=I.patchFlag&16;const Y=I.props||Fe,ie=w.props||Fe;let ce;if(C&&os(C,!1),(ce=ie.onVnodeBeforeUpdate)&&Zt(ce,C,w,I),oe&&is(w,I,C,"beforeUpdate"),C&&os(C,!0),(Y.innerHTML&&ie.innerHTML==null||Y.textContent&&ie.textContent==null)&&d(z,""),H?b(I.dynamicChildren,H,z,C,M,aa(w,U),F):W||me(I,w,z,null,C,M,aa(w,U),F,!1),q>0){if(q&16)A(z,Y,ie,C,U);else if(q&2&&Y.class!==ie.class&&i(z,"class",null,ie.class,U),q&4&&i(z,"style",Y.style,ie.style,U),q&8){const Ae=w.dynamicProps;for(let Oe=0;Oe<Ae.length;Oe++){const Ce=Ae[Oe],gt=Y[Ce],mt=ie[Ce];(mt!==gt||Ce==="value")&&i(z,Ce,gt,mt,U,C)}}q&1&&I.children!==w.children&&d(z,w.children)}else!W&&H==null&&A(z,Y,ie,C,U);((ce=ie.onVnodeUpdated)||oe)&&xt(()=>{ce&&Zt(ce,C,w,I),oe&&is(w,I,C,"updated")},M)},b=(I,w,C,M,U,F,W)=>{for(let z=0;z<w.length;z++){const q=I[z],H=w[z],oe=q.el&&(q.type===Pe||!vr(q,H)||q.shapeFlag&198)?p(q.el):C;x(q,H,oe,null,M,U,F,W,!0)}},A=(I,w,C,M,U)=>{if(w!==C){if(w!==Fe)for(const F in w)!Pr(F)&&!(F in C)&&i(I,F,w[F],null,U,M);for(const F in C){if(Pr(F))continue;const W=C[F],z=w[F];W!==z&&F!=="value"&&i(I,F,z,W,U,M)}"value"in C&&i(I,"value",w.value,C.value,U)}},R=(I,w,C,M,U,F,W,z,q)=>{const H=w.el=I?I.el:l(""),oe=w.anchor=I?I.anchor:l("");let{patchFlag:Y,dynamicChildren:ie,slotScopeIds:ce}=w;ce&&(z=z?z.concat(ce):ce),I==null?(s(H,C,M),s(oe,C,M),v(w.children||[],C,oe,U,F,W,z,q)):Y>0&&Y&64&&ie&&I.dynamicChildren&&I.dynamicChildren.length===ie.length?(b(I.dynamicChildren,ie,C,U,F,W,z),(w.key!=null||U&&w===U.subTree)&&od(I,w,!0)):me(I,w,C,oe,U,F,W,z,q)},g=(I,w,C,M,U,F,W,z,q)=>{w.slotScopeIds=z,I==null?w.shapeFlag&512?U.ctx.activate(w,C,M,W,q):se(w,C,M,U,F,W,q):Ee(I,w,q)},se=(I,w,C,M,U,F,W)=>{const z=I.component=C_(I,M,U);if(qf(I)&&(z.ctx.renderer=re),x_(z,!1,W),z.asyncDep){if(U&&U.registerDep(z,we,W),!I.el){const q=z.subTree=Pt(Gn);k(null,q,w,C),I.placeholder=q.el}}else we(z,I,w,C,U,F,W)},Ee=(I,w,C)=>{const M=w.component=I.component;if(c_(I,w,C))if(M.asyncDep&&!M.asyncResolved){ge(M,w,C);return}else M.next=w,M.update();else w.el=I.el,M.vnode=w},we=(I,w,C,M,U,F,W)=>{const z=()=>{if(I.isMounted){let{next:Y,bu:ie,u:ce,parent:Ae,vnode:Oe}=I;{const kt=ad(I);if(kt){Y&&(Y.el=Oe.el,ge(I,Y,W)),kt.asyncDep.then(()=>{xt(()=>{I.isUnmounted||H()},U)});return}}let Ce=Y,gt;os(I,!1),Y?(Y.el=Oe.el,ge(I,Y,W)):Y=Oe,ie&&Di(ie),(gt=Y.props&&Y.props.onVnodeBeforeUpdate)&&Zt(gt,Ae,Y,Oe),os(I,!0);const mt=hu(I),Ot=I.subTree;I.subTree=mt,x(Ot,mt,p(Ot.el),L(Ot),I,U,F),Y.el=mt.el,Ce===null&&u_(I,mt.el),ce&&xt(ce,U),(gt=Y.props&&Y.props.onVnodeUpdated)&&xt(()=>Zt(gt,Ae,Y,Oe),U)}else{let Y;const{el:ie,props:ce}=w,{bm:Ae,m:Oe,parent:Ce,root:gt,type:mt}=I,Ot=Nr(w);os(I,!1),Ae&&Di(Ae),!Ot&&(Y=ce&&ce.onVnodeBeforeMount)&&Zt(Y,Ce,w),os(I,!0);{gt.ce&&gt.ce._hasShadowRoot()&&gt.ce._injectChildStyle(mt);const kt=I.subTree=hu(I);x(null,kt,C,M,I,U,F),w.el=kt.el}if(Oe&&xt(Oe,U),!Ot&&(Y=ce&&ce.onVnodeMounted)){const kt=w;xt(()=>Zt(Y,Ce,kt),U)}(w.shapeFlag&256||Ce&&Nr(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&I.a&&xt(I.a,U),I.isMounted=!0,w=C=M=null}};I.scope.on();const q=I.effect=new _f(z);I.scope.off();const H=I.update=q.run.bind(q),oe=I.job=q.runIfDirty.bind(q);oe.i=I,oe.id=I.uid,q.scheduler=()=>Il(oe),os(I,!0),H()},ge=(I,w,C)=>{w.component=I;const M=I.vnode.props;I.vnode=w,I.next=null,f_(I,w.props,M,C),m_(I,w.children,C),An(),su(I),Tn()},me=(I,w,C,M,U,F,W,z,q=!1)=>{const H=I&&I.children,oe=I?I.shapeFlag:0,Y=w.children,{patchFlag:ie,shapeFlag:ce}=w;if(ie>0){if(ie&128){Ze(H,Y,C,M,U,F,W,z,q);return}else if(ie&256){de(H,Y,C,M,U,F,W,z,q);return}}ce&8?(oe&16&&pt(H,U,F),Y!==H&&d(C,Y)):oe&16?ce&16?Ze(H,Y,C,M,U,F,W,z,q):pt(H,U,F,!0):(oe&8&&d(C,""),ce&16&&v(Y,C,M,U,F,W,z,q))},de=(I,w,C,M,U,F,W,z,q)=>{I=I||ks,w=w||ks;const H=I.length,oe=w.length,Y=Math.min(H,oe);let ie;for(ie=0;ie<Y;ie++){const ce=w[ie]=q?mn(w[ie]):nn(w[ie]);x(I[ie],ce,C,null,U,F,W,z,q)}H>oe?pt(I,U,F,!0,!1,Y):v(w,C,M,U,F,W,z,q,Y)},Ze=(I,w,C,M,U,F,W,z,q)=>{let H=0;const oe=w.length;let Y=I.length-1,ie=oe-1;for(;H<=Y&&H<=ie;){const ce=I[H],Ae=w[H]=q?mn(w[H]):nn(w[H]);if(vr(ce,Ae))x(ce,Ae,C,null,U,F,W,z,q);else break;H++}for(;H<=Y&&H<=ie;){const ce=I[Y],Ae=w[ie]=q?mn(w[ie]):nn(w[ie]);if(vr(ce,Ae))x(ce,Ae,C,null,U,F,W,z,q);else break;Y--,ie--}if(H>Y){if(H<=ie){const ce=ie+1,Ae=ce<oe?w[ce].el:M;for(;H<=ie;)x(null,w[H]=q?mn(w[H]):nn(w[H]),C,Ae,U,F,W,z,q),H++}}else if(H>ie)for(;H<=Y;)He(I[H],U,F,!0),H++;else{const ce=H,Ae=H,Oe=new Map;for(H=Ae;H<=ie;H++){const lt=w[H]=q?mn(w[H]):nn(w[H]);lt.key!=null&&Oe.set(lt.key,H)}let Ce,gt=0;const mt=ie-Ae+1;let Ot=!1,kt=0;const qt=new Array(mt);for(H=0;H<mt;H++)qt[H]=0;for(H=ce;H<=Y;H++){const lt=I[H];if(gt>=mt){He(lt,U,F,!0);continue}let it;if(lt.key!=null)it=Oe.get(lt.key);else for(Ce=Ae;Ce<=ie;Ce++)if(qt[Ce-Ae]===0&&vr(lt,w[Ce])){it=Ce;break}it===void 0?He(lt,U,F,!0):(qt[it-Ae]=H+1,it>=kt?kt=it:Ot=!0,x(lt,w[it],C,null,U,F,W,z,q),gt++)}const Is=Ot?E_(qt):ks;for(Ce=Is.length-1,H=mt-1;H>=0;H--){const lt=Ae+H,it=w[lt],sr=w[lt+1],es=lt+1<oe?sr.el||ld(sr):M;qt[H]===0?x(null,it,C,es,U,F,W,z,q):Ot&&(Ce<0||H!==Is[Ce]?Ge(it,C,es,2):Ce--)}}},Ge=(I,w,C,M,U=null)=>{const{el:F,type:W,transition:z,children:q,shapeFlag:H}=I;if(H&6){Ge(I.component.subTree,w,C,M);return}if(H&128){I.suspense.move(w,C,M);return}if(H&64){W.move(I,w,C,re);return}if(W===Pe){s(F,w,C);for(let Y=0;Y<q.length;Y++)Ge(q[Y],w,C,M);s(I.anchor,w,C);return}if(W===la){j(I,w,C);return}if(M!==2&&H&1&&z)if(M===0)z.beforeEnter(F),s(F,w,C),xt(()=>z.enter(F),U);else{const{leave:Y,delayLeave:ie,afterLeave:ce}=z,Ae=()=>{I.ctx.isUnmounted?r(F):s(F,w,C)},Oe=()=>{F._isLeaving&&F[Om](!0),Y(F,()=>{Ae(),ce&&ce()})};ie?ie(F,Ae,Oe):Oe()}else s(F,w,C)},He=(I,w,C,M=!1,U=!1)=>{const{type:F,props:W,ref:z,children:q,dynamicChildren:H,shapeFlag:oe,patchFlag:Y,dirs:ie,cacheIndex:ce}=I;if(Y===-2&&(U=!1),z!=null&&(An(),Dr(z,null,C,I,!0),Tn()),ce!=null&&(w.renderCache[ce]=void 0),oe&256){w.ctx.deactivate(I);return}const Ae=oe&1&&ie,Oe=!Nr(I);let Ce;if(Oe&&(Ce=W&&W.onVnodeBeforeUnmount)&&Zt(Ce,w,I),oe&6)dt(I.component,C,M);else{if(oe&128){I.suspense.unmount(C,M);return}Ae&&is(I,null,w,"beforeUnmount"),oe&64?I.type.remove(I,w,C,re,M):H&&!H.hasOnce&&(F!==Pe||Y>0&&Y&64)?pt(H,w,C,!1,!0):(F===Pe&&Y&384||!U&&oe&16)&&pt(q,w,C),M&&Nt(I)}(Oe&&(Ce=W&&W.onVnodeUnmounted)||Ae)&&xt(()=>{Ce&&Zt(Ce,w,I),Ae&&is(I,null,w,"unmounted")},C)},Nt=I=>{const{type:w,el:C,anchor:M,transition:U}=I;if(w===Pe){bt(C,M);return}if(w===la){G(I);return}const F=()=>{r(C),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(I.shapeFlag&1&&U&&!U.persisted){const{leave:W,delayLeave:z}=U,q=()=>W(C,F);z?z(I.el,F,q):q()}else F()},bt=(I,w)=>{let C;for(;I!==w;)C=_(I),r(I),I=C;r(w)},dt=(I,w,C)=>{const{bum:M,scope:U,job:F,subTree:W,um:z,m:q,a:H}=I;pu(q),pu(H),M&&Di(M),U.stop(),F&&(F.flags|=8,He(W,I,w,C)),z&&xt(z,w),xt(()=>{I.isUnmounted=!0},w)},pt=(I,w,C,M=!1,U=!1,F=0)=>{for(let W=F;W<I.length;W++)He(I[W],w,C,M,U)},L=I=>{if(I.shapeFlag&6)return L(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const w=_(I.anchor||I.el),C=w&&w[Dm];return C?_(C):w};let Z=!1;const J=(I,w,C)=>{let M;I==null?w._vnode&&(He(w._vnode,null,null,!0),M=w._vnode.component):x(w._vnode||null,I,w,null,null,null,C),w._vnode=I,Z||(Z=!0,su(M),Ff(),Z=!1)},re={p:x,um:He,m:Ge,r:Nt,mt:se,mc:v,pc:me,pbc:b,n:L,o:t};return{render:J,hydrate:void 0,createApp:s_(J)}}function aa({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function os({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function v_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function od(t,e,n=!1){const s=t.children,r=e.children;if(fe(s)&&fe(r))for(let i=0;i<s.length;i++){const a=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=mn(r[i]),l.el=a.el),!n&&l.patchFlag!==-2&&od(a,l)),l.type===bo&&(l.patchFlag===-1&&(l=r[i]=mn(l)),l.el=a.el),l.type===Gn&&!l.el&&(l.el=a.el)}}function E_(t){const e=t.slice(),n=[0];let s,r,i,a,l;const c=t.length;for(s=0;s<c;s++){const h=t[s];if(h!==0){if(r=n[n.length-1],t[r]<h){e[s]=r,n.push(s);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,t[n[l]]<h?i=l+1:a=l;h<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function ad(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ad(e)}function pu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function ld(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?ld(e.subTree):null}const cd=t=>t.__isSuspense;function A_(t,e){e&&e.pendingBranch?fe(t)?e.effects.push(...t):e.effects.push(t):Rm(t)}const Pe=Symbol.for("v-fgt"),bo=Symbol.for("v-txt"),Gn=Symbol.for("v-cmt"),la=Symbol.for("v-stc"),kr=[];let Lt=null;function Q(t=!1){kr.push(Lt=t?null:[])}function T_(){kr.pop(),Lt=kr[kr.length-1]||null}let zr=1;function Wi(t,e=!1){zr+=t,t<0&&Lt&&e&&(Lt.hasOnce=!0)}function ud(t){return t.dynamicChildren=zr>0?Lt||ks:null,T_(),zr>0&&Lt&&Lt.push(t),t}function ee(t,e,n,s,r,i){return ud(X(t,e,n,s,r,i,!0))}function Ln(t,e,n,s,r){return ud(Pt(t,e,n,s,r,!0))}function Qi(t){return t?t.__v_isVNode===!0:!1}function vr(t,e){return t.type===e.type&&t.key===e.key}const hd=({key:t})=>t??null,ki=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Xe(t)||It(t)||ye(t)?{i:Ft,r:t,k:e,f:!!n}:t:null);function X(t,e=null,n=null,s=0,r=null,i=t===Pe?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&hd(e),ref:e&&ki(e),scopeId:Bf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ft};return l?(Cl(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Xe(n)?8:16),zr>0&&!a&&Lt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Lt.push(c),c}const Pt=I_;function I_(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Wm)&&(t=Gn),Qi(t)){const l=qs(t,e,!0);return n&&Cl(l,n),zr>0&&!i&&Lt&&(l.shapeFlag&6?Lt[Lt.indexOf(t)]=l:Lt.push(l)),l.patchFlag=-2,l}if(k_(t)&&(t=t.__vccOpts),e){e=b_(e);let{class:l,style:c}=e;l&&!Xe(l)&&(e.class=oi(l)),ke(c)&&(Tl(c)&&!fe(c)&&(c=ht({},c)),e.style=pl(c))}const a=Xe(t)?1:cd(t)?128:Nm(t)?64:ke(t)?4:ye(t)?2:0;return X(t,e,n,s,r,a,i,!0)}function b_(t){return t?Tl(t)||ed(t)?ht({},t):t:null}function qs(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:a,children:l,transition:c}=t,h=e?w_(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&hd(h),ref:e&&e.ref?n&&i?fe(i)?i.concat(ki(e)):[i,ki(e)]:ki(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qs(t.ssContent),ssFallback:t.ssFallback&&qs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&bl(d,c.clone(d)),d}function ps(t=" ",e=0){return Pt(bo,null,t,e)}function Ue(t="",e=!1){return e?(Q(),Ln(Gn,null,t)):Pt(Gn,null,t)}function nn(t){return t==null||typeof t=="boolean"?Pt(Gn):fe(t)?Pt(Pe,null,t.slice()):Qi(t)?mn(t):Pt(bo,null,String(t))}function mn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qs(t)}function Cl(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(fe(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Cl(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!ed(e)?e._ctx=Ft:r===3&&Ft&&(Ft.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:Ft},n=32):(e=String(e),s&64?(n=16,e=[ps(e)]):n=8);t.children=e,t.shapeFlag|=n}function w_(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=oi([e.class,s.class]));else if(r==="style")e.style=pl([e.style,s.style]);else if(go(r)){const i=e[r],a=s[r];a&&i!==a&&!(fe(i)&&i.includes(a))&&(e[r]=i?[].concat(i,a):a)}else r!==""&&(e[r]=s[r])}return e}function Zt(t,e,n,s=null){cn(t,e,7,[n,s])}const R_=Qf();let S_=0;function C_(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||R_,i={uid:S_++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Jg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nd(s,r),emitsOptions:Jf(s,r),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:s.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=i_.bind(null,i),t.ce&&t.ce(i),i}let At=null;const P_=()=>At||Ft;let Ji,ka;{const t=yo(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};Ji=e("__VUE_INSTANCE_SETTERS__",n=>At=n),ka=e("__VUE_SSR_SETTERS__",n=>Gr=n)}const li=t=>{const e=At;return Ji(t),t.scope.on(),()=>{t.scope.off(),Ji(e)}},gu=()=>{At&&At.scope.off(),Ji(null)};function fd(t){return t.vnode.shapeFlag&4}let Gr=!1;function x_(t,e=!1,n=!1){e&&ka(e);const{props:s,children:r}=t.vnode,i=fd(t);h_(t,s,i,e),g_(t,r,n||e);const a=i?V_(t,e):void 0;return e&&ka(!1),a}function V_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Jm);const{setup:s}=n;if(s){An();const r=t.setupContext=s.length>1?N_(t):null,i=li(t),a=ai(s,t,0,[t.props,r]),l=uf(a);if(Tn(),i(),(l||t.sp)&&!Nr(t)&&$f(t),l){if(a.then(gu,gu),e)return a.then(c=>{mu(t,c)}).catch(c=>{Ao(c,t,0)});t.asyncDep=a}else mu(t,a)}else dd(t)}function mu(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ke(e)&&(t.setupState=Nf(e)),dd(t)}function dd(t,e,n){const s=t.type;t.render||(t.render=s.render||sn);{const r=li(t);An();try{Ym(t)}finally{Tn(),r()}}}const D_={get(t,e){return vt(t,"get",""),t[e]}};function N_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,D_),slots:t.slots,emit:t.emit,expose:e}}function wo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Nf(mm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Or)return Or[n](t)},has(e,n){return n in e||n in Or}})):t.proxy}function O_(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function k_(t){return ye(t)&&"__vccOpts"in t}const $e=(t,e)=>Am(t,e,Gr);function pd(t,e,n){try{Wi(-1);const s=arguments.length;return s===2?ke(e)&&!fe(e)?Qi(e)?Pt(t,null,[e]):Pt(t,e):Pt(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Qi(n)&&(n=[n]),Pt(t,e,n))}finally{Wi(1)}}const M_="3.5.28";let Ma;const _u=typeof window<"u"&&window.trustedTypes;if(_u)try{Ma=_u.createPolicy("vue",{createHTML:t=>t})}catch{}const gd=Ma?t=>Ma.createHTML(t):t=>t,F_="http://www.w3.org/2000/svg",L_="http://www.w3.org/1998/Math/MathML",gn=typeof document<"u"?document:null,yu=gn&&gn.createElement("template"),B_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?gn.createElementNS(F_,t):e==="mathml"?gn.createElementNS(L_,t):n?gn.createElement(t,{is:n}):gn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>gn.createTextNode(t),createComment:t=>gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const a=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{yu.innerHTML=gd(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=yu.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},U_=Symbol("_vtc");function j_(t,e,n){const s=t[U_];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const vu=Symbol("_vod"),H_=Symbol("_vsh"),$_=Symbol(""),q_=/(?:^|;)\s*display\s*:/;function z_(t,e,n){const s=t.style,r=Xe(n);let i=!1;if(n&&!r){if(e)if(Xe(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Mi(s,l,"")}else for(const a in e)n[a]==null&&Mi(s,a,"");for(const a in n)a==="display"&&(i=!0),Mi(s,a,n[a])}else if(r){if(e!==n){const a=s[$_];a&&(n+=";"+a),s.cssText=n,i=q_.test(n)}}else e&&t.removeAttribute("style");vu in t&&(t[vu]=i?s.display:"",t[H_]&&(s.display="none"))}const Eu=/\s*!important$/;function Mi(t,e,n){if(fe(n))n.forEach(s=>Mi(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=G_(t,e);Eu.test(n)?t.setProperty(Zn(s),n.replace(Eu,""),"important"):t[s]=n}}const Au=["Webkit","Moz","ms"],ca={};function G_(t,e){const n=ca[e];if(n)return n;let s=$t(e);if(s!=="filter"&&s in t)return ca[e]=s;s=_o(s);for(let r=0;r<Au.length;r++){const i=Au[r]+s;if(i in t)return ca[e]=i}return e}const Tu="http://www.w3.org/1999/xlink";function Iu(t,e,n,s,r,i=Wg(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Tu,e.slice(6,e.length)):t.setAttributeNS(Tu,e,n):n==null||i&&!pf(n)?t.removeAttribute(e):t.setAttribute(e,i?"":ln(n)?String(n):n)}function bu(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?gd(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=pf(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(r||e)}function Ps(t,e,n,s){t.addEventListener(e,n,s)}function K_(t,e,n,s){t.removeEventListener(e,n,s)}const wu=Symbol("_vei");function W_(t,e,n,s,r=null){const i=t[wu]||(t[wu]={}),a=i[e];if(s&&a)a.value=s;else{const[l,c]=Q_(e);if(s){const h=i[e]=X_(s,r);Ps(t,l,h,c)}else a&&(K_(t,l,a,c),i[e]=void 0)}}const Ru=/(?:Once|Passive|Capture)$/;function Q_(t){let e;if(Ru.test(t)){e={};let s;for(;s=t.match(Ru);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zn(t.slice(2)),e]}let ua=0;const J_=Promise.resolve(),Y_=()=>ua||(J_.then(()=>ua=0),ua=Date.now());function X_(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;cn(Z_(s,n.value),e,5,[s])};return n.value=t,n.attached=Y_(),n}function Z_(t,e){if(fe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Su=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ey=(t,e,n,s,r,i)=>{const a=r==="svg";e==="class"?j_(t,s,a):e==="style"?z_(t,n,s):go(e)?ul(e)||W_(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ty(t,e,s,a))?(bu(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Iu(t,e,s,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Xe(s))?bu(t,$t(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Iu(t,e,s,a))};function ty(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Su(e)&&ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Su(e)&&Xe(n)?!1:e in t}const Cu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return fe(e)?n=>Di(e,n):e};function ny(t){t.target.composing=!0}function Pu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ha=Symbol("_assign");function xu(t,e,n){return e&&(t=t.trim()),n&&(t=dl(t)),t}const sy={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[ha]=Cu(r);const i=s||r.props&&r.props.type==="number";Ps(t,e?"change":"input",a=>{a.target.composing||t[ha](xu(t.value,n,i))}),(n||i)&&Ps(t,"change",()=>{t.value=xu(t.value,n,i)}),e||(Ps(t,"compositionstart",ny),Ps(t,"compositionend",Pu),Ps(t,"change",Pu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},a){if(t[ha]=Cu(a),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?dl(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===c)||(t.value=c))}},ry=["ctrl","shift","alt","meta"],iy={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ry.some(n=>t[`${n}Key`]&&!e.includes(n))},oy=(t,e)=>{if(!t)return t;const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let a=0;a<e.length;a++){const l=iy[e[a]];if(l&&l(r,e))return}return t(r,...i)}))},ay={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ly=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=(r=>{if(!("key"in r))return;const i=Zn(r.key);if(e.some(a=>a===i||ay[a]===i))return t(r)}))},cy=ht({patchProp:ey},B_);let Vu;function uy(){return Vu||(Vu=__(cy))}const hy=((...t)=>{const e=uy().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=dy(s);if(!r)return;const i=e._component;!ye(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,fy(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e});function fy(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function dy(t){return Xe(t)?document.querySelector(t):t}const ys=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},py={};function gy(t,e){const n=Km("router-view");return Q(),Ln(n)}const my=ys(py,[["render",gy]]);const xs=typeof document<"u";function md(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function _y(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&md(t.default)}const xe=Object.assign;function fa(t,e){const n={};for(const s in e){const r=e[s];n[s]=Jt(r)?r.map(t):t(r)}return n}const Mr=()=>{},Jt=Array.isArray;function Du(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const _d=/#/g,yy=/&/g,vy=/\//g,Ey=/=/g,Ay=/\?/g,yd=/\+/g,Ty=/%5B/g,Iy=/%5D/g,vd=/%5E/g,by=/%60/g,Ed=/%7B/g,wy=/%7C/g,Ad=/%7D/g,Ry=/%20/g;function Pl(t){return t==null?"":encodeURI(""+t).replace(wy,"|").replace(Ty,"[").replace(Iy,"]")}function Sy(t){return Pl(t).replace(Ed,"{").replace(Ad,"}").replace(vd,"^")}function Fa(t){return Pl(t).replace(yd,"%2B").replace(Ry,"+").replace(_d,"%23").replace(yy,"%26").replace(by,"`").replace(Ed,"{").replace(Ad,"}").replace(vd,"^")}function Cy(t){return Fa(t).replace(Ey,"%3D")}function Py(t){return Pl(t).replace(_d,"%23").replace(Ay,"%3F")}function xy(t){return Py(t).replace(vy,"%2F")}function Kr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Vy=/\/$/,Dy=t=>t.replace(Vy,"");function da(t,e,n="/"){let s,r={},i="",a="";const l=e.indexOf("#");let c=e.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(s=e.slice(0,c),i=e.slice(c,l>0?l:e.length),r=t(i.slice(1))),l>=0&&(s=s||e.slice(0,l),a=e.slice(l,e.length)),s=My(s??e,n),{fullPath:s+i+a,path:s,query:r,hash:Kr(a)}}function Ny(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Nu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Oy(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&zs(e.matched[s],n.matched[r])&&Td(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function zs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Td(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!ky(t[n],e[n]))return!1;return!0}function ky(t,e){return Jt(t)?Ou(t,e):Jt(e)?Ou(e,t):t?.valueOf()===e?.valueOf()}function Ou(t,e){return Jt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function My(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,a,l;for(a=0;a<s.length;a++)if(l=s[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(a).join("/")}const On={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let La=(function(t){return t.pop="pop",t.push="push",t})({}),pa=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Fy(t){if(!t)if(xs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Dy(t)}const Ly=/^[^#]+#/;function By(t,e){return t.replace(Ly,"#")+e}function Uy(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ro=()=>({left:window.scrollX,top:window.scrollY});function jy(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Uy(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ku(t,e){return(history.state?history.state.position-e:-1)+t}const Ba=new Map;function Hy(t,e){Ba.set(t,e)}function $y(t){const e=Ba.get(t);return Ba.delete(t),e}function qy(t){return typeof t=="string"||t&&typeof t=="object"}function Id(t){return typeof t=="string"||typeof t=="symbol"}let We=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const bd=Symbol("");We.MATCHER_NOT_FOUND+"",We.NAVIGATION_GUARD_REDIRECT+"",We.NAVIGATION_ABORTED+"",We.NAVIGATION_CANCELLED+"",We.NAVIGATION_DUPLICATED+"";function Gs(t,e){return xe(new Error,{type:t,[bd]:!0},e)}function dn(t,e){return t instanceof Error&&bd in t&&(e==null||!!(t.type&e))}const zy=["params","query","hash"];function Gy(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of zy)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function Ky(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(yd," "),i=r.indexOf("="),a=Kr(i<0?r:r.slice(0,i)),l=i<0?null:Kr(r.slice(i+1));if(a in e){let c=e[a];Jt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Mu(t){let e="";for(let n in t){const s=t[n];if(n=Cy(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Jt(s)?s.map(r=>r&&Fa(r)):[s&&Fa(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function Wy(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Jt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Qy=Symbol(""),Fu=Symbol(""),xl=Symbol(""),wd=Symbol(""),Ua=Symbol("");function Er(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Fn(t,e,n,s,r,i=a=>a()){const a=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,c)=>{const h=_=>{_===!1?c(Gs(We.NAVIGATION_ABORTED,{from:n,to:e})):_ instanceof Error?c(_):qy(_)?c(Gs(We.NAVIGATION_GUARD_REDIRECT,{from:e,to:_})):(a&&s.enterCallbacks[r]===a&&typeof _=="function"&&a.push(_),l())},d=i(()=>t.call(s&&s.instances[r],e,n,h));let p=Promise.resolve(d);t.length<3&&(p=p.then(h)),p.catch(_=>c(_))})}function ga(t,e,n,s,r=i=>i()){const i=[];for(const a of t)for(const l in a.components){let c=a.components[l];if(!(e!=="beforeRouteEnter"&&!a.instances[l]))if(md(c)){const h=(c.__vccOpts||c)[e];h&&i.push(Fn(h,n,s,a,l,r))}else{let h=c();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=_y(d)?d.default:d;a.mods[l]=d,a.components[l]=p;const _=(p.__vccOpts||p)[e];return _&&Fn(_,n,s,a,l,r)()}))}}return i}function Jy(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let a=0;a<i;a++){const l=e.matched[a];l&&(t.matched.find(h=>zs(h,l))?s.push(l):n.push(l));const c=t.matched[a];c&&(e.matched.find(h=>zs(h,c))||r.push(c))}return[n,s,r]}let Yy=()=>location.protocol+"//"+location.host;function Rd(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Nu(l,"")}return Nu(n,t)+s+r}function Xy(t,e,n,s){let r=[],i=[],a=null;const l=({state:_})=>{const T=Rd(t,location),P=n.value,x=e.value;let S=0;if(_){if(n.value=T,e.value=_,a&&a===P){a=null;return}S=x?_.position-x.position:0}else s(T);r.forEach(k=>{k(n.value,P,{delta:S,type:La.pop,direction:S?S>0?pa.forward:pa.back:pa.unknown})})};function c(){a=n.value}function h(_){r.push(_);const T=()=>{const P=r.indexOf(_);P>-1&&r.splice(P,1)};return i.push(T),T}function d(){if(document.visibilityState==="hidden"){const{history:_}=window;if(!_.state)return;_.replaceState(xe({},_.state,{scroll:Ro()}),"")}}function p(){for(const _ of i)_();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:c,listen:h,destroy:p}}function Lu(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Ro():null}}function Zy(t){const{history:e,location:n}=window,s={value:Rd(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,h,d){const p=t.indexOf("#"),_=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+c:Yy()+t+c;try{e[d?"replaceState":"pushState"](h,"",_),r.value=h}catch(T){console.error(T),n[d?"replace":"assign"](_)}}function a(c,h){i(c,xe({},e.state,Lu(r.value.back,c,r.value.forward,!0),h,{position:r.value.position}),!0),s.value=c}function l(c,h){const d=xe({},r.value,e.state,{forward:c,scroll:Ro()});i(d.current,d,!0),i(c,xe({},Lu(s.value,c,null),{position:d.position+1},h),!1),s.value=c}return{location:s,state:r,push:l,replace:a}}function e0(t){t=Fy(t);const e=Zy(t),n=Xy(t,e.state,e.location,e.replace);function s(i,a=!0){a||n.pauseListeners(),history.go(i)}const r=xe({location:"",base:t,go:s,createHref:By.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let cs=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var tt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(tt||{});const t0={type:cs.Static,value:""},n0=/[a-zA-Z0-9_]/;function s0(t){if(!t)return[[]];if(t==="/")return[[t0]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(T){throw new Error(`ERR (${n})/"${h}": ${T}`)}let n=tt.Static,s=n;const r=[];let i;function a(){i&&r.push(i),i=[]}let l=0,c,h="",d="";function p(){h&&(n===tt.Static?i.push({type:cs.Static,value:h}):n===tt.Param||n===tt.ParamRegExp||n===tt.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:cs.Param,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),h="")}function _(){h+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==tt.ParamRegExp){s=n,n=tt.EscapeNext;continue}switch(n){case tt.Static:c==="/"?(h&&p(),a()):c===":"?(p(),n=tt.Param):_();break;case tt.EscapeNext:_(),n=s;break;case tt.Param:c==="("?n=tt.ParamRegExp:n0.test(c)?_():(p(),n=tt.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case tt.ParamRegExp:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=tt.ParamRegExpEnd:d+=c;break;case tt.ParamRegExpEnd:p(),n=tt.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:e("Unknown state");break}}return n===tt.ParamRegExp&&e(`Unfinished custom RegExp for param "${h}"`),p(),a(),r}const Bu="[^/]+?",r0={sensitive:!1,strict:!1,start:!0,end:!0};var St=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(St||{});const i0=/[.+*?^${}()[\]/\\]/g;function o0(t,e){const n=xe({},r0,e),s=[];let r=n.start?"^":"";const i=[];for(const h of t){const d=h.length?[]:[St.Root];n.strict&&!h.length&&(r+="/");for(let p=0;p<h.length;p++){const _=h[p];let T=St.Segment+(n.sensitive?St.BonusCaseSensitive:0);if(_.type===cs.Static)p||(r+="/"),r+=_.value.replace(i0,"\\$&"),T+=St.Static;else if(_.type===cs.Param){const{value:P,repeatable:x,optional:S,regexp:k}=_;i.push({name:P,repeatable:x,optional:S});const O=k||Bu;if(O!==Bu){T+=St.BonusCustomRegExp;try{`${O}`}catch(G){throw new Error(`Invalid custom RegExp for param "${P}" (${O}): `+G.message)}}let j=x?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;p||(j=S&&h.length<2?`(?:/${j})`:"/"+j),S&&(j+="?"),r+=j,T+=St.Dynamic,S&&(T+=St.BonusOptional),x&&(T+=St.BonusRepeatable),O===".*"&&(T+=St.BonusWildcard)}d.push(T)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=St.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function l(h){const d=h.match(a),p={};if(!d)return null;for(let _=1;_<d.length;_++){const T=d[_]||"",P=i[_-1];p[P.name]=T&&P.repeatable?T.split("/"):T}return p}function c(h){let d="",p=!1;for(const _ of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const T of _)if(T.type===cs.Static)d+=T.value;else if(T.type===cs.Param){const{value:P,repeatable:x,optional:S}=T,k=P in h?h[P]:"";if(Jt(k)&&!x)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const O=Jt(k)?k.join("/"):k;if(!O)if(S)_.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${P}"`);d+=O}}return d||"/"}return{re:a,score:s,keys:i,parse:l,stringify:c}}function a0(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===St.Static+St.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===St.Static+St.Segment?1:-1:0}function Sd(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=a0(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Uu(s))return 1;if(Uu(r))return-1}return r.length-s.length}function Uu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const l0={strict:!1,end:!0,sensitive:!1};function c0(t,e,n){const s=o0(s0(t.path),n),r=xe(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function u0(t,e){const n=[],s=new Map;e=Du(l0,e);function r(p){return s.get(p)}function i(p,_,T){const P=!T,x=Hu(p);x.aliasOf=T&&T.record;const S=Du(e,p),k=[x];if("alias"in p){const G=typeof p.alias=="string"?[p.alias]:p.alias;for(const ue of G)k.push(Hu(xe({},x,{components:T?T.record.components:x.components,path:ue,aliasOf:T?T.record:x})))}let O,j;for(const G of k){const{path:ue}=G;if(_&&ue[0]!=="/"){const D=_.record.path,E=D[D.length-1]==="/"?"":"/";G.path=_.record.path+(ue&&E+ue)}if(O=c0(G,_,S),T?T.alias.push(O):(j=j||O,j!==O&&j.alias.push(O),P&&p.name&&!$u(O)&&a(p.name)),Cd(O)&&c(O),x.children){const D=x.children;for(let E=0;E<D.length;E++)i(D[E],O,T&&T.children[E])}T=T||O}return j?()=>{a(j)}:Mr}function a(p){if(Id(p)){const _=s.get(p);_&&(s.delete(p),n.splice(n.indexOf(_),1),_.children.forEach(a),_.alias.forEach(a))}else{const _=n.indexOf(p);_>-1&&(n.splice(_,1),p.record.name&&s.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function c(p){const _=d0(p,n);n.splice(_,0,p),p.record.name&&!$u(p)&&s.set(p.record.name,p)}function h(p,_){let T,P={},x,S;if("name"in p&&p.name){if(T=s.get(p.name),!T)throw Gs(We.MATCHER_NOT_FOUND,{location:p});S=T.record.name,P=xe(ju(_.params,T.keys.filter(j=>!j.optional).concat(T.parent?T.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),p.params&&ju(p.params,T.keys.map(j=>j.name))),x=T.stringify(P)}else if(p.path!=null)x=p.path,T=n.find(j=>j.re.test(x)),T&&(P=T.parse(x),S=T.record.name);else{if(T=_.name?s.get(_.name):n.find(j=>j.re.test(_.path)),!T)throw Gs(We.MATCHER_NOT_FOUND,{location:p,currentLocation:_});S=T.record.name,P=xe({},_.params,p.params),x=T.stringify(P)}const k=[];let O=T;for(;O;)k.unshift(O.record),O=O.parent;return{name:S,path:x,params:P,matched:k,meta:f0(k)}}t.forEach(p=>i(p));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:d,getRoutes:l,getRecordMatcher:r}}function ju(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Hu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:h0(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function h0(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function $u(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function f0(t){return t.reduce((e,n)=>xe(e,n.meta),{})}function d0(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;Sd(t,e[i])<0?s=i:n=i+1}const r=p0(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function p0(t){let e=t;for(;e=e.parent;)if(Cd(e)&&Sd(t,e)===0)return e}function Cd({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function qu(t){const e=vn(xl),n=vn(wd),s=$e(()=>{const c=jt(t.to);return e.resolve(c)}),r=$e(()=>{const{matched:c}=s.value,{length:h}=c,d=c[h-1],p=n.matched;if(!d||!p.length)return-1;const _=p.findIndex(zs.bind(null,d));if(_>-1)return _;const T=zu(c[h-2]);return h>1&&zu(d)===T&&p[p.length-1].path!==T?p.findIndex(zs.bind(null,c[h-2])):_}),i=$e(()=>r.value>-1&&v0(n.params,s.value.params)),a=$e(()=>r.value>-1&&r.value===n.matched.length-1&&Td(n.params,s.value.params));function l(c={}){if(y0(c)){const h=e[jt(t.replace)?"replace":"push"](jt(t.to)).catch(Mr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:$e(()=>s.value.href),isActive:i,isExactActive:a,navigate:l}}function g0(t){return t.length===1?t[0]:t}const m0=Hf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:qu,setup(t,{slots:e}){const n=Eo(qu(t)),{options:s}=vn(xl),r=$e(()=>({[Gu(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Gu(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&g0(e.default(n));return t.custom?i:pd("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),_0=m0;function y0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function v0(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Jt(r)||r.length!==s.length||s.some((i,a)=>i.valueOf()!==r[a].valueOf()))return!1}return!0}function zu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Gu=(t,e,n)=>t??e??n,E0=Hf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=vn(Ua),r=$e(()=>t.route||s.value),i=vn(Fu,0),a=$e(()=>{let h=jt(i);const{matched:d}=r.value;let p;for(;(p=d[h])&&!p.components;)h++;return h}),l=$e(()=>r.value.matched[a.value]);Ni(Fu,$e(()=>a.value+1)),Ni(Qy,l),Ni(Ua,r);const c=zt();return Oi(()=>[c.value,l.value,t.name],([h,d,p],[_,T,P])=>{d&&(d.instances[p]=h,T&&T!==d&&h&&h===_&&(d.leaveGuards.size||(d.leaveGuards=T.leaveGuards),d.updateGuards.size||(d.updateGuards=T.updateGuards))),h&&d&&(!T||!zs(d,T)||!_)&&(d.enterCallbacks[p]||[]).forEach(x=>x(h))},{flush:"post"}),()=>{const h=r.value,d=t.name,p=l.value,_=p&&p.components[d];if(!_)return Ku(n.default,{Component:_,route:h});const T=p.props[d],P=T?T===!0?h.params:typeof T=="function"?T(h):T:null,S=pd(_,xe({},P,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(p.instances[d]=null)},ref:c}));return Ku(n.default,{Component:S,route:h})||S}}});function Ku(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const A0=E0;function T0(t){const e=u0(t.routes,t),n=t.parseQuery||Ky,s=t.stringifyQuery||Mu,r=t.history,i=Er(),a=Er(),l=Er(),c=_m(On);let h=On;xs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=fa.bind(null,L=>""+L),p=fa.bind(null,xy),_=fa.bind(null,Kr);function T(L,Z){let J,re;return Id(L)?(J=e.getRecordMatcher(L),re=Z):re=L,e.addRoute(re,J)}function P(L){const Z=e.getRecordMatcher(L);Z&&e.removeRoute(Z)}function x(){return e.getRoutes().map(L=>L.record)}function S(L){return!!e.getRecordMatcher(L)}function k(L,Z){if(Z=xe({},Z||c.value),typeof L=="string"){const C=da(n,L,Z.path),M=e.resolve({path:C.path},Z),U=r.createHref(C.fullPath);return xe(C,M,{params:_(M.params),hash:Kr(C.hash),redirectedFrom:void 0,href:U})}let J;if(L.path!=null)J=xe({},L,{path:da(n,L.path,Z.path).path});else{const C=xe({},L.params);for(const M in C)C[M]==null&&delete C[M];J=xe({},L,{params:p(C)}),Z.params=p(Z.params)}const re=e.resolve(J,Z),Te=L.hash||"";re.params=d(_(re.params));const I=Ny(s,xe({},L,{hash:Sy(Te),path:re.path})),w=r.createHref(I);return xe({fullPath:I,hash:Te,query:s===Mu?Wy(L.query):L.query||{}},re,{redirectedFrom:void 0,href:w})}function O(L){return typeof L=="string"?da(n,L,c.value.path):xe({},L)}function j(L,Z){if(h!==L)return Gs(We.NAVIGATION_CANCELLED,{from:Z,to:L})}function G(L){return E(L)}function ue(L){return G(xe(O(L),{replace:!0}))}function D(L,Z){const J=L.matched[L.matched.length-1];if(J&&J.redirect){const{redirect:re}=J;let Te=typeof re=="function"?re(L,Z):re;return typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=O(Te):{path:Te},Te.params={}),xe({query:L.query,hash:L.hash,params:Te.path!=null?{}:L.params},Te)}}function E(L,Z){const J=h=k(L),re=c.value,Te=L.state,I=L.force,w=L.replace===!0,C=D(J,re);if(C)return E(xe(O(C),{state:typeof C=="object"?xe({},Te,C.state):Te,force:I,replace:w}),Z||J);const M=J;M.redirectedFrom=Z;let U;return!I&&Oy(s,re,J)&&(U=Gs(We.NAVIGATION_DUPLICATED,{to:M,from:re}),Ge(re,re,!0,!1)),(U?Promise.resolve(U):b(M,re)).catch(F=>dn(F)?dn(F,We.NAVIGATION_GUARD_REDIRECT)?F:Ze(F):me(F,M,re)).then(F=>{if(F){if(dn(F,We.NAVIGATION_GUARD_REDIRECT))return E(xe({replace:w},O(F.to),{state:typeof F.to=="object"?xe({},Te,F.to.state):Te,force:I}),Z||M)}else F=R(M,re,!0,w,Te);return A(M,re,F),F})}function v(L,Z){const J=j(L,Z);return J?Promise.reject(J):Promise.resolve()}function y(L){const Z=bt.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(L):L()}function b(L,Z){let J;const[re,Te,I]=Jy(L,Z);J=ga(re.reverse(),"beforeRouteLeave",L,Z);for(const C of re)C.leaveGuards.forEach(M=>{J.push(Fn(M,L,Z))});const w=v.bind(null,L,Z);return J.push(w),pt(J).then(()=>{J=[];for(const C of i.list())J.push(Fn(C,L,Z));return J.push(w),pt(J)}).then(()=>{J=ga(Te,"beforeRouteUpdate",L,Z);for(const C of Te)C.updateGuards.forEach(M=>{J.push(Fn(M,L,Z))});return J.push(w),pt(J)}).then(()=>{J=[];for(const C of I)if(C.beforeEnter)if(Jt(C.beforeEnter))for(const M of C.beforeEnter)J.push(Fn(M,L,Z));else J.push(Fn(C.beforeEnter,L,Z));return J.push(w),pt(J)}).then(()=>(L.matched.forEach(C=>C.enterCallbacks={}),J=ga(I,"beforeRouteEnter",L,Z,y),J.push(w),pt(J))).then(()=>{J=[];for(const C of a.list())J.push(Fn(C,L,Z));return J.push(w),pt(J)}).catch(C=>dn(C,We.NAVIGATION_CANCELLED)?C:Promise.reject(C))}function A(L,Z,J){l.list().forEach(re=>y(()=>re(L,Z,J)))}function R(L,Z,J,re,Te){const I=j(L,Z);if(I)return I;const w=Z===On,C=xs?history.state:{};J&&(re||w?r.replace(L.fullPath,xe({scroll:w&&C&&C.scroll},Te)):r.push(L.fullPath,Te)),c.value=L,Ge(L,Z,J,w),Ze()}let g;function se(){g||(g=r.listen((L,Z,J)=>{if(!dt.listening)return;const re=k(L),Te=D(re,dt.currentRoute.value);if(Te){E(xe(Te,{replace:!0,force:!0}),re).catch(Mr);return}h=re;const I=c.value;xs&&Hy(ku(I.fullPath,J.delta),Ro()),b(re,I).catch(w=>dn(w,We.NAVIGATION_ABORTED|We.NAVIGATION_CANCELLED)?w:dn(w,We.NAVIGATION_GUARD_REDIRECT)?(E(xe(O(w.to),{force:!0}),re).then(C=>{dn(C,We.NAVIGATION_ABORTED|We.NAVIGATION_DUPLICATED)&&!J.delta&&J.type===La.pop&&r.go(-1,!1)}).catch(Mr),Promise.reject()):(J.delta&&r.go(-J.delta,!1),me(w,re,I))).then(w=>{w=w||R(re,I,!1),w&&(J.delta&&!dn(w,We.NAVIGATION_CANCELLED)?r.go(-J.delta,!1):J.type===La.pop&&dn(w,We.NAVIGATION_ABORTED|We.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),A(re,I,w)}).catch(Mr)}))}let Ee=Er(),we=Er(),ge;function me(L,Z,J){Ze(L);const re=we.list();return re.length?re.forEach(Te=>Te(L,Z,J)):console.error(L),Promise.reject(L)}function de(){return ge&&c.value!==On?Promise.resolve():new Promise((L,Z)=>{Ee.add([L,Z])})}function Ze(L){return ge||(ge=!L,se(),Ee.list().forEach(([Z,J])=>L?J(L):Z()),Ee.reset()),L}function Ge(L,Z,J,re){const{scrollBehavior:Te}=t;if(!xs||!Te)return Promise.resolve();const I=!J&&$y(ku(L.fullPath,0))||(re||!J)&&history.state&&history.state.scroll||null;return kf().then(()=>Te(L,Z,I)).then(w=>w&&jy(w)).catch(w=>me(w,L,Z))}const He=L=>r.go(L);let Nt;const bt=new Set,dt={currentRoute:c,listening:!0,addRoute:T,removeRoute:P,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:x,resolve:k,options:t,push:G,replace:ue,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:we.add,isReady:de,install(L){L.component("RouterLink",_0),L.component("RouterView",A0),L.config.globalProperties.$router=dt,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>jt(c)}),xs&&!Nt&&c.value===On&&(Nt=!0,G(r.location).catch(re=>{}));const Z={};for(const re in On)Object.defineProperty(Z,re,{get:()=>c.value[re],enumerable:!0});L.provide(xl,dt),L.provide(wd,Vf(Z)),L.provide(Ua,c);const J=L.unmount;bt.add(L),L.unmount=function(){bt.delete(L),bt.size<1&&(h=On,g&&g(),g=null,c.value=On,Nt=!1,ge=!1),J()}}};function pt(L){return L.reduce((Z,J)=>Z.then(()=>y(J)),Promise.resolve())}return dt}const I0={class:"nav-wrap"},b0={class:"nav-scroll"},w0=["onClick"],R0={class:"nav-icon"},S0={class:"nav-label"},C0={__name:"Nav",props:{categories:Array,activeCategory:String},emits:["navigate"],setup(t){return(e,n)=>(Q(),ee("nav",I0,[X("div",b0,[(Q(!0),ee(Pe,null,Tt(t.categories,s=>(Q(),ee("button",{key:s.id,class:oi(["nav-btn",{active:t.activeCategory===s.id}]),onClick:r=>e.$emit("navigate",s.id)},[X("span",R0,ae(s.icon),1),X("span",S0,ae(s.label),1)],10,w0))),128))])]))}},P0=ys(C0,[["__scopeId","data-v-12592120"]]),x0={__name:"BadgePill",props:{badge:String,badgeLabel:String},setup(t){const e=t,n={popular:{class:"badge-pop",label:" Popular"},new:{class:"badge-new",label:" New"},vegan:{class:"badge-veg",label:" Vegan"},happyhour:{class:"badge-happy",label:""},default:{class:"badge-def",label:""}},s=$e(()=>(n[e.badge]??n.default).class),r=$e(()=>e.badge==="happyhour"?e.badgeLabel:(n[e.badge]??n.default).label||e.badgeLabel||"");return(i,a)=>(Q(),ee("span",{class:oi(["badge",s.value])},ae(r.value),3))}},Vl=ys(x0,[["__scopeId","data-v-01d342f1"]]),V0="/assets/affligem-JcqnytsW.png",D0="/assets/amstel-COyRiy6w.png",N0="/assets/bolognese-DVu6trY3.png",O0="/assets/chocomel-BvrX_F75.png",k0="/assets/chouffe-WTYBoH7z.png",M0="/assets/cola-zero-BZ-tirc3.png",F0="/assets/cola-zero1-CTPeJwR_.png",L0="/assets/cola-B6vrdP_A.png",B0="/assets/cola1-CNY9ucSj.png",U0="/assets/corona-B8EbzUbg.png",j0="/assets/desperados-DtxkUBN5.png",H0="/assets/doritos-5-dwdovN.png",$0="/assets/duvel-DCCAKY4Z.png",q0="/assets/fanta-Deo2Ab0e.png",z0="/assets/ginger-ale-BY_dNOtb.png",G0="/assets/ginger-beer-UT1TOHb0.png",K0="/assets/guinness-CKIp-_Lk.png",W0="/assets/heineken-CqU3L70v.png",Q0="/assets/ipa-DS1EAQQx.png",J0="/assets/juice-dO3QCAR9.png",Y0="/assets/kriek-CJoREIpE.png",X0="/assets/kwak-nO4k3dVH.png",Z0="/assets/leffe-DwBWhLF6.png",ev="/assets/lipton-CSaHhoXB.png",tv="/assets/magners-DLN33eFe.png",nv="/assets/moretti-DP1LtOZu.png",sv="/assets/naturel-BHtcit2J.png",rv="/assets/oedipus-CXSlDj0P.png",iv="/assets/redbull-DlvFL9Oe.png",ov="/assets/rose-DmdePeIn.png",av="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCABQAFADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAABQYABAcCAwH/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAX+QBBIInj5XD4r/AAfTeQkzVYGM0OzZmCQGs8FLC9Md4Z14+F6prN3SMyZ86FFxI6xnULlrUu31D2D9Qb8ClS35Z0cRNfzZOIMu6l8wtcB0JxVI3rek40UpXZrOXCtgX5c/jLwq7aaz8DWSTU//xAAkEAACAgIBAwQDAAAAAAAAAAADBAECAAUTEBESBiAjMxQVIv/aAAgBAQABBQLoRmtMLtBjmd5TI3dcDtAlmhq29jjkVg7dy9OEs24SecxizpAYq3W9cbNxjZNy3xf77T8tbzQhvuxQ/CRQ3IPaH7YPVMlEUJAGrq2Zyijd2RAYOyJQp2ZrNSMqkVJrD/1sbd4hYTWtglTeo2It+U8a8JtnGFPWiMDW7oHG1vJiHULds2Ne0EauRdl2zBL7Llw5yMlM1cyhnSlpZy5Urbi18WtJzbNfyrmvrS2wbM/cO2GSWYHf9zqbzVByvg/mrD8hx+dX1ZXLl5ZNXyaMPuzw1swHoAXJdEHELDAoUbeuItMXnItaI8rZ5Tgl7ExFHt7LDi2MawRJtqaxkaqMDq+0hToPr//EABsRAAICAwEAAAAAAAAAAAAAAAEQABECIEEx/9oACAEDAQE/AVZRDtch0x9146KJuf/EAB4RAAIBBAMBAAAAAAAAAAAAAAABEQIQITESIEFR/9oACAECAQE/AW4IfpCIfgnIsubcbPDkp10q0LGOjy4tP05IlvQlB//EADIQAAEEAAMHAgQFBQAAAAAAAAEAAgMREiEyBBATIjFBUWFxBRQgMyNCQ0RSc4GCkdH/2gAIAQEABj8C3UOYrmkz8MWUDz7lZwvHsVTZM/DslRyP0EB1NHUqm8rFksPDNrDgNqiqdzx+PCHNbT0O6hqcqGkbmjyo3UcIF/8ACnuOki25J27CdDlR1NUh/wAQmSMdDheLFuXCkbT/AB5VF0LHnowvzR2fFglAunPOfsjs7b4gu8TuidBGWF7epvJGN2Tg7CUI5cNkXylR335Sm+ptfD2STcM/lrugHNrhNwtvypuJ9wPNlfDtp/cDNfOQtwy7WAL8J+0QR45ZDTR6Jk1UJRn7qP8Apo+htN9HUtnhoN4GlwTJiwRzM/UaUDPsUMj+zyscpz6AdgodmLKEXQ9yo2tuJkbaAY4puzvGPC7EHk5q37HC4+qkkwgY39ApAOuoboRJVdr8p7dpDw0HuygCi8Ruw8Ic1ZJkuE8P5fVWXRXcv3xobi7KduWvtuj9OYq+4WID8N/T0O7C98j2+C5VxJHMdlWJcPHJwv44skWsfIzzR3WdIWI6nbnNc22nqES23xee4WTj/tUHFaiupVnJqD3tpo0t+mzFn5YspXj3C+48+wWUf93q3czt/wD/xAAnEAEAAgIBBAIBBAMAAAAAAAABABEhMVFBYXGBEJGhILHB0eHw8f/aAAgBAQABPyH4SfW6I8PGrYDHegIl98DCFHj2in6A+0cPsS3Z4zb5gaB6IMmmWjiiYV95AzNgeRigzyN+E/0EfHxm+sHgj22fHd5+LJlLVctIqU11T+w9ywulkCAZXvEtjdYv4WwzU9nmZK6HkiIHUqgiWov4jRo1hnLVcysG1/wWON4JwOabjI6ClU3cE8i2te9Sv3NGhuvqaMV5Co6iiTuGHzUXRl1omfsepRm/phGuIJszj8RQNbjtKzfnH3FC/S5v6iiRbVYvf3EFq1OD/j9pcCGO/LKSHSI/fkZmRaMrKEMcuu0pHcwUv1UeXiUCh4CAg1FdFamJbUg92FEFj05ioCFW7/iIxJcZEKRjZcLpXUaNMS4mHwADxHGc8OmOYjqs8x1jxahzErh4JjsgkNc5/n4VBIqAEdr1a/B8BTDVoxA3rcYvr1AqA08C/qEgK2K8y1VVVyq2sxBy94lbWd7HQ+DjHgWfRAvyf3Nn0oEAg2AzBWDi5/1pvvndsA9YB17v6NRhi6s+tSxz0ASznsIATW80TMV1dHz/AP/aAAwDAQACAAMAAAAQ5ZnV8lPyL+NwYIYVtJ5G/l8Wc//EABoRAQACAwEAAAAAAAAAAAAAAAEAERAhMSD/2gAIAQMBAT8QC5YcwWPYhHRWa2w2id+R2XisGkwalDzFQdYin//EABwRAAMAAgMBAAAAAAAAAAAAAAABERAhIDFRQf/aAAgBAgEBPxBCCZ2xQ2whDYDVUHpBKKGh65VsYpVjQ8DVKXTH8CCEP//EACYQAQABAwMEAgMBAQAAAAAAAAERACExQVFhcYGRoRCxwdHwIOH/2gAIAQEAAT8Q+LdBkXkaLulhaXVMd2pHq/3to6CcO9lGUZgcnSc9mjVywLZ6P+B3W5t1QxhIPHVfir91WAMtR1OIAmFW3umMgmBkGURj3Vy4igMNYf8AFZLdP0+qlUGyYd39b4YLwBM6j+O9Mb7BO9+nwJEohFiHeiP5c7DEk0BgmEsU0DcWFEKSKxDExU6MwFFyOPg4uELjSH5pEnQJ8D+O1NCmMLh1fvxSMkAmJiHPilX0DjijguKVJBB31Aw+ahUM7xZIFIFuBM+Er2mIteStbrooBC83Yxo0bSi/hXG07pjF6ZhikJimUL2pJqylcuj5DzUyOe8f9qFXg8lGjBmlOkdCG9ip0mmcSxhpKHIWRxFBlAEou/QyUO5Ueb67JJdUNqi9vlCNMqIb51kpCzlDTyPLDyrlHNFV24XD/bUpJk+Lf8oahB6kLKJBDDRCGuo6Sog11bKYqGpxBM6knExRReBPOiPvxRz5BpA7kWszQywSwWuEXt2vQi+vEkxeZIUmcNEZ0WuDSWvQtemEHGKSuqANUun2d6AAyN6YGsZtpe5PUKltHIETBhOy7gvR2sqxBTMYMmtBNolNf2szUAXECkqKMrdSHm9R0BAggCB7czSwTWtG2cOh5TxV9a8G5qUyZNBhrr23PGlJMXRERGEdEdHmkHOkFoVywoDmrkQFyYNlOLs2tUrsLKswROjTGlCSImKiyw5g9UpO0mQ6q3WmC8pW7QpRZgHP9D3+IR6lPZs1JWcwx2Jno7xRgjLoprn7aTAxCAuUrvbuxiPq1JXd67pUDKSjon5qzIqC6/wCKp/D2oXCJZk5DPcpXAbtHopg6KyfuoQxvE6D+q1SkDc4P38//9k=",lv="/assets/sb-DnR4GRhq.png",cv="/assets/spa-DDe0potr.png",uv="/assets/sprite-DoUGwMCx.png",hv="/assets/sprite1-C6r6qphp.png",fv="/assets/texel-BURgc4BS.png",dv="/assets/tonic-CF5N_2vA.png";function Dl(t){if(!t)return null;try{return new URL(Object.assign({"../assets/img/affligem.png":V0,"../assets/img/amstel.png":D0,"../assets/img/bolognese.png":N0,"../assets/img/chocomel.png":O0,"../assets/img/chouffe.png":k0,"../assets/img/cola-zero.png":M0,"../assets/img/cola-zero1.png":F0,"../assets/img/cola.png":L0,"../assets/img/cola1.png":B0,"../assets/img/corona.png":U0,"../assets/img/desperados.png":j0,"../assets/img/doritos.png":H0,"../assets/img/duvel.png":$0,"../assets/img/fanta.png":q0,"../assets/img/ginger-ale.png":z0,"../assets/img/ginger-beer.png":G0,"../assets/img/guinness.png":K0,"../assets/img/heineken.png":W0,"../assets/img/ipa.png":Q0,"../assets/img/juice.png":J0,"../assets/img/kriek.png":Y0,"../assets/img/kwak.png":X0,"../assets/img/leffe.png":Z0,"../assets/img/lipton.png":ev,"../assets/img/magners.png":tv,"../assets/img/moretti.png":nv,"../assets/img/naturel.png":sv,"../assets/img/oedipus.png":rv,"../assets/img/redbull.png":iv,"../assets/img/rose.png":ov,"../assets/img/royal-club.png":av,"../assets/img/sb.png":lv,"../assets/img/spa.png":cv,"../assets/img/sprite.png":uv,"../assets/img/sprite1.png":hv,"../assets/img/texel.png":fv,"../assets/img/tonic.png":dv})[`../assets/img/${t}`],import.meta.url).href}catch{return console.warn(`Image not found: ${t}`),null}}const pv={class:"card featured-card"},gv={class:"card-thumb"},mv=["src","alt"],_v={key:1,class:"thumb-icon"},yv={key:2,class:"featured-tag"},vv={class:"card-body"},Ev={class:"item-name"},Av={key:0,class:"item-desc"},Tv={class:"card-bottom"},Iv={key:1,class:"item-price"},bv={key:0,class:"original-price"},wv={class:"featured-price"},Rv={key:2,class:"item-sizes"},Sv={class:"size-label"},Cv={class:"size-prices"},Pv={key:0,class:"original-price"},xv={class:"size-price"},Vv={key:1,class:"item-options"},Dv={class:"options-tags"},Nv={class:"extra-price"},Ov={__name:"FeaturedCard",props:{item:Object},setup(t){const e=t,n=$e(()=>Dl(e.item.img));return(s,r)=>(Q(),ee("div",pv,[X("div",gv,[n.value?(Q(),ee("img",{key:0,src:n.value,alt:t.item.name,class:"thumb-img"},null,8,mv)):(Q(),ee("span",_v,ae(t.item.icon),1)),t.item.featuredTag?(Q(),ee("div",yv,ae(t.item.featuredTag),1)):Ue("",!0)]),X("div",vv,[X("div",Ev,ae(t.item.name),1),t.item.desc?(Q(),ee("div",Av,ae(t.item.desc),1)):Ue("",!0),X("div",Tv,[t.item.badge?(Q(),Ln(Vl,{key:0,badge:t.item.badge,badgeLabel:t.item.badgeLabel},null,8,["badge","badgeLabel"])):Ue("",!0),r[0]||(r[0]=X("div",{class:"spacer"},null,-1)),t.item.price?(Q(),ee("div",Iv,[t.item.originalPrice?(Q(),ee("span",bv,ae(t.item.originalPrice),1)):Ue("",!0),X("span",wv,ae(t.item.price),1)])):Ue("",!0),t.item.sizes?(Q(),ee("div",Rv,[(Q(!0),ee(Pe,null,Tt(t.item.sizes,i=>(Q(),ee("span",{key:i.label,class:"item-size item-price"},[X("span",Sv,ae(i.label),1),X("div",Cv,[i.originalPrice?(Q(),ee("span",Pv,ae(i.originalPrice),1)):Ue("",!0),X("span",xv,ae(i.price),1)])]))),128))])):Ue("",!0)]),t.item.flavors||t.item.extras?(Q(),ee("div",Vv,[r[1]||(r[1]=X("span",{class:"options-label"},"Options:",-1)),X("div",Dv,[(Q(!0),ee(Pe,null,Tt(t.item.flavors,i=>(Q(),ee("span",{key:i,class:"option-tag"},ae(i),1))),128)),(Q(!0),ee(Pe,null,Tt(t.item.extras,i=>(Q(),ee("span",{key:i.name,class:"option-tag"},[ps(ae(i.name)+" ",1),X("span",Nv,ae(i.price),1)]))),128))])])):Ue("",!0)])]))}},Wu=ys(Ov,[["__scopeId","data-v-69303663"]]),pn={icon:"",name:"UZO Bar & Kitchen",tagline:"Fresh, seasonal, made with love",hours:{0:{open:"14:00",close:"22:00",label:"Sun"},1:{open:"12:00",close:"22:00",label:"Mon"},2:null,3:{open:"12:00",close:"22:00",label:"Wed"},4:{open:"12:00",close:"23:00",label:"Thu"},5:{open:"12:00",close:"24:00",label:"Fri"},6:{open:"12:00",close:"24:00",label:"Sat"}},happyHour:{start:["15:00","20:00"],end:["16:00","21:"],discount:"40%"}},Yi=[{id:"happyhour",label:"Happy Hour Deals",icon:"",style:"card",happyHourOnly:!0,featured:[{img:"heineken.png",badge:"popular",name:"Heineken | 5%",desc:"The most refreshing pilsener.",happyHour:!0,featuredTag:"ON TAP",sizes:[{label:"25cl",price:"4.00"},{label:"50cl",price:"8.00"}]},{img:"oedipus.png",name:"Oedipus Mannenliefde | 6%",desc:"Modern blond beer brewed with saison yeast and lemongrass. From Amsterdam ",happyHour:!0,featuredTag:"ON TAP",sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"heineken.png",happyHour:!0,name:"Heineken 0.0%",desc:"300ml",price:"4.00"}],items:[]},{id:"hot-drinks",label:"Hot Beverages",icon:"",layout:"compact",items:[{icon:"",name:"Tea",price:"3.00",flavors:["Earl Grey","Lemon Green"]},{icon:"",name:"Fresh Mint Tea",desc:"served with honey",price:"3.80"},{icon:"",name:"Coffee",price:"3.50"},{icon:"",name:"Espresso",sizes:[{label:"Single",price:"3.50"},{label:"Double",price:"5.00"}]},{icon:"",name:"Cappuccino",desc:"regular milk",price:"4.50"},{icon:"",name:"Latte",desc:"regular milk",price:"4.50"},{icon:"",name:"Latte Macchiato",desc:"regular milk",price:"4.80"},{icon:"",name:"Hot Chocolate",price:"4.50",extras:[{name:"Whipped Cream",price:"+0.50"}]},{icon:"",name:"Irish Coffee",desc:"jameson, whipped cream",price:"9.70"}]},{id:"soft",label:"Soft Drinks",icon:"",layout:"compact",items:[{img:"cola.png",name:"Coca Cola",price:"3.60"},{img:"cola-zero.png",name:"Coca Cola Zero",price:"3.60"},{img:"fanta.png",name:"Fanta Orange",price:"3.60"},{img:"sprite.png",name:"Sprite",price:"3.60"},{img:"lipton.png",name:"Lipton Ice Tea",price:"3.60",flavors:["Peach","Sparkling","Green"]},{img:"royal-club.png",name:"Tonic Water ",price:"3.60"},{img:"royal-club.png",name:"Ginger Ale",price:"3.60"},{img:"royal-club.png",name:"Ginger Beer",price:"3.60"},{img:"royal-club.png",name:"Pink Grapefruit Zero",price:"3.60"},{img:"chocomel.png",name:"Chocomel",price:"3.60"},{img:"redbull.png",name:"Redbull",price:"4.50"},{img:"juice.png",name:"Juice",price:"3.60",flavors:["Apple","Orange"]},{img:"spa.png",name:"Water 50cl",price:"3.30",flavors:["Still","Sparkling"]}]},{id:"draught",label:"Draught Beer",icon:"",items:[{img:"heineken.png",badge:"popular",name:"Heineken | 5%",desc:"The most refreshing pilsener.",happyHour:!0,sizes:[{label:"25cl",price:"4.00"},{label:"50cl",price:"8.00"}]},{img:"moretti.png",badge:"popular",name:"Birra Moretti | 4.6%",desc:"Authentic subtle and fresh beer with a delicate flavour.",sizes:[{label:"25cl",price:"4.00"},{label:"50cl",price:"8.00"}]},{img:"leffe.png",name:"Leffe Blond | 6.7%",desc:"Blonde, malty-sweet flavour balanced with fruity, slightly bitter finish.",sizes:[{label:"25cl",price:"6.00"},{label:"50cl",price:"11.00"}]},{img:"guinness.png",badge:"popular",name:"Guinness | 4.3%",desc:"Stout, toasted flavour, bitter finish.",sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"oedipus.png",name:"Oedipus Mannenliefde | 6%",desc:"Modern blond beer brewed with saison yeast and lemongrass. From Amsterdam ",happyHour:!0,sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"oedipus.png",name:"Oedipus Bride | 5%",desc:"A relatively dry witbier from Amsterdam with hoppy citrus notes and fresh orange peel. Refreshing with just enough spice from green pepper.",sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"texel.png",badge:"popular",name:"Texels Skuumkoppe | 6%",desc:"A character dark wheat beer that tastes in every season. Full of flavour with hints of caramel and apricot and has a creamy, slightly sweet finish.",sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"ipa.png",name:"Lagunitas IPA | 6.2%",desc:"Beautifully balanced citrus tones, slightly sweet and combined with a fresh-bitter, soft aftertaste.",sizes:[{label:"25cl",price:"6.00"},{label:"50cl",price:"11.00"}]}]},{id:"bottled",label:"Bottled Beers",icon:"",items:[{img:"corona.png",badge:"popular",name:"Corona | 4.5%",desc:"Mexican lager, served with lime.  330ml",price:"5.50"},{img:"desperados.png",name:"Desperados | 5.9%",desc:"Tequilaflavoured lager with a sweet, citrusleaning taste that feels more like a party drink than a classic beer.  330ml",price:"5.50"},{img:"chouffe.png",name:"La Chouffe | 8%",desc:"A lively Belgian blonde beer with fruity esters, a touch of coriander spice, and a smooth, slightly hoppy finish.   330ml",price:"6.90"},{img:"duvel.png",name:"Duvel | 8.5%",desc:"A strong golden ale thats crisp, highly carbonated, and full of subtle fruit and spice, finishing dry and dangerously easy to drink.   330ml",price:"6.90"},{img:"affligem.png",name:"Affligem Blond | 6.7%",desc:"A balanced golden ale with soft malt sweetness, light fruitiness, and a smooth, mildly bitter finish.   300ml",price:"6.00"},{img:"affligem.png",name:"Affligem Double | 6.7%",desc:"A deeper, darker ale featuring caramel malts, hints of dried fruit, and a warm, rounded body.  300ml",price:"6.20"},{img:"affligem.png",name:"Affligem Triple | 9%",desc:"A stronger, aromatic golden ale with spicy yeast character, honeylike malt, and a dry, warming finish.  300ml",price:"7.00"}]},{id:"bottled-zero",label:"0.0% Beers",icon:"",items:[{img:"heineken.png",happyHour:!0,name:"Heineken 0.0%",desc:"300ml",price:"4.00"},{img:"rose.png",badge:"",name:"Amstel Ros 0.0%",desc:"300ml",price:"4.50"},{img:"texel.png",badge:"",name:"Texel Skuumkoppe 0.0%",desc:"300ml",price:"5.00"},{img:"leffe.png",badge:"popular",name:"Leffe Blond 0.0%",desc:"330ml",price:"4.50"},{img:"corona.png",badge:"",name:"Corona 0.0%",desc:"330ml",price:"4.50"}]},{id:"cider",label:"Fruity & Cider",icon:"",items:[{img:"amstel.png",badge:"",name:"Amstel Radler | 2%",desc:"Lemon flavour  300ml",price:"4.80"},{img:"rose.png",badge:"",name:"Amstel Ros | 4%",desc:"300ml",price:"5.00"},{img:"kriek.png",badge:"popular",name:"Lindeman's Kriek | 3.5%",desc:"250ml",price:"5.00"},{img:"kwak.png",badge:"",name:"Kwak Rouge | 8%",desc:"Cherry flavour  330ml",price:"6.50"},{img:"sb.png",badge:"popular",name:"Somersby Cider Apple | 4.5%",desc:"300ml",price:"6.00"},{img:"sb.png",badge:"",name:"Somersby Cider Blackberry | 4.5%",desc:"300ml",price:"6.00"},{img:"magners.png",badge:"",name:"Magners Cider Pint | 4.5%",desc:"570ml",price:"10.00"}]},{id:"cocktails",label:"Cocktails",icon:"",items:[{icon:"",name:"Aperol Spritz",desc:"Aperol, prosecco, soda, orange slice",price:"11.00",badge:"popular"},{icon:"",name:"Limoncello Spritz",desc:"Limoncello, prosecco, soda, lemon",price:"11.00",badge:""},{icon:"",name:"Elderflower Spritz",desc:"Elderflower, prosecco, soda, lime, mint",price:"11.00",badge:""},{icon:"",name:"Espresso Martini",desc:"Espresso, vodka, coffee liquor, caramel",price:"11.00",badge:"popular"},{icon:"",name:"House Mojito",desc:"Fresh mint, lime, rum, soda, sugar",price:"10.50",badge:"popular"},{icon:"",name:"Pink Lady",desc:"Pink gin, pink grapefruit soda, summer berries",price:"10.50",badge:"new"},{icon:"",name:"Whiskey Sour",desc:"Whiskey, lemon, egg white, sugar",price:"12.00"}]},{id:"snacks",label:"Bar Snacks",icon:"",layout:"compact",items:[{icon:"",name:"Nuts Mix (Salted)",price:"6.00"},{img:"naturel.png",name:"Lays Naturel",price:"2.00"},{img:"bolognese.png",name:"Lays Bolognese",price:"2.00"},{img:"doritos.png",name:"Doritos Nacho Cheese",price:"2.00"}]}],Qu=[],kv={class:"card regular-card"},Mv={class:"card-thumb"},Fv=["src","alt"],Lv={class:"card-body"},Bv={class:"item-name"},Uv={key:0,class:"item-desc"},jv={class:"card-foot"},Hv={key:1,class:"item-price"},$v={key:2,class:"item-sizes"},qv={class:"size-label"},zv={class:"size-prices"},Gv={key:0,class:"original-price"},Kv={class:"size-price"},Wv={__name:"RegularCard",props:{item:Object},setup(t){const e=t,n=$e(()=>Dl(e.item.img));return(s,r)=>(Q(),ee("div",kv,[X("div",Mv,[n.value?(Q(),ee("img",{key:0,src:n.value,alt:t.item.name},null,8,Fv)):(Q(),ee(Pe,{key:1},[ps(ae(t.item.icon),1)],64))]),X("div",Lv,[X("div",Bv,ae(t.item.name),1),t.item.desc?(Q(),ee("div",Uv,ae(t.item.desc),1)):Ue("",!0),X("div",jv,[t.item.badge?(Q(),Ln(Vl,{key:0,badge:t.item.badge,badgeLabel:t.item.badgeLabel},null,8,["badge","badgeLabel"])):Ue("",!0),t.item.price?(Q(),ee("span",Hv,ae(t.item.price),1)):Ue("",!0),t.item.sizes?(Q(),ee("div",$v,[(Q(!0),ee(Pe,null,Tt(t.item.sizes,i=>(Q(),ee("span",{key:i.label,class:"item-size item-price"},[X("span",qv,ae(i.label),1),X("div",zv,[i.originalPrice?(Q(),ee("span",Gv,ae(i.originalPrice),1)):Ue("",!0),X("span",Kv,ae(i.price),1)])]))),128))])):Ue("",!0)])])]))}},Qv=ys(Wv,[["__scopeId","data-v-dbdd1833"]]),Jv={class:"card compact-card"},Yv={class:"card-thumb"},Xv=["src","alt"],Zv={class:"card-body"},eE={key:0,class:"card-header"},tE={class:"item-name"},nE={class:"item-info"},sE={key:0,class:"item-desc"},rE={key:1,class:"item-options"},iE={class:"options-tags"},oE={class:"extra-price"},aE={key:2,class:"item-price"},lE={key:3,class:"item-sizes"},cE={class:"size-label"},uE={class:"size-price"},hE={__name:"CompactCard",props:{item:Object},setup(t){const e=t,n=$e(()=>Dl(e.item.img));return(s,r)=>(Q(),ee("div",Jv,[X("div",Yv,[n.value?(Q(),ee("img",{key:0,src:n.value,alt:t.item.name},null,8,Xv)):(Q(),ee(Pe,{key:1},[ps(ae(t.item.icon),1)],64))]),X("div",Zv,[t.item.badge?(Q(),ee("div",eE,[Pt(Vl,{badge:t.item.badge,badgeLabel:t.item.badgeLabel},null,8,["badge","badgeLabel"])])):Ue("",!0),X("div",tE,ae(t.item.name),1),X("div",nE,[t.item.desc?(Q(),ee("div",sE,ae(t.item.desc),1)):Ue("",!0),t.item.flavors||t.item.extras?(Q(),ee("div",rE,[r[0]||(r[0]=X("span",{class:"options-label"},"Options:",-1)),X("div",iE,[(Q(!0),ee(Pe,null,Tt(t.item.flavors,i=>(Q(),ee("span",{key:i,class:"option-tag"},ae(i),1))),128)),(Q(!0),ee(Pe,null,Tt(t.item.extras,i=>(Q(),ee("span",{key:i.name,class:"option-tag"},[ps(ae(i.name)+" ",1),X("span",oE,ae(i.price),1)]))),128))])])):Ue("",!0),r[1]||(r[1]=X("div",{class:"spacer"},null,-1)),t.item.price?(Q(),ee("span",aE,ae(t.item.price),1)):Ue("",!0),t.item.sizes?(Q(),ee("div",lE,[(Q(!0),ee(Pe,null,Tt(t.item.sizes,i=>(Q(),ee("span",{key:i.label,class:"item-size item-price"},[X("span",cE,ae(i.label),1),X("span",uE,ae(i.price),1)]))),128))])):Ue("",!0)])])]))}},fE=ys(hE,[["__scopeId","data-v-ee036e6d"]]),dE=()=>{};var Ju={};const Pd=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},pE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,h=c?t[r+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let _=(l&15)<<2|h>>6,T=h&63;c||(T=64,a||(_=64)),s.push(n[d],n[p],n[_],n[T])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pd(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||h==null||p==null)throw new gE;const _=i<<2|l>>4;if(s.push(_),h!==64){const T=l<<4&240|h>>2;if(s.push(T),p!==64){const P=h<<6&192|p;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mE=function(t){const e=Pd(t);return xd.encodeByteArray(e,!0)},Xi=function(t){return mE(t).replace(/\./g,"")},_E=function(t){try{return xd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vE=()=>yE().__FIREBASE_DEFAULTS__,EE=()=>{if(typeof process>"u"||typeof Ju>"u")return;const t=Ju.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_E(t[1]);return e&&JSON.parse(e)},Nl=()=>{try{return dE()||vE()||EE()||AE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TE=t=>Nl()?.emulatorHosts?.[t],IE=t=>{const e=TE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Vd=()=>Nl()?.config;class bE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ol(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wE(t){return(await fetch(t,{credentials:"include"})).ok}function RE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xi(JSON.stringify(n)),Xi(JSON.stringify(a)),""].join(".")}const Fr={};function SE(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fr))Fr[e]?t.emulator.push(e):t.prod.push(e);return t}function CE(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yu=!1;function PE(t,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||Fr[t]===e||Fr[t]||Yu)return;Fr[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",i=SE().prod.length>0;function a(){const _=document.getElementById(s);_&&_.remove()}function l(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Yu=!0,a()},_}function d(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function p(){const _=CE(s),T=n("text"),P=document.getElementById(T)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),k=n("preprendIcon"),O=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;l(j),d(S,x);const G=h();c(O,k),j.append(O,P,S,G),document.body.appendChild(j)}i?(P.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function xE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VE(){const t=Nl()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DE(){return!VE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NE(){try{return typeof indexedDB=="object"}catch{return!1}}function OE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}const kE="FirebaseError";class Xs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=kE,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dd.prototype.create)}}class Dd{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?ME(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Xs(r,l,s)}}function ME(t,e){return t.replace(FE,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const FE=/\{\$([^}]+)}/g;function Zi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(Xu(i)&&Xu(a)){if(!Zi(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Xu(t){return t!==null&&typeof t=="object"}function Wr(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ls="[DEFAULT]";class LE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UE(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BE(t){return t===ls?void 0:t}function UE(t){return t.instantiationMode==="EAGER"}class jE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const HE={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},$E=Se.INFO,qE={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},zE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=qE[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nd{constructor(e){this.name=e,this._logLevel=$E,this._logHandler=zE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const GE=(t,e)=>e.some(n=>t instanceof n);let Zu,eh;function KE(){return Zu||(Zu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WE(){return eh||(eh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Od=new WeakMap,ja=new WeakMap,kd=new WeakMap,ma=new WeakMap,kl=new WeakMap;function QE(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(jn(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Od.set(n,t)}).catch(()=>{}),kl.set(e,t),e}function JE(t){if(ja.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});ja.set(t,e)}let Ha={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ja.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YE(t){Ha=t(Ha)}function XE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_a(this),e,...n);return kd.set(s,e.sort?e.sort():[e]),jn(s)}:WE().includes(t)?function(...e){return t.apply(_a(this),e),jn(Od.get(this))}:function(...e){return jn(t.apply(_a(this),e))}}function ZE(t){return typeof t=="function"?XE(t):(t instanceof IDBTransaction&&JE(t),GE(t,KE())?new Proxy(t,Ha):t)}function jn(t){if(t instanceof IDBRequest)return QE(t);if(ma.has(t))return ma.get(t);const e=ZE(t);return e!==t&&(ma.set(t,e),kl.set(e,t)),e}const _a=t=>kl.get(t);function eA(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=jn(a);return s&&a.addEventListener("upgradeneeded",c=>{s(jn(a.result),c.oldVersion,c.newVersion,jn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const tA=["get","getKey","getAll","getAllKeys","count"],nA=["put","add","delete","clear"],ya=new Map;function th(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ya.get(e))return ya.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=nA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||tA.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&c.done]))[0]};return ya.set(e,i),i}YE(t=>({...t,get:(e,n,s)=>th(e,n)||t.get(e,n,s),has:(e,n)=>!!th(e,n)||t.has(e,n)}));class sA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rA(t){return t.getComponent()?.type==="VERSION"}const $a="@firebase/app",nh="0.14.8";const bn=new Nd("@firebase/app"),iA="@firebase/app-compat",oA="@firebase/analytics-compat",aA="@firebase/analytics",lA="@firebase/app-check-compat",cA="@firebase/app-check",uA="@firebase/auth",hA="@firebase/auth-compat",fA="@firebase/database",dA="@firebase/data-connect",pA="@firebase/database-compat",gA="@firebase/functions",mA="@firebase/functions-compat",_A="@firebase/installations",yA="@firebase/installations-compat",vA="@firebase/messaging",EA="@firebase/messaging-compat",AA="@firebase/performance",TA="@firebase/performance-compat",IA="@firebase/remote-config",bA="@firebase/remote-config-compat",wA="@firebase/storage",RA="@firebase/storage-compat",SA="@firebase/firestore",CA="@firebase/ai",PA="@firebase/firestore-compat",xA="firebase",VA="12.9.0";const qa="[DEFAULT]",DA={[$a]:"fire-core",[iA]:"fire-core-compat",[aA]:"fire-analytics",[oA]:"fire-analytics-compat",[cA]:"fire-app-check",[lA]:"fire-app-check-compat",[uA]:"fire-auth",[hA]:"fire-auth-compat",[fA]:"fire-rtdb",[dA]:"fire-data-connect",[pA]:"fire-rtdb-compat",[gA]:"fire-fn",[mA]:"fire-fn-compat",[_A]:"fire-iid",[yA]:"fire-iid-compat",[vA]:"fire-fcm",[EA]:"fire-fcm-compat",[AA]:"fire-perf",[TA]:"fire-perf-compat",[IA]:"fire-rc",[bA]:"fire-rc-compat",[wA]:"fire-gcs",[RA]:"fire-gcs-compat",[SA]:"fire-fst",[PA]:"fire-fst-compat",[CA]:"fire-vertex","fire-js":"fire-js",[xA]:"fire-js-all"};const eo=new Map,NA=new Map,za=new Map;function sh(t,e){try{t.container.addComponent(e)}catch(n){bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function to(t){const e=t.name;if(za.has(e))return bn.debug(`There were multiple attempts to register component ${e}.`),!1;za.set(e,t);for(const n of eo.values())sh(n,t);for(const n of NA.values())sh(n,t);return!0}function OA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kA(t){return t==null?!1:t.settings!==void 0}const MA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new Dd("app","Firebase",MA);class FA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const LA=VA;function Md(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:qa,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Hn.create("bad-app-name",{appName:String(r)});if(n||(n=Vd()),!n)throw Hn.create("no-options");const i=eo.get(r);if(i){if(Zi(n,i.options)&&Zi(s,i.config))return i;throw Hn.create("duplicate-app",{appName:r})}const a=new jE(r);for(const c of za.values())a.addComponent(c);const l=new FA(n,s,a);return eo.set(r,l),l}function BA(t=qa){const e=eo.get(t);if(!e&&t===qa&&Vd())return Md();if(!e)throw Hn.create("no-app",{appName:t});return e}function Bs(t,e,n){let s=DA[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bn.warn(a.join(" "));return}to(new Qr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const UA="firebase-heartbeat-database",jA=1,Jr="firebase-heartbeat-store";let va=null;function Fd(){return va||(va=eA(UA,jA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jr)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hn.create("idb-open",{originalErrorMessage:t.message})})),va}async function HA(t){try{const n=(await Fd()).transaction(Jr),s=await n.objectStore(Jr).get(Ld(t));return await n.done,s}catch(e){if(e instanceof Xs)bn.warn(e.message);else{const n=Hn.create("idb-get",{originalErrorMessage:e?.message});bn.warn(n.message)}}}async function rh(t,e){try{const s=(await Fd()).transaction(Jr,"readwrite");await s.objectStore(Jr).put(e,Ld(t)),await s.done}catch(n){if(n instanceof Xs)bn.warn(n.message);else{const s=Hn.create("idb-set",{originalErrorMessage:n?.message});bn.warn(s.message)}}}function Ld(t){return`${t.name}!${t.options.appId}`}const $A=1024,qA=30;class zA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ih();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>qA){const r=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ih(),{heartbeatsToSend:n,unsentEntries:s}=GA(this._heartbeatsCache.heartbeats),r=Xi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return bn.warn(e),""}}}function ih(){return new Date().toISOString().substring(0,10)}function GA(t,e=$A){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),oh(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),oh(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NE()?OE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function oh(t){return Xi(JSON.stringify({version:2,heartbeats:t})).length}function WA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function QA(t){to(new Qr("platform-logger",e=>new sA(e),"PRIVATE")),to(new Qr("heartbeat",e=>new zA(e),"PRIVATE")),Bs($a,nh,t),Bs($a,nh,"esm2020"),Bs("fire-js","")}QA("");var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $n,Bd;(function(){var t;function e(E,v){function y(){}y.prototype=v.prototype,E.F=v.prototype,E.prototype=new y,E.prototype.constructor=E,E.D=function(b,A,R){for(var g=Array(arguments.length-2),se=2;se<arguments.length;se++)g[se-2]=arguments[se];return v.prototype[A].apply(b,g)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,v,y){y||(y=0);const b=Array(16);if(typeof v=="string")for(var A=0;A<16;++A)b[A]=v.charCodeAt(y++)|v.charCodeAt(y++)<<8|v.charCodeAt(y++)<<16|v.charCodeAt(y++)<<24;else for(A=0;A<16;++A)b[A]=v[y++]|v[y++]<<8|v[y++]<<16|v[y++]<<24;v=E.g[0],y=E.g[1],A=E.g[2];let R=E.g[3],g;g=v+(R^y&(A^R))+b[0]+3614090360&4294967295,v=y+(g<<7&4294967295|g>>>25),g=R+(A^v&(y^A))+b[1]+3905402710&4294967295,R=v+(g<<12&4294967295|g>>>20),g=A+(y^R&(v^y))+b[2]+606105819&4294967295,A=R+(g<<17&4294967295|g>>>15),g=y+(v^A&(R^v))+b[3]+3250441966&4294967295,y=A+(g<<22&4294967295|g>>>10),g=v+(R^y&(A^R))+b[4]+4118548399&4294967295,v=y+(g<<7&4294967295|g>>>25),g=R+(A^v&(y^A))+b[5]+1200080426&4294967295,R=v+(g<<12&4294967295|g>>>20),g=A+(y^R&(v^y))+b[6]+2821735955&4294967295,A=R+(g<<17&4294967295|g>>>15),g=y+(v^A&(R^v))+b[7]+4249261313&4294967295,y=A+(g<<22&4294967295|g>>>10),g=v+(R^y&(A^R))+b[8]+1770035416&4294967295,v=y+(g<<7&4294967295|g>>>25),g=R+(A^v&(y^A))+b[9]+2336552879&4294967295,R=v+(g<<12&4294967295|g>>>20),g=A+(y^R&(v^y))+b[10]+4294925233&4294967295,A=R+(g<<17&4294967295|g>>>15),g=y+(v^A&(R^v))+b[11]+2304563134&4294967295,y=A+(g<<22&4294967295|g>>>10),g=v+(R^y&(A^R))+b[12]+1804603682&4294967295,v=y+(g<<7&4294967295|g>>>25),g=R+(A^v&(y^A))+b[13]+4254626195&4294967295,R=v+(g<<12&4294967295|g>>>20),g=A+(y^R&(v^y))+b[14]+2792965006&4294967295,A=R+(g<<17&4294967295|g>>>15),g=y+(v^A&(R^v))+b[15]+1236535329&4294967295,y=A+(g<<22&4294967295|g>>>10),g=v+(A^R&(y^A))+b[1]+4129170786&4294967295,v=y+(g<<5&4294967295|g>>>27),g=R+(y^A&(v^y))+b[6]+3225465664&4294967295,R=v+(g<<9&4294967295|g>>>23),g=A+(v^y&(R^v))+b[11]+643717713&4294967295,A=R+(g<<14&4294967295|g>>>18),g=y+(R^v&(A^R))+b[0]+3921069994&4294967295,y=A+(g<<20&4294967295|g>>>12),g=v+(A^R&(y^A))+b[5]+3593408605&4294967295,v=y+(g<<5&4294967295|g>>>27),g=R+(y^A&(v^y))+b[10]+38016083&4294967295,R=v+(g<<9&4294967295|g>>>23),g=A+(v^y&(R^v))+b[15]+3634488961&4294967295,A=R+(g<<14&4294967295|g>>>18),g=y+(R^v&(A^R))+b[4]+3889429448&4294967295,y=A+(g<<20&4294967295|g>>>12),g=v+(A^R&(y^A))+b[9]+568446438&4294967295,v=y+(g<<5&4294967295|g>>>27),g=R+(y^A&(v^y))+b[14]+3275163606&4294967295,R=v+(g<<9&4294967295|g>>>23),g=A+(v^y&(R^v))+b[3]+4107603335&4294967295,A=R+(g<<14&4294967295|g>>>18),g=y+(R^v&(A^R))+b[8]+1163531501&4294967295,y=A+(g<<20&4294967295|g>>>12),g=v+(A^R&(y^A))+b[13]+2850285829&4294967295,v=y+(g<<5&4294967295|g>>>27),g=R+(y^A&(v^y))+b[2]+4243563512&4294967295,R=v+(g<<9&4294967295|g>>>23),g=A+(v^y&(R^v))+b[7]+1735328473&4294967295,A=R+(g<<14&4294967295|g>>>18),g=y+(R^v&(A^R))+b[12]+2368359562&4294967295,y=A+(g<<20&4294967295|g>>>12),g=v+(y^A^R)+b[5]+4294588738&4294967295,v=y+(g<<4&4294967295|g>>>28),g=R+(v^y^A)+b[8]+2272392833&4294967295,R=v+(g<<11&4294967295|g>>>21),g=A+(R^v^y)+b[11]+1839030562&4294967295,A=R+(g<<16&4294967295|g>>>16),g=y+(A^R^v)+b[14]+4259657740&4294967295,y=A+(g<<23&4294967295|g>>>9),g=v+(y^A^R)+b[1]+2763975236&4294967295,v=y+(g<<4&4294967295|g>>>28),g=R+(v^y^A)+b[4]+1272893353&4294967295,R=v+(g<<11&4294967295|g>>>21),g=A+(R^v^y)+b[7]+4139469664&4294967295,A=R+(g<<16&4294967295|g>>>16),g=y+(A^R^v)+b[10]+3200236656&4294967295,y=A+(g<<23&4294967295|g>>>9),g=v+(y^A^R)+b[13]+681279174&4294967295,v=y+(g<<4&4294967295|g>>>28),g=R+(v^y^A)+b[0]+3936430074&4294967295,R=v+(g<<11&4294967295|g>>>21),g=A+(R^v^y)+b[3]+3572445317&4294967295,A=R+(g<<16&4294967295|g>>>16),g=y+(A^R^v)+b[6]+76029189&4294967295,y=A+(g<<23&4294967295|g>>>9),g=v+(y^A^R)+b[9]+3654602809&4294967295,v=y+(g<<4&4294967295|g>>>28),g=R+(v^y^A)+b[12]+3873151461&4294967295,R=v+(g<<11&4294967295|g>>>21),g=A+(R^v^y)+b[15]+530742520&4294967295,A=R+(g<<16&4294967295|g>>>16),g=y+(A^R^v)+b[2]+3299628645&4294967295,y=A+(g<<23&4294967295|g>>>9),g=v+(A^(y|~R))+b[0]+4096336452&4294967295,v=y+(g<<6&4294967295|g>>>26),g=R+(y^(v|~A))+b[7]+1126891415&4294967295,R=v+(g<<10&4294967295|g>>>22),g=A+(v^(R|~y))+b[14]+2878612391&4294967295,A=R+(g<<15&4294967295|g>>>17),g=y+(R^(A|~v))+b[5]+4237533241&4294967295,y=A+(g<<21&4294967295|g>>>11),g=v+(A^(y|~R))+b[12]+1700485571&4294967295,v=y+(g<<6&4294967295|g>>>26),g=R+(y^(v|~A))+b[3]+2399980690&4294967295,R=v+(g<<10&4294967295|g>>>22),g=A+(v^(R|~y))+b[10]+4293915773&4294967295,A=R+(g<<15&4294967295|g>>>17),g=y+(R^(A|~v))+b[1]+2240044497&4294967295,y=A+(g<<21&4294967295|g>>>11),g=v+(A^(y|~R))+b[8]+1873313359&4294967295,v=y+(g<<6&4294967295|g>>>26),g=R+(y^(v|~A))+b[15]+4264355552&4294967295,R=v+(g<<10&4294967295|g>>>22),g=A+(v^(R|~y))+b[6]+2734768916&4294967295,A=R+(g<<15&4294967295|g>>>17),g=y+(R^(A|~v))+b[13]+1309151649&4294967295,y=A+(g<<21&4294967295|g>>>11),g=v+(A^(y|~R))+b[4]+4149444226&4294967295,v=y+(g<<6&4294967295|g>>>26),g=R+(y^(v|~A))+b[11]+3174756917&4294967295,R=v+(g<<10&4294967295|g>>>22),g=A+(v^(R|~y))+b[2]+718787259&4294967295,A=R+(g<<15&4294967295|g>>>17),g=y+(R^(A|~v))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(A+(g<<21&4294967295|g>>>11))&4294967295,E.g[2]=E.g[2]+A&4294967295,E.g[3]=E.g[3]+R&4294967295}s.prototype.v=function(E,v){v===void 0&&(v=E.length);const y=v-this.blockSize,b=this.C;let A=this.h,R=0;for(;R<v;){if(A==0)for(;R<=y;)r(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<v;)if(b[A++]=E.charCodeAt(R++),A==this.blockSize){r(this,b),A=0;break}}else for(;R<v;)if(b[A++]=E[R++],A==this.blockSize){r(this,b),A=0;break}}this.h=A,this.o+=v},s.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,y=0;y<4;++y)for(let b=0;b<32;b+=8)E[v++]=this.g[y]>>>b&255;return E};function i(E,v){var y=l;return Object.prototype.hasOwnProperty.call(y,E)?y[E]:y[E]=v(E)}function a(E,v){this.h=v;const y=[];let b=!0;for(let A=E.length-1;A>=0;A--){const R=E[A]|0;b&&R==v||(y[A]=R,b=!1)}this.g=y}var l={};function c(E){return-128<=E&&E<128?i(E,function(v){return new a([v|0],v<0?-1:0)}):new a([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return S(h(-E));const v=[];let y=1;for(let b=0;E>=y;b++)v[b]=E/y|0,y*=4294967296;return new a(v,0)}function d(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return S(d(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const y=h(Math.pow(v,8));let b=p;for(let R=0;R<E.length;R+=8){var A=Math.min(8,E.length-R);const g=parseInt(E.substring(R,R+A),v);A<8?(A=h(Math.pow(v,A)),b=b.j(A).add(h(g))):(b=b.j(y),b=b.add(h(g)))}return b}var p=c(0),_=c(1),T=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-S(this).m();let E=0,v=1;for(let y=0;y<this.g.length;y++){const b=this.i(y);E+=(b>=0?b:4294967296+b)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(P(this))return"0";if(x(this))return"-"+S(this).toString(E);const v=h(Math.pow(E,6));var y=this;let b="";for(;;){const A=G(y,v).g;y=k(y,A.j(v));let R=((y.g.length>0?y.g[0]:y.h)>>>0).toString(E);if(y=A,P(y))return R+b;for(;R.length<6;)R="0"+R;b=R+b}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function P(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=k(this,E),x(E)?-1:P(E)?0:1};function S(E){const v=E.g.length,y=[];for(let b=0;b<v;b++)y[b]=~E.g[b];return new a(y,~E.h).add(_)}t.abs=function(){return x(this)?S(this):this},t.add=function(E){const v=Math.max(this.g.length,E.g.length),y=[];let b=0;for(let A=0;A<=v;A++){let R=b+(this.i(A)&65535)+(E.i(A)&65535),g=(R>>>16)+(this.i(A)>>>16)+(E.i(A)>>>16);b=g>>>16,R&=65535,g&=65535,y[A]=g<<16|R}return new a(y,y[y.length-1]&-2147483648?-1:0)};function k(E,v){return E.add(S(v))}t.j=function(E){if(P(this)||P(E))return p;if(x(this))return x(E)?S(this).j(S(E)):S(S(this).j(E));if(x(E))return S(this.j(S(E)));if(this.l(T)<0&&E.l(T)<0)return h(this.m()*E.m());const v=this.g.length+E.g.length,y=[];for(var b=0;b<2*v;b++)y[b]=0;for(b=0;b<this.g.length;b++)for(let A=0;A<E.g.length;A++){const R=this.i(b)>>>16,g=this.i(b)&65535,se=E.i(A)>>>16,Ee=E.i(A)&65535;y[2*b+2*A]+=g*Ee,O(y,2*b+2*A),y[2*b+2*A+1]+=R*Ee,O(y,2*b+2*A+1),y[2*b+2*A+1]+=g*se,O(y,2*b+2*A+1),y[2*b+2*A+2]+=R*se,O(y,2*b+2*A+2)}for(E=0;E<v;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=v;E<2*v;E++)y[E]=0;return new a(y,0)};function O(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function j(E,v){this.g=E,this.h=v}function G(E,v){if(P(v))throw Error("division by zero");if(P(E))return new j(p,p);if(x(E))return v=G(S(E),v),new j(S(v.g),S(v.h));if(x(v))return v=G(E,S(v)),new j(S(v.g),v.h);if(E.g.length>30){if(x(E)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var y=_,b=v;b.l(E)<=0;)y=ue(y),b=ue(b);var A=D(y,1),R=D(b,1);for(b=D(b,2),y=D(y,2);!P(b);){var g=R.add(b);g.l(E)<=0&&(A=A.add(y),R=g),b=D(b,1),y=D(y,1)}return v=k(E,A.j(v)),new j(A,v)}for(A=p;E.l(v)>=0;){for(y=Math.max(1,Math.floor(E.m()/v.m())),b=Math.ceil(Math.log(y)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),R=h(y),g=R.j(v);x(g)||g.l(E)>0;)y-=b,R=h(y),g=R.j(v);P(R)&&(R=_),A=A.add(R),E=k(E,g)}return new j(A,E)}t.B=function(E){return G(this,E).h},t.and=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let b=0;b<v;b++)y[b]=this.i(b)&E.i(b);return new a(y,this.h&E.h)},t.or=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let b=0;b<v;b++)y[b]=this.i(b)|E.i(b);return new a(y,this.h|E.h)},t.xor=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let b=0;b<v;b++)y[b]=this.i(b)^E.i(b);return new a(y,this.h^E.h)};function ue(E){const v=E.g.length+1,y=[];for(let b=0;b<v;b++)y[b]=E.i(b)<<1|E.i(b-1)>>>31;return new a(y,E.h)}function D(E,v){const y=v>>5;v%=32;const b=E.g.length-y,A=[];for(let R=0;R<b;R++)A[R]=v>0?E.i(R+y)>>>v|E.i(R+y+1)<<32-v:E.i(R+y);return new a(A,E.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Bd=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,$n=a}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ud,Ir,jd,Fi,Ga,Hd,$d,qd;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Si=="object"&&Si];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var s=n(this);function r(o,u){if(u)e:{var f=s;o=o.split(".");for(var m=0;m<o.length-1;m++){var V=o[m];if(!(V in f))break e;f=f[V]}o=o[o.length-1],m=f[o],u=u(m),u!=m&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(u){var f=[],m;for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&f.push([m,u[m]]);return f}});var i=i||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,f){return o.call.apply(o.bind,arguments)}function h(o,u,f){return h=c,h.apply(null,arguments)}function d(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function p(o,u){function f(){}f.prototype=u.prototype,o.Z=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(m,V,N){for(var K=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)K[ve-2]=arguments[ve];return u.prototype[V].apply(m,K)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function T(o){const u=o.length;if(u>0){const f=Array(u);for(let m=0;m<u;m++)f[m]=o[m];return f}return[]}function P(o,u){for(let m=1;m<arguments.length;m++){const V=arguments[m];var f=typeof V;if(f=f!="object"?f:V?Array.isArray(V)?"array":f:"null",f=="array"||f=="object"&&typeof V.length=="number"){f=o.length||0;const N=V.length||0;o.length=f+N;for(let K=0;K<N;K++)o[f+K]=V[K]}else o.push(V)}}class x{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function S(o){a.setTimeout(()=>{throw o},0)}function k(){var o=E;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class O{constructor(){this.h=this.g=null}add(u,f){const m=j.get();m.set(u,f),this.h?this.h.next=m:this.g=m,this.h=m}}var j=new x(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,D=!1,E=new O,v=()=>{const o=Promise.resolve(void 0);ue=()=>{o.then(y)}};function y(){for(var o;o=k();){try{o.h.call(o.g)}catch(f){S(f)}var u=j;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}D=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};a.addEventListener("test",f,u),a.removeEventListener("test",f,u)}catch{}return o})();function g(o){return/^[\s\xa0]*$/.test(o)}function se(o,u){A.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}p(se,A),se.prototype.init=function(o,u){const f=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),we=0;function ge(o,u,f,m,V){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!m,this.ha=V,this.key=++we,this.da=this.fa=!1}function me(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function de(o,u,f){for(const m in o)u.call(f,o[m],m,o)}function Ze(o,u){for(const f in o)u.call(void 0,o[f],f,o)}function Ge(o){const u={};for(const f in o)u[f]=o[f];return u}const He="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nt(o,u){let f,m;for(let V=1;V<arguments.length;V++){m=arguments[V];for(f in m)o[f]=m[f];for(let N=0;N<He.length;N++)f=He[N],Object.prototype.hasOwnProperty.call(m,f)&&(o[f]=m[f])}}function bt(o){this.src=o,this.g={},this.h=0}bt.prototype.add=function(o,u,f,m,V){const N=o.toString();o=this.g[N],o||(o=this.g[N]=[],this.h++);const K=pt(o,u,m,V);return K>-1?(u=o[K],f||(u.fa=!1)):(u=new ge(u,this.src,N,!!m,V),u.fa=f,o.push(u)),u};function dt(o,u){const f=u.type;if(f in o.g){var m=o.g[f],V=Array.prototype.indexOf.call(m,u,void 0),N;(N=V>=0)&&Array.prototype.splice.call(m,V,1),N&&(me(u),o.g[f].length==0&&(delete o.g[f],o.h--))}}function pt(o,u,f,m){for(let V=0;V<o.length;++V){const N=o[V];if(!N.da&&N.listener==u&&N.capture==!!f&&N.ha==m)return V}return-1}var L="closure_lm_"+(Math.random()*1e6|0),Z={};function J(o,u,f,m,V){if(Array.isArray(u)){for(let N=0;N<u.length;N++)J(o,u[N],f,m,V);return null}return f=W(f),o&&o[Ee]?o.J(u,f,l(m)?!!m.capture:!1,V):re(o,u,f,!1,m,V)}function re(o,u,f,m,V,N){if(!u)throw Error("Invalid event type");const K=l(V)?!!V.capture:!!V;let ve=U(o);if(ve||(o[L]=ve=new bt(o)),f=ve.add(u,f,m,K,N),f.proxy)return f;if(m=Te(),f.proxy=m,m.src=o,m.listener=f,o.addEventListener)R||(V=K),V===void 0&&(V=!1),o.addEventListener(u.toString(),m,V);else if(o.attachEvent)o.attachEvent(C(u.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Te(){function o(f){return u.call(o.src,o.listener,f)}const u=M;return o}function I(o,u,f,m,V){if(Array.isArray(u))for(var N=0;N<u.length;N++)I(o,u[N],f,m,V);else m=l(m)?!!m.capture:!!m,f=W(f),o&&o[Ee]?(o=o.i,N=String(u).toString(),N in o.g&&(u=o.g[N],f=pt(u,f,m,V),f>-1&&(me(u[f]),Array.prototype.splice.call(u,f,1),u.length==0&&(delete o.g[N],o.h--)))):o&&(o=U(o))&&(u=o.g[u.toString()],o=-1,u&&(o=pt(u,f,m,V)),(f=o>-1?u[o]:null)&&w(f))}function w(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[Ee])dt(u.i,o);else{var f=o.type,m=o.proxy;u.removeEventListener?u.removeEventListener(f,m,o.capture):u.detachEvent?u.detachEvent(C(f),m):u.addListener&&u.removeListener&&u.removeListener(m),(f=U(u))?(dt(f,o),f.h==0&&(f.src=null,u[L]=null)):me(o)}}}function C(o){return o in Z?Z[o]:Z[o]="on"+o}function M(o,u){if(o.da)o=!0;else{u=new se(u,this);const f=o.listener,m=o.ha||o.src;o.fa&&w(o),o=f.call(m,u)}return o}function U(o){return o=o[L],o instanceof bt?o:null}var F="__closure_events_fn_"+(Math.random()*1e9>>>0);function W(o){return typeof o=="function"?o:(o[F]||(o[F]=function(u){return o.handleEvent(u)}),o[F])}function z(){b.call(this),this.i=new bt(this),this.M=this,this.G=null}p(z,b),z.prototype[Ee]=!0,z.prototype.removeEventListener=function(o,u,f,m){I(this,o,u,f,m)};function q(o,u){var f,m=o.G;if(m)for(f=[];m;m=m.G)f.push(m);if(o=o.M,m=u.type||u,typeof u=="string")u=new A(u,o);else if(u instanceof A)u.target=u.target||o;else{var V=u;u=new A(m,o),Nt(u,V)}V=!0;let N,K;if(f)for(K=f.length-1;K>=0;K--)N=u.g=f[K],V=H(N,m,!0,u)&&V;if(N=u.g=o,V=H(N,m,!0,u)&&V,V=H(N,m,!1,u)&&V,f)for(K=0;K<f.length;K++)N=u.g=f[K],V=H(N,m,!1,u)&&V}z.prototype.N=function(){if(z.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const f=o.g[u];for(let m=0;m<f.length;m++)me(f[m]);delete o.g[u],o.h--}}this.G=null},z.prototype.J=function(o,u,f,m){return this.i.add(String(o),u,!1,f,m)},z.prototype.K=function(o,u,f,m){return this.i.add(String(o),u,!0,f,m)};function H(o,u,f,m){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let V=!0;for(let N=0;N<u.length;++N){const K=u[N];if(K&&!K.da&&K.capture==f){const ve=K.listener,et=K.ha||K.src;K.fa&&dt(o.i,K),V=ve.call(et,m)!==!1&&V}}return V&&!m.defaultPrevented}function oe(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function Y(o){o.g=oe(()=>{o.g=null,o.i&&(o.i=!1,Y(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class ie extends b{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Y(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(o){b.call(this),this.h=o,this.g={}}p(ce,b);var Ae=[];function Oe(o){de(o.g,function(u,f){this.g.hasOwnProperty(f)&&w(u)},o),o.g={}}ce.prototype.N=function(){ce.Z.N.call(this),Oe(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=a.JSON.stringify,gt=a.JSON.parse,mt=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Ot(){}function kt(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Is(){A.call(this,"d")}p(Is,A);function lt(){A.call(this,"c")}p(lt,A);var it={},sr=null;function es(){return sr=sr||new z}it.Ia="serverreachability";function hc(o){A.call(this,it.Ia,o)}p(hc,A);function rr(o){const u=es();q(u,new hc(u))}it.STAT_EVENT="statevent";function fc(o,u){A.call(this,it.STAT_EVENT,o),this.stat=u}p(fc,A);function wt(o){const u=es();q(u,new fc(u,o))}it.Ja="timingevent";function dc(o,u){A.call(this,it.Ja,o),this.size=u}p(dc,A);function ir(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function or(){this.g=!0}or.prototype.ua=function(){this.g=!1};function _g(o,u,f,m,V,N){o.info(function(){if(o.g)if(N){var K="",ve=N.split("&");for(let Me=0;Me<ve.length;Me++){var et=ve[Me].split("=");if(et.length>1){const ot=et[0];et=et[1];const Xt=ot.split("_");K=Xt.length>=2&&Xt[1]=="type"?K+(ot+"="+et+"&"):K+(ot+"=redacted&")}}}else K=null;else K=N;return"XMLHTTP REQ ("+m+") [attempt "+V+"]: "+u+`
`+f+`
`+K})}function yg(o,u,f,m,V,N,K){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+V+"]: "+u+`
`+f+`
`+N+" "+K})}function bs(o,u,f,m){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Eg(o,f)+(m?" "+m:"")})}function vg(o,u){o.info(function(){return"TIMEOUT: "+u})}or.prototype.info=function(){};function Eg(o,u){if(!o.g)return u;if(!u)return null;try{const N=JSON.parse(u);if(N){for(o=0;o<N.length;o++)if(Array.isArray(N[o])){var f=N[o];if(!(f.length<2)){var m=f[1];if(Array.isArray(m)&&!(m.length<1)){var V=m[0];if(V!="noop"&&V!="stop"&&V!="close")for(let K=1;K<m.length;K++)m[K]=""}}}}return Ce(N)}catch{return u}}var pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gc;function jo(){}p(jo,Ot),jo.prototype.g=function(){return new XMLHttpRequest},gc=new jo;function ar(o){return encodeURIComponent(String(o))}function Ag(o){var u=1;o=o.split(":");const f=[];for(;u>0&&o.length;)f.push(o.shift()),u--;return o.length&&f.push(o.join(":")),f}function Cn(o,u,f,m){this.j=o,this.i=u,this.l=f,this.S=m||1,this.V=new ce(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mc}function mc(){this.i=null,this.g="",this.h=!1}var _c={},Ho={};function $o(o,u,f){o.M=1,o.A=mi(Yt(u)),o.u=f,o.R=!0,yc(o,null)}function yc(o,u){o.F=Date.now(),gi(o),o.B=Yt(o.A);var f=o.B,m=o.S;Array.isArray(m)||(m=[String(m)]),Vc(f.i,"t",m),o.C=0,f=o.j.L,o.h=new mc,o.g=Qc(o.j,f?u:null,!o.u),o.P>0&&(o.O=new ie(h(o.Y,o,o.g),o.P)),u=o.V,f=o.g,m=o.ba;var V="readystatechange";Array.isArray(V)||(V&&(Ae[0]=V.toString()),V=Ae);for(let N=0;N<V.length;N++){const K=J(f,V[N],m||u.handleEvent,!1,u.h||u);if(!K)break;u.g[K.key]=K}u=o.J?Ge(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),rr(),_g(o.i,o.v,o.B,o.l,o.S,o.u)}Cn.prototype.ba=function(o){o=o.target;const u=this.O;u&&Vn(o)==3?u.j():this.Y(o)},Cn.prototype.Y=function(o){try{if(o==this.g)e:{const ve=Vn(this.g),et=this.g.ya(),Me=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||Lc(this.g)))){this.K||ve!=4||et==7||(et==8||Me<=0?rr(3):rr(2)),qo(this);var u=this.g.ca();this.X=u;var f=Tg(this);if(this.o=u==200,yg(this.i,this.v,this.B,this.l,this.S,ve,u),this.o){if(this.U&&!this.L){t:{if(this.g){var m,V=this.g;if((m=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(m)){var N=m;break t}}N=null}if(o=N)bs(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zo(this,o);else{this.o=!1,this.m=3,wt(12),ts(this),lr(this);break e}}if(this.R){o=!0;let ot;for(;!this.K&&this.C<f.length;)if(ot=Ig(this,f),ot==Ho){ve==4&&(this.m=4,wt(14),o=!1),bs(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==_c){this.m=4,wt(15),bs(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else bs(this.i,this.l,ot,null),zo(this,ot);if(vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||f.length!=0||this.h.h||(this.m=1,wt(16),o=!1),this.o=this.o&&o,!o)bs(this.i,this.l,f,"[Invalid Chunked Response]"),ts(this),lr(this);else if(f.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Zo(K),K.P=!0,wt(11))}}else bs(this.i,this.l,f,null),zo(this,f);ve==4&&ts(this),this.o&&!this.K&&(ve==4?zc(this.j,this):(this.o=!1,gi(this)))}else Fg(this.g),u==400&&f.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),ts(this),lr(this)}}}catch{}};function Tg(o){if(!vc(o))return o.g.la();const u=Lc(o.g);if(u==="")return"";let f="";const m=u.length,V=Vn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return ts(o),lr(o),"";o.h.i=new a.TextDecoder}for(let N=0;N<m;N++)o.h.h=!0,f+=o.h.i.decode(u[N],{stream:!(V&&N==m-1)});return u.length=0,o.h.g+=f,o.C=0,o.h.g}function vc(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Ig(o,u){var f=o.C,m=u.indexOf(`
`,f);return m==-1?Ho:(f=Number(u.substring(f,m)),isNaN(f)?_c:(m+=1,m+f>u.length?Ho:(u=u.slice(m,m+f),o.C=m+f,u)))}Cn.prototype.cancel=function(){this.K=!0,ts(this)};function gi(o){o.T=Date.now()+o.H,Ec(o,o.H)}function Ec(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=ir(h(o.aa,o),u)}function qo(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Cn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(vg(this.i,this.B),this.M!=2&&(rr(),wt(17)),ts(this),this.m=2,lr(this)):Ec(this,this.T-o)};function lr(o){o.j.I==0||o.K||zc(o.j,o)}function ts(o){qo(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,Oe(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function zo(o,u){try{var f=o.j;if(f.I!=0&&(f.g==o||Go(f.h,o))){if(!o.L&&Go(f.h,o)&&f.I==3){try{var m=f.Ba.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var V=m;if(V[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)Ai(f),vi(f);else break e;Xo(f),wt(18)}}else f.xa=V[1],0<f.xa-f.K&&V[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=ir(h(f.Va,f),6e3));Ic(f.h)<=1&&f.ta&&(f.ta=void 0)}else ss(f,11)}else if((o.L||f.g==o)&&Ai(f),!g(u))for(V=f.Ba.g.parse(u),u=0;u<V.length;u++){let Me=V[u];const ot=Me[0];if(!(ot<=f.K))if(f.K=ot,Me=Me[1],f.I==2)if(Me[0]=="c"){f.M=Me[1],f.ba=Me[2];const Xt=Me[3];Xt!=null&&(f.ka=Xt,f.j.info("VER="+f.ka));const rs=Me[4];rs!=null&&(f.za=rs,f.j.info("SVER="+f.za));const Dn=Me[5];Dn!=null&&typeof Dn=="number"&&Dn>0&&(m=1.5*Dn,f.O=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;const Nn=o.g;if(Nn){const Ii=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var N=m.h;N.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Ko(N,N.h),N.h=null))}if(m.G){const ea=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ea&&(m.wa=ea,Be(m.J,m.G,ea))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),m=f;var K=o;if(m.na=Wc(m,m.L?m.ba:null,m.W),K.L){bc(m.h,K);var ve=K,et=m.O;et&&(ve.H=et),ve.D&&(qo(ve),gi(ve)),m.g=K}else $c(m);f.i.length>0&&Ei(f)}else Me[0]!="stop"&&Me[0]!="close"||ss(f,7);else f.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?ss(f,7):Yo(f):Me[0]!="noop"&&f.l&&f.l.qa(Me),f.A=0)}}rr(4)}catch{}}var bg=class{constructor(o,u){this.g=o,this.map=u}};function Ac(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ic(o){return o.h?1:o.g?o.g.size:0}function Go(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Ko(o,u){o.g?o.g.add(u):o.h=u}function bc(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Ac.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function wc(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const f of o.g.values())u=u.concat(f.G);return u}return T(o.i)}var Rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wg(o,u){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const m=o[f].indexOf("=");let V,N=null;m>=0?(V=o[f].substring(0,m),N=o[f].substring(m+1)):V=o[f],u(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Pn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof Pn?(this.l=o.l,cr(this,o.j),this.o=o.o,this.g=o.g,ur(this,o.u),this.h=o.h,Wo(this,Dc(o.i)),this.m=o.m):o&&(u=String(o).match(Rc))?(this.l=!1,cr(this,u[1]||"",!0),this.o=hr(u[2]||""),this.g=hr(u[3]||"",!0),ur(this,u[4]),this.h=hr(u[5]||"",!0),Wo(this,u[6]||"",!0),this.m=hr(u[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}Pn.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(fr(u,Sc,!0),":");var f=this.g;return(f||u=="file")&&(o.push("//"),(u=this.o)&&o.push(fr(u,Sc,!0),"@"),o.push(ar(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(fr(f,f.charAt(0)=="/"?Cg:Sg,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",fr(f,xg)),o.join("")},Pn.prototype.resolve=function(o){const u=Yt(this);let f=!!o.j;f?cr(u,o.j):f=!!o.o,f?u.o=o.o:f=!!o.g,f?u.g=o.g:f=o.u!=null;var m=o.h;if(f)ur(u,o.u);else if(f=!!o.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var V=u.h.lastIndexOf("/");V!=-1&&(m=u.h.slice(0,V+1)+m)}if(V=m,V==".."||V==".")m="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){m=V.lastIndexOf("/",0)==0,V=V.split("/");const N=[];for(let K=0;K<V.length;){const ve=V[K++];ve=="."?m&&K==V.length&&N.push(""):ve==".."?((N.length>1||N.length==1&&N[0]!="")&&N.pop(),m&&K==V.length&&N.push("")):(N.push(ve),m=!0)}m=N.join("/")}else m=V}return f?u.h=m:f=o.i.toString()!=="",f?Wo(u,Dc(o.i)):f=!!o.m,f&&(u.m=o.m),u};function Yt(o){return new Pn(o)}function cr(o,u,f){o.j=f?hr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function ur(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function Wo(o,u,f){u instanceof dr?(o.i=u,Vg(o.i,o.l)):(f||(u=fr(u,Pg)),o.i=new dr(u,o.l))}function Be(o,u,f){o.i.set(u,f)}function mi(o){return Be(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function hr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function fr(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,Rg),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Rg(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Sc=/[#\/\?@]/g,Sg=/[#\?:]/g,Cg=/[#\?]/g,Pg=/[#\?@]/g,xg=/#/g;function dr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function ns(o){o.g||(o.g=new Map,o.h=0,o.i&&wg(o.i,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}t=dr.prototype,t.add=function(o,u){ns(this),this.i=null,o=ws(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(u),this.h+=1,this};function Cc(o,u){ns(o),u=ws(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Pc(o,u){return ns(o),u=ws(o,u),o.g.has(u)}t.forEach=function(o,u){ns(this),this.g.forEach(function(f,m){f.forEach(function(V){o.call(u,V,m,this)},this)},this)};function xc(o,u){ns(o);let f=[];if(typeof u=="string")Pc(o,u)&&(f=f.concat(o.g.get(ws(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)f=f.concat(o[u]);return f}t.set=function(o,u){return ns(this),this.i=null,o=ws(this,o),Pc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},t.get=function(o,u){return o?(o=xc(this,o),o.length>0?String(o[0]):u):u};function Vc(o,u,f){Cc(o,u),f.length>0&&(o.i=null,o.g.set(ws(o,u),T(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let m=0;m<u.length;m++){var f=u[m];const V=ar(f);f=xc(this,f);for(let N=0;N<f.length;N++){let K=V;f[N]!==""&&(K+="="+ar(f[N])),o.push(K)}}return this.i=o.join("&")};function Dc(o){const u=new dr;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function ws(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Vg(o,u){u&&!o.j&&(ns(o),o.i=null,o.g.forEach(function(f,m){const V=m.toLowerCase();m!=V&&(Cc(this,m),Vc(this,V,f))},o)),o.j=u}function Dg(o,u){const f=new or;if(a.Image){const m=new Image;m.onload=d(xn,f,"TestLoadImage: loaded",!0,u,m),m.onerror=d(xn,f,"TestLoadImage: error",!1,u,m),m.onabort=d(xn,f,"TestLoadImage: abort",!1,u,m),m.ontimeout=d(xn,f,"TestLoadImage: timeout",!1,u,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else u(!1)}function Ng(o,u){const f=new or,m=new AbortController,V=setTimeout(()=>{m.abort(),xn(f,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:m.signal}).then(N=>{clearTimeout(V),N.ok?xn(f,"TestPingServer: ok",!0,u):xn(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(V),xn(f,"TestPingServer: error",!1,u)})}function xn(o,u,f,m,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),m(f)}catch{}}function Og(){this.g=new mt}function Qo(o){this.i=o.Sb||null,this.h=o.ab||!1}p(Qo,Ot),Qo.prototype.g=function(){return new _i(this.i,this.h)};function _i(o,u){z.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(_i,z),t=_i.prototype,t.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,gr(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nc(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nc(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?pr(this):gr(this),this.readyState==3&&Nc(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,pr(this))},t.Na=function(o){this.g&&(this.response=o,pr(this))},t.ga=function(){this.g&&pr(this)};function pr(o){o.readyState=4,o.l=null,o.j=null,o.B=null,gr(o)}t.setRequestHeader=function(o,u){this.A.append(o,u)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function gr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Oc(o){let u="";return de(o,function(f,m){u+=m,u+=":",u+=f,u+=`\r
`}),u}function Jo(o,u,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Oc(f),typeof o=="string"?f!=null&&ar(f):Be(o,u,f))}function Ke(o){z.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ke,z);var kg=/^https?$/i,Mg=["POST","PUT"];t=Ke.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,u,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gc.g(),this.g.onreadystatechange=_(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(N){kc(this,N);return}if(o=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var V in m)f.set(V,m[V]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),V=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(Mg,u,void 0)>=0)||m||V||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,K]of f)this.g.setRequestHeader(N,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(N){kc(this,N)}};function kc(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,Mc(o),yi(o)}function Mc(o){o.A||(o.A=!0,q(o,"complete"),q(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,q(this,"complete"),q(this,"abort"),yi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Ke.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fc(this):this.Xa())},t.Xa=function(){Fc(this)};function Fc(o){if(o.h&&typeof i<"u"){if(o.v&&Vn(o)==4)setTimeout(o.Ca.bind(o),0);else if(q(o,"readystatechange"),Vn(o)==4){o.h=!1;try{const N=o.ca();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var f;if(!(f=u)){var m;if(m=N===0){let K=String(o.D).match(Rc)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),m=!kg.test(K?K.toLowerCase():"")}f=m}if(f)q(o,"complete"),q(o,"success");else{o.o=6;try{var V=Vn(o)>2?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.ca()+"]",Mc(o)}}finally{yi(o)}}}}function yi(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,u||q(o,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vn(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Vn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),gt(u)}};function Lc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Fg(o){const u={};o=(o.g&&Vn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(g(o[m]))continue;var f=Ag(o[m]);const V=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const N=u[V]||[];u[V]=N,N.push(f)}Ze(u,function(m){return m.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mr(o,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||u}function Bc(o){this.za=0,this.i=[],this.j=new or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mr("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mr("baseRetryDelayMs",5e3,o),this.Za=mr("retryDelaySeedMs",1e4,o),this.Ta=mr("forwardChannelMaxRetries",2,o),this.va=mr("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ac(o&&o.concurrentRequestLimit),this.Ba=new Og,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Bc.prototype,t.ka=8,t.I=1,t.connect=function(o,u,f,m){wt(0),this.W=o,this.H=u||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.J=Wc(this,null,this.W),Ei(this)};function Yo(o){if(Uc(o),o.I==3){var u=o.V++,f=Yt(o.J);if(Be(f,"SID",o.M),Be(f,"RID",u),Be(f,"TYPE","terminate"),_r(o,f),u=new Cn(o,o.j,u),u.M=2,u.A=mi(Yt(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=u.A,f=!0),f||(u.g=Qc(u.j,null),u.g.ea(u.A)),u.F=Date.now(),gi(u)}Kc(o)}function vi(o){o.g&&(Zo(o),o.g.cancel(),o.g=null)}function Uc(o){vi(o),o.v&&(a.clearTimeout(o.v),o.v=null),Ai(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Ei(o){if(!Tc(o.h)&&!o.m){o.m=!0;var u=o.Ea;ue||v(),D||(ue(),D=!0),E.add(u,o),o.D=0}}function Lg(o,u){return Ic(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=ir(h(o.Ea,o,u),Gc(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const V=new Cn(this,this.j,o);let N=this.o;if(this.U&&(N?(N=Ge(N),Nt(N,this.U)):N=this.U),this.u!==null||this.R||(V.J=N,N=null),this.S)e:{for(var u=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(u+=m,u>4096){u=f;break e}if(u===4096||f===this.i.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=Hc(this,V,u),f=Yt(this.J),Be(f,"RID",o),Be(f,"CVER",22),this.G&&Be(f,"X-HTTP-Session-Id",this.G),_r(this,f),N&&(this.R?u="headers="+ar(Oc(N))+"&"+u:this.u&&Jo(f,this.u,N)),Ko(this.h,V),this.Ra&&Be(f,"TYPE","init"),this.S?(Be(f,"$req",u),Be(f,"SID","null"),V.U=!0,$o(V,f,null)):$o(V,f,u),this.I=2}}else this.I==3&&(o?jc(this,o):this.i.length==0||Tc(this.h)||jc(this))};function jc(o,u){var f;u?f=u.l:f=o.V++;const m=Yt(o.J);Be(m,"SID",o.M),Be(m,"RID",f),Be(m,"AID",o.K),_r(o,m),o.u&&o.o&&Jo(m,o.u,o.o),f=new Cn(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),u&&(o.i=u.G.concat(o.i)),u=Hc(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ko(o.h,f),$o(f,m,u)}function _r(o,u){o.H&&de(o.H,function(f,m){Be(u,m,f)}),o.l&&de({},function(f,m){Be(u,m,f)})}function Hc(o,u,f){f=Math.min(o.i.length,f);const m=o.l?h(o.l.Ka,o.l,o):null;e:{var V=o.i;let ve=-1;for(;;){const et=["count="+f];ve==-1?f>0?(ve=V[0].g,et.push("ofs="+ve)):ve=0:et.push("ofs="+ve);let Me=!0;for(let ot=0;ot<f;ot++){var N=V[ot].g;const Xt=V[ot].map;if(N-=ve,N<0)ve=Math.max(0,V[ot].g-100),Me=!1;else try{N="req"+N+"_"||"";try{var K=Xt instanceof Map?Xt:Object.entries(Xt);for(const[rs,Dn]of K){let Nn=Dn;l(Dn)&&(Nn=Ce(Dn)),et.push(N+rs+"="+encodeURIComponent(Nn))}}catch(rs){throw et.push(N+"type="+encodeURIComponent("_badmap")),rs}}catch{m&&m(Xt)}}if(Me){K=et.join("&");break e}}K=void 0}return o=o.i.splice(0,f),u.G=o,K}function $c(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;ue||v(),D||(ue(),D=!0),E.add(u,o),o.A=0}}function Xo(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=ir(h(o.Da,o),Gc(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=ir(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),vi(this),qc(this))};function Zo(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function qc(o){o.g=new Cn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=Yt(o.na);Be(u,"RID","rpc"),Be(u,"SID",o.M),Be(u,"AID",o.K),Be(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&Be(u,"TO",o.ia),Be(u,"TYPE","xmlhttp"),_r(o,u),o.u&&o.o&&Jo(u,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=mi(Yt(u)),f.u=null,f.R=!0,yc(f,o)}t.Va=function(){this.C!=null&&(this.C=null,vi(this),Xo(this),wt(19))};function Ai(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function zc(o,u){var f=null;if(o.g==u){Ai(o),Zo(o),o.g=null;var m=2}else if(Go(o.h,u))f=u.G,bc(o.h,u),m=1;else return;if(o.I!=0){if(u.o)if(m==1){f=u.u?u.u.length:0,u=Date.now()-u.F;var V=o.D;m=es(),q(m,new dc(m,f)),Ei(o)}else $c(o);else if(V=u.m,V==3||V==0&&u.X>0||!(m==1&&Lg(o,u)||m==2&&Xo(o)))switch(f&&f.length>0&&(u=o.h,u.i=u.i.concat(f)),V){case 1:ss(o,5);break;case 4:ss(o,10);break;case 3:ss(o,6);break;default:ss(o,2)}}}function Gc(o,u){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*u}function ss(o,u){if(o.j.info("Error code "+u),u==2){var f=h(o.bb,o),m=o.Ua;const V=!m;m=new Pn(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cr(m,"https"),mi(m),V?Dg(m.toString(),f):Ng(m.toString(),f)}else wt(2);o.I=0,o.l&&o.l.pa(u),Kc(o),Uc(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Kc(o){if(o.I=0,o.ja=[],o.l){const u=wc(o.h);(u.length!=0||o.i.length!=0)&&(P(o.ja,u),P(o.ja,o.i),o.h.i.length=0,T(o.i),o.i.length=0),o.l.oa()}}function Wc(o,u,f){var m=f instanceof Pn?Yt(f):new Pn(f);if(m.g!="")u&&(m.g=u+"."+m.g),ur(m,m.u);else{var V=a.location;m=V.protocol,u=u?u+"."+V.hostname:V.hostname,V=+V.port;const N=new Pn(null);m&&cr(N,m),u&&(N.g=u),V&&ur(N,V),f&&(N.h=f),m=N}return f=o.G,u=o.wa,f&&u&&Be(m,f,u),Be(m,"VER",o.ka),_r(o,m),m}function Qc(o,u,f){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new Ke(new Qo({ab:f})):new Ke(o.ma),u.Fa(o.L),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}t=Jc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ti(){}Ti.prototype.g=function(o,u){return new Mt(o,u)};function Mt(o,u){z.call(this),this.g=new Bc(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!g(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!g(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Rs(this)}p(Mt,z),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Yo(this.g)},Mt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=Ce(o),o=f);u.i.push(new bg(u.Ya++,o)),u.I==3&&Ei(u)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,Mt.Z.N.call(this)};function Yc(o){Is.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const f in u){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}p(Yc,Is);function Xc(){lt.call(this),this.status=1}p(Xc,lt);function Rs(o){this.g=o}p(Rs,Jc),Rs.prototype.ra=function(){q(this.g,"a")},Rs.prototype.qa=function(o){q(this.g,new Yc(o))},Rs.prototype.pa=function(o){q(this.g,new Xc)},Rs.prototype.oa=function(){q(this.g,"b")},Ti.prototype.createWebChannel=Ti.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,qd=function(){return new Ti},$d=function(){return es()},Hd=it,Ga={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,Fi=pi,pc.COMPLETE="complete",jd=pc,kt.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",z.prototype.listen=z.prototype.J,Ir=kt,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,Ud=Ke}).apply(typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{});class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");let Zs="12.9.0";function JA(t){Zs=t}const gs=new Nd("@firebase/firestore");function Vs(){return gs.logLevel}function te(t,...e){if(gs.logLevel<=Se.DEBUG){const n=e.map(Ml);gs.debug(`Firestore (${Zs}): ${t}`,...n)}}function wn(t,...e){if(gs.logLevel<=Se.ERROR){const n=e.map(Ml);gs.error(`Firestore (${Zs}): ${t}`,...n)}}function ms(t,...e){if(gs.logLevel<=Se.WARN){const n=e.map(Ml);gs.warn(`Firestore (${Zs}): ${t}`,...n)}}function Ml(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function he(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,zd(t,s,n)}function zd(t,e,n){let s=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wn(s),new Error(s)}function Ne(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||zd(e,r,s)}function _e(t,e){return t}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qn{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Gd{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yt.UNAUTHENTICATED)))}shutdown(){}}class XA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZA{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qn,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await r(this.currentUser)}))},l=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qn)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ne(typeof s.accessToken=="string",31837,{l:s}),new Gd(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class eT{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tT{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new eT(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nT{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const s=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const r=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>r(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lh(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lh(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Fl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=sT(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Ie(t,e){return t<e?-1:t>e?1:0}function Ka(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return Ea(r)===Ea(i)?Ie(r,i):Ea(r)?1:-1}return Ie(t.length,e.length)}const rT=55296,iT=57343;function Ea(t){const e=t.charCodeAt(0);return e>=rT&&e<=iT}function Ks(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}const ch="__name__";class tn{constructor(e,n,s){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&he(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return tn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tn?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=tn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const s=tn.isNumericId(e),r=tn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?tn.extractNumericId(e).compare(tn.extractNumericId(n)):Ka(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $n.fromString(e.substring(4,e.length-2))}}class qe extends tn{construct(e,n,s){return new qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ne($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new qe(n)}static emptyPath(){return new qe([])}}const oT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends tn{construct(e,n,s){return new ut(e,n,s)}static isValidIdentifier(e){return oT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ch}static keyField(){return new ut([ch])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ne($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new ne($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ne($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new ne($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}class le{constructor(e){this.path=e}static fromPath(e){return new le(qe.fromString(e))}static fromName(e){return new le(qe.fromString(e).popFirst(5))}static empty(){return new le(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new qe(e.slice()))}}function aT(t,e,n){if(!n)throw new ne($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lT(t,e,n,s){if(e===!0&&s===!0)throw new ne($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uh(t){if(!le.isDocumentKey(t))throw new ne($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kd(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ll(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ll(t);throw new ne($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ye(t,e){const n={typeString:t};return e&&(n.value=e),n}function ci(t,e){if(!Kd(t))throw new ne($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new ne($.INVALID_ARGUMENT,n);return!0}const hh=-62135596800,fh=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*fh);return new je(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hh)throw new ne($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fh}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ci(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:Ye("string",je._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new je(0,0))}static max(){return new pe(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yr=-1;function cT(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=pe.fromTimestamp(s===1e9?new je(n+1,0):new je(n,s));return new Kn(r,le.empty(),e)}function uT(t){return new Kn(t.readTime,t.key,Yr)}class Kn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kn(pe.min(),le.empty(),Yr)}static max(){return new Kn(pe.max(),le.empty(),Yr)}}function hT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}const fT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function er(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==fT)throw t;te("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B(((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):B.reject(n)}static resolve(e){return new B(((n,s)=>{n(e)}))}static reject(e){return new B(((n,s)=>{s(e)}))}static waitFor(e){return new B(((n,s)=>{let r=0,i=0,a=!1;e.forEach((l=>{++r,l.next((()=>{++i,a&&i===r&&n()}),(c=>s(c)))})),a=!0,i===r&&n()}))}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next((r=>r?B.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,i)=>{s.push(n.call(this,r,i))})),this.waitFor(s)}static mapArray(e,n){return new B(((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next((d=>{a[h]=d,++l,l===i&&s(a)}),(d=>r(d)))}}))}static doWhile(e,n){return new B(((s,r)=>{const i=()=>{e()===!0?n().next((()=>{i()}),r):s()};i()}))}}function pT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tr(t){return t.name==="IndexedDbTransactionError"}class So{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}So.ce=-1;const Bl=-1;function Co(t){return t==null}function no(t){return t===0&&1/t==-1/0}function gT(t){return typeof t=="number"&&Number.isInteger(t)&&!no(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Wd="";function mT(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dh(e)),e=_T(t.get(n),e);return dh(e)}function _T(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case Wd:n+="";break;default:n+=i}}return n}function dh(t){return t+Wd+""}function ph(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ze{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ci(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ci(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ci(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ci(this.root,e,this.comparator,!0)}}class Ci{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??ct.RED,this.left=r??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new ct(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ct.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rt{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gh(this.data.getIterator())}getIteratorFrom(e){return new gh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class gh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new rt(ut.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Jd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Jd("Invalid base64 string: "+i):i}})(e);return new ft(n)}static fromUint8Array(e){const n=(function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i})(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const yT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=yT.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qn(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}const Yd="server_timestamp",Xd="__type__",Zd="__previous_value__",ep="__local_write_time__";function Ul(t){return(t?.mapValue?.fields||{})[Xd]?.stringValue===Yd}function Po(t){const e=t.mapValue.fields[Zd];return Ul(e)?Po(e):e}function Xr(t){const e=Wn(t.mapValue.fields[ep].timestampValue);return new je(e.seconds,e.nanos)}class vT{constructor(e,n,s,r,i,a,l,c,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d,this.apiKey=p}}const so="(default)";class Zr{constructor(e,n){this.projectId=e,this.database=n||so}static empty(){return new Zr("","")}get isDefaultDatabase(){return this.database===so}isEqual(e){return e instanceof Zr&&e.projectId===this.projectId&&e.database===this.database}}function ET(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ne($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zr(t.options.projectId,e)}const tp="__type__",AT="__max__",Pi={mapValue:{}},np="__vector__",ro="value";function Jn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ul(t)?4:IT(t)?9007199254740991:TT(t)?10:11:he(28295,{value:t})}function un(t,e){if(t===e)return!0;const n=Jn(t);if(n!==Jn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xr(t).isEqual(Xr(e));case 3:return(function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Wn(r.timestampValue),l=Wn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,i){return Qn(r.bytesValue).isEqual(Qn(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,i){return Qe(r.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)})(t,e);case 2:return(function(r,i){if("integerValue"in r&&"integerValue"in i)return Qe(r.integerValue)===Qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Qe(r.doubleValue),l=Qe(i.doubleValue);return a===l?no(a)===no(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return Ks(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:case 11:return(function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(ph(a)!==ph(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!un(a[c],l[c])))return!1;return!0})(t,e);default:return he(52216,{left:t})}}function ei(t,e){return(t.values||[]).find((n=>un(n,e)))!==void 0}function Ws(t,e){if(t===e)return 0;const n=Jn(t),s=Jn(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const l=Qe(i.integerValue||i.doubleValue),c=Qe(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return mh(t.timestampValue,e.timestampValue);case 4:return mh(Xr(t),Xr(e));case 5:return Ka(t.stringValue,e.stringValue);case 6:return(function(i,a){const l=Qn(i),c=Qn(a);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const l=i.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=Ie(l[h],c[h]);if(d!==0)return d}return Ie(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const l=Ie(Qe(i.latitude),Qe(a.latitude));return l!==0?l:Ie(Qe(i.longitude),Qe(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return _h(t.arrayValue,e.arrayValue);case 10:return(function(i,a){const l=i.fields||{},c=a.fields||{},h=l[ro]?.arrayValue,d=c[ro]?.arrayValue,p=Ie(h?.values?.length||0,d?.values?.length||0);return p!==0?p:_h(h,d)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===Pi.mapValue&&a===Pi.mapValue)return 0;if(i===Pi.mapValue)return 1;if(a===Pi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=a.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const _=Ka(c[p],d[p]);if(_!==0)return _;const T=Ws(l[c[p]],h[d[p]]);if(T!==0)return T}return Ie(c.length,d.length)})(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function mh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Wn(t),s=Wn(e),r=Ie(n.seconds,s.seconds);return r!==0?r:Ie(n.nanos,s.nanos)}function _h(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Ws(n[r],s[r]);if(i)return i}return Ie(n.length,s.length)}function Qs(t){return Wa(t)}function Wa(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Wn(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qn(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return le.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Wa(i);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${Wa(n.fields[a])}`;return r+"}"})(t.mapValue):he(61005,{value:t})}function Li(t){switch(Jn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Po(t);return e?16+Li(e):16;case 5:return 2*t.stringValue.length;case 6:return Qn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,i)=>r+Li(i)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return vs(s.fields,((i,a)=>{r+=i.length+Li(a)})),r})(t.mapValue);default:throw he(13486,{value:t})}}function Qa(t){return!!t&&"integerValue"in t}function jl(t){return!!t&&"arrayValue"in t}function yh(t){return!!t&&"nullValue"in t}function vh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bi(t){return!!t&&"mapValue"in t}function TT(t){return(t?.mapValue?.fields||{})[tp]?.stringValue===np}function Lr(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Lr(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lr(t.arrayValue.values[n]);return e}return{...t}}function IT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AT}class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Bi(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lr(n)}setAll(e){let n=ut.emptyPath(),s={},r=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Lr(a):r.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Bi(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Bi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){vs(n,((r,i)=>e[r]=i));for(const r of s)delete e[r]}clone(){return new Bt(Lr(this.value))}}function sp(t){const e=[];return vs(t.fields,((n,s)=>{const r=new ut([n]);if(Bi(s)){const i=sp(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)})),new Gt(e)}class Et{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Et(e,0,pe.min(),pe.min(),pe.min(),Bt.empty(),0)}static newFoundDocument(e,n,s,r){return new Et(e,1,n,pe.min(),s,r,0)}static newNoDocument(e,n){return new Et(e,2,n,pe.min(),pe.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,pe.min(),pe.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class io{constructor(e,n){this.position=e,this.inclusive=n}}function Eh(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=le.comparator(le.fromName(a.referenceValue),n.key):s=Ws(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ah(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!un(t.position[n],e.position[n]))return!1;return!0}class oo{constructor(e,n="asc"){this.field=e,this.dir=n}}function bT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class rp{}class nt extends rp{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new RT(e,n,s):n==="array-contains"?new PT(e,s):n==="in"?new xT(e,s):n==="not-in"?new VT(e,s):n==="array-contains-any"?new DT(e,s):new nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ST(e,s):new CT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ws(n,this.value)):n!==null&&Jn(this.value)===Jn(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends rp{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hn(e,n)}matches(e){return ip(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ip(t){return t.op==="and"}function op(t){return wT(t)&&ip(t)}function wT(t){for(const e of t.filters)if(e instanceof hn)return!1;return!0}function Ja(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Qs(t.value);if(op(t))return t.filters.map((e=>Ja(e))).join(",");{const e=t.filters.map((n=>Ja(n))).join(",");return`${t.op}(${e})`}}function ap(t,e){return t instanceof nt?(function(s,r){return r instanceof nt&&s.op===r.op&&s.field.isEqual(r.field)&&un(s.value,r.value)})(t,e):t instanceof hn?(function(s,r){return r instanceof hn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((i,a,l)=>i&&ap(a,r.filters[l])),!0):!1})(t,e):void he(19439)}function lp(t){return t instanceof nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`})(t):t instanceof hn?(function(n){return n.op.toString()+" {"+n.getFilters().map(lp).join(" ,")+"}"})(t):"Filter"}class RT extends nt{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class ST extends nt{constructor(e,n){super(e,"in",n),this.keys=cp("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CT extends nt{constructor(e,n){super(e,"not-in",n),this.keys=cp("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function cp(t,e){return(e.arrayValue?.values||[]).map((n=>le.fromName(n.referenceValue)))}class PT extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jl(n)&&ei(n.arrayValue,this.value)}}class xT extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ei(this.value.arrayValue,n)}}class VT extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ei(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ei(this.value.arrayValue,n)}}class DT extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ei(this.value.arrayValue,s)))}}class NT{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Th(t,e=null,n=[],s=[],r=null,i=null,a=null){return new NT(t,e,n,s,r,i,a)}function Hl(t){const e=_e(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ja(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),Co(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Qs(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Qs(s))).join(",")),e.Te=n}return e.Te}function $l(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ap(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ah(t.startAt,e.startAt)&&Ah(t.endAt,e.endAt)}function Ya(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class xo{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function OT(t,e,n,s,r,i,a,l){return new xo(t,e,n,s,r,i,a,l)}function Vo(t){return new xo(t)}function Ih(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kT(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function MT(t){return t.collectionGroup!==null}function Br(t){const e=_e(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new rt(ut.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new oo(i,s))})),n.has(ut.keyField().canonicalString())||e.Ie.push(new oo(ut.keyField(),s))}return e.Ie}function rn(t){const e=_e(t);return e.Ee||(e.Ee=FT(e,Br(t))),e.Ee}function FT(t,e){if(t.limitType==="F")return Th(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const i=r.dir==="desc"?"asc":"desc";return new oo(r.field,i)}));const n=t.endAt?new io(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new io(t.startAt.position,t.startAt.inclusive):null;return Th(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Xa(t,e,n){return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Do(t,e){return $l(rn(t),rn(e))&&t.limitType===e.limitType}function up(t){return`${Hl(rn(t))}|lt:${t.limitType}`}function Ds(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>lp(r))).join(", ")}]`),Co(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>Qs(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>Qs(r))).join(",")),`Target(${s})`})(rn(t))}; limitType=${t.limitType})`}function No(t,e){return e.isFoundDocument()&&(function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):le.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(t,e)&&(function(s,r){for(const i of Br(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(a,l,c){const h=Eh(a,l,c);return a.inclusive?h<=0:h<0})(s.startAt,Br(s),r)||s.endAt&&!(function(a,l,c){const h=Eh(a,l,c);return a.inclusive?h>=0:h>0})(s.endAt,Br(s),r))})(t,e)}function LT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hp(t){return(e,n)=>{let s=!1;for(const r of Br(t)){const i=BT(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function BT(t,e,n){const s=t.field.isKeyField()?le.comparator(e.key,n.key):(function(i,a,l){const c=a.data.field(i),h=l.data.field(i);return c!==null&&h!==null?Ws(c,h):he(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return he(19790,{direction:t.dir})}}class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,s)=>{for(const[r,i]of s)e(r,i)}))}isEmpty(){return Qd(this.inner)}size(){return this.innerSize}}const UT=new ze(le.comparator);function Rn(){return UT}const fp=new ze(le.comparator);function br(...t){let e=fp;for(const n of t)e=e.insert(n.key,n);return e}function dp(t){let e=fp;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function us(){return Ur()}function pp(){return Ur()}function Ur(){return new Es((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jT=new ze(le.comparator),HT=new rt(le.comparator);function be(...t){let e=HT;for(const n of t)e=e.add(n);return e}const $T=new rt(Ie);function qT(){return $T}function ql(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:no(e)?"-0":e}}function gp(t){return{integerValue:""+t}}function zT(t,e){return gT(e)?gp(e):ql(t,e)}class Oo{constructor(){this._=void 0}}function GT(t,e,n){return t instanceof ao?(function(r,i){const a={fields:{[Xd]:{stringValue:Yd},[ep]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ul(i)&&(i=Po(i)),i&&(a.fields[Zd]=i),{mapValue:a}})(n,e):t instanceof ti?_p(t,e):t instanceof ni?yp(t,e):(function(r,i){const a=mp(r,i),l=bh(a)+bh(r.Ae);return Qa(a)&&Qa(r.Ae)?gp(l):ql(r.serializer,l)})(t,e)}function KT(t,e,n){return t instanceof ti?_p(t,e):t instanceof ni?yp(t,e):n}function mp(t,e){return t instanceof lo?(function(s){return Qa(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class ao extends Oo{}class ti extends Oo{constructor(e){super(),this.elements=e}}function _p(t,e){const n=vp(e);for(const s of t.elements)n.some((r=>un(r,s)))||n.push(s);return{arrayValue:{values:n}}}class ni extends Oo{constructor(e){super(),this.elements=e}}function yp(t,e){let n=vp(e);for(const s of t.elements)n=n.filter((r=>!un(r,s)));return{arrayValue:{values:n}}}class lo extends Oo{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bh(t){return Qe(t.integerValue||t.doubleValue)}function vp(t){return jl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WT(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof ti&&r instanceof ti||s instanceof ni&&r instanceof ni?Ks(s.elements,r.elements,un):s instanceof lo&&r instanceof lo?un(s.Ae,r.Ae):s instanceof ao&&r instanceof ao})(t.transform,e.transform)}class QT{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ui(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ko{}function Ep(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tp(t.key,En.none()):new ui(t.key,t.data,En.none());{const n=t.data,s=Bt.empty();let r=new rt(ut.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new As(t.key,s,new Gt(r.toArray()),En.none())}}function JT(t,e,n){t instanceof ui?(function(r,i,a){const l=r.value.clone(),c=Rh(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof As?(function(r,i,a){if(!Ui(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Rh(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(Ap(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function jr(t,e,n,s){return t instanceof ui?(function(i,a,l,c){if(!Ui(i.precondition,a))return l;const h=i.value.clone(),d=Sh(i.fieldTransforms,c,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(t,e,n,s):t instanceof As?(function(i,a,l,c){if(!Ui(i.precondition,a))return l;const h=Sh(i.fieldTransforms,c,a),d=a.data;return d.setAll(Ap(i)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,s):(function(i,a,l){return Ui(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function YT(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=mp(s.transform,r||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(s.field,i))}return n||null}function wh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Ks(s,r,((i,a)=>WT(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ui extends ko{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class As extends ko{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ap(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Rh(t,e,n){const s=new Map;Ne(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,KT(a,l,n[r]))}return s}function Sh(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,GT(i,a,e))}return s}class Tp extends ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XT extends ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZT{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&JT(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jr(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jr(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pp();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=Ep(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(pe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),be())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,((n,s)=>wh(n,s)))&&Ks(this.baseMutations,e.baseMutations,((n,s)=>wh(n,s)))}}class zl{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ne(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return jT})();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new zl(e,n,s,r)}}class eI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Je,Re;function nI(t){switch(t){case $.OK:return he(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function Ip(t){if(t===void 0)return wn("GRPC error has no .code"),$.UNKNOWN;switch(t){case Je.OK:return $.OK;case Je.CANCELLED:return $.CANCELLED;case Je.UNKNOWN:return $.UNKNOWN;case Je.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Je.INTERNAL:return $.INTERNAL;case Je.UNAVAILABLE:return $.UNAVAILABLE;case Je.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Je.NOT_FOUND:return $.NOT_FOUND;case Je.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Je.ABORTED:return $.ABORTED;case Je.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Je.DATA_LOSS:return $.DATA_LOSS;default:return he(39323,{code:t})}}(Re=Je||(Je={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";function sI(){return new TextEncoder}const rI=new $n([4294967295,4294967295],0);function Ch(t){const e=sI().encode(t),n=new Bd;return n.update(e),new Uint8Array(n.digest())}function Ph(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $n([n,s],0),new $n([r,i],0)]}class Gl{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wr(`Invalid padding: ${n}`);if(s<0)throw new wr(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wr(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wr(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$n.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply($n.fromNumber(s)));return r.compare(rI)===1&&(r=new $n([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ch(e),[s,r]=Ph(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Gl(i,r,n);return s.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=Ch(e),[s,r]=Ph(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.be(a)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mo{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,hi.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mo(pe.min(),r,new ze(Ie),Rn(),be())}}class hi{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hi(s,n,be(),be(),be())}}class ji{constructor(e,n,s,r){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=r}}class bp{constructor(e,n){this.targetId=e,this.Ce=n}}class wp{constructor(e,n,s=ft.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class xh{constructor(){this.ve=0,this.Fe=Vh(),this.Me=ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),s=be();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:he(38017,{changeType:i})}})),new hi(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Vh()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class iI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rn(),this.He=xi(),this.Je=xi(),this.Ze=new ze(Ie)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:he(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(Ya(i))if(s===0){const a=new le(i.path);this.et(n,a,Et.newNoDocument(a,pe.min()))}else Ne(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=Qn(s).toUint8Array()}catch(c){if(c instanceof Jd)return ms("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Gl(a,r,i)}catch(c){return ms(c instanceof wr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach((i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Ya(l.target)){const c=new le(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Et.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.Ke())}}));let s=be();this.Je.forEach(((i,a)=>{let l=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(s=s.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const r=new Mo(e,n,this.Ze,this.je,s);return this.je=Rn(),this.He=xi(),this.Je=xi(),this.Ze=new ze(Ie),r}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new xh,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new rt(Ie),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new rt(Ie),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xh),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xi(){return new ze(le.comparator)}function Vh(){return new ze(le.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},aI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lI={and:"AND",or:"OR"};class cI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Za(t,e){return t.useProto3Json||Co(e)?e:{value:e}}function co(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rp(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uI(t,e){return co(t,e.toTimestamp())}function on(t){return Ne(!!t,49232),pe.fromTimestamp((function(n){const s=Wn(n);return new je(s.seconds,s.nanos)})(t))}function Kl(t,e){return el(t,e).canonicalString()}function el(t,e){const n=(function(r){return new qe(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Sp(t){const e=qe.fromString(t);return Ne(Dp(e),10190,{key:e.toString()}),e}function tl(t,e){return Kl(t.databaseId,e.path)}function Aa(t,e){const n=Sp(e);if(n.get(1)!==t.databaseId.projectId)throw new ne($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(Pp(n))}function Cp(t,e){return Kl(t.databaseId,e)}function hI(t){const e=Sp(t);return e.length===4?qe.emptyPath():Pp(e)}function nl(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Pp(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dh(t,e,n){return{name:tl(t,e),fields:n.value.mapValue.fields}}function fI(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:he(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(Ne(d===void 0||typeof d=="string",58123),ft.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ft.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(h){const d=h.code===void 0?$.UNKNOWN:Ip(h.code);return new ne(d,h.message||"")})(a);n=new wp(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Aa(t,s.document.name),i=on(s.document.updateTime),a=s.document.createTime?on(s.document.createTime):pe.min(),l=new Bt({mapValue:{fields:s.document.fields}}),c=Et.newFoundDocument(r,i,a,l),h=s.targetIds||[],d=s.removedTargetIds||[];n=new ji(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Aa(t,s.document),i=s.readTime?on(s.readTime):pe.min(),a=Et.newNoDocument(r,i),l=s.removedTargetIds||[];n=new ji([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Aa(t,s.document),i=s.removedTargetIds||[];n=new ji([],i,r,null)}else{if(!("filter"in e))return he(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new tI(r,i),l=s.targetId;n=new bp(l,a)}}return n}function dI(t,e){let n;if(e instanceof ui)n={update:Dh(t,e.key,e.value)};else if(e instanceof Tp)n={delete:tl(t,e.key)};else if(e instanceof As)n={update:Dh(t,e.key,e.data),updateMask:TI(e.fieldMask)};else{if(!(e instanceof XT))return he(16599,{dt:e.type});n={verify:tl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(i,a){const l=a.transform;if(l instanceof ao)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ti)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ni)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof lo)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw he(20930,{transform:a.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,i){return i.updateTime!==void 0?{updateTime:uI(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he(27497)})(t,e.precondition)),n}function pI(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map((n=>(function(r,i){let a=r.updateTime?on(r.updateTime):on(i);return a.isEqual(pe.min())&&(a=on(i)),new QT(a,r.transformResults||[])})(n,e)))):[]}function gI(t,e){return{documents:[Cp(t,e.path)]}}function mI(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Cp(t,r);const i=(function(h){if(h.length!==0)return Vp(hn.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((d=>(function(_){return{field:Ns(_.field),direction:vI(_.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Za(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:r}}function _I(t){let e=hI(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ne(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(p){const _=xp(p);return _ instanceof hn&&op(_)?_.getFilters():[_]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((_=>(function(P){return new oo(Os(P.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(_)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let _;return _=typeof p=="object"?p.value:p,Co(_)?null:_})(n.limit));let c=null;n.startAt&&(c=(function(p){const _=!!p.before,T=p.values||[];return new io(T,_)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const _=!p.before,T=p.values||[];return new io(T,_)})(n.endAt)),OT(e,r,a,i,l,"F",c,h)}function yI(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xp(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Os(n.unaryFilter.field);return nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Os(n.unaryFilter.field);return nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Os(n.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Os(n.unaryFilter.field);return nt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nt.create(Os(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return hn.create(n.compositeFilter.filters.map((s=>xp(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return he(1026)}})(n.compositeFilter.op))})(t):he(30097,{filter:t})}function vI(t){return oI[t]}function EI(t){return aI[t]}function AI(t){return lI[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function Os(t){return ut.fromServerFormat(t.fieldPath)}function Vp(t){return t instanceof nt?(function(n){if(n.op==="=="){if(vh(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(yh(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vh(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(yh(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:EI(n.op),value:n.value}}})(t):t instanceof hn?(function(n){const s=n.getFilters().map((r=>Vp(r)));return s.length===1?s[0]:{compositeFilter:{op:AI(n.op),filters:s}}})(t):he(54877,{filter:t})}function TI(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Dp(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Np(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Bn{constructor(e,n,s,r,i=pe.min(),a=pe.min(),l=ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Bn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class II{constructor(e){this.yt=e}}function bI(t){const e=_I({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xa(e,e.limit,"L"):e}class wI{constructor(){this.Sn=new RI}addToCollectionParentIndex(e,n){return this.Sn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Kn.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class RI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new rt(qe.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new rt(qe.comparator)).toArray()}}const Nh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Op=41943040;class Dt{static withCacheSize(e){return new Dt(e,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Dt.DEFAULT_COLLECTION_PERCENTILE=10,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dt.DEFAULT=new Dt(Op,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dt.DISABLED=new Dt(-1,0,0);class Js{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Js(0)}static ar(){return new Js(-1)}}const Oh="LruGarbageCollector",SI=1048576;function kh([t,e],[n,s]){const r=Ie(t,n);return r===0?Ie(e,s):r}class CI{constructor(e){this.Pr=e,this.buffer=new rt(kh),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kh(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){te(Oh,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tr(n)?te(Oh,"Ignoring IndexedDB error during garbage collection: ",n):await er(n)}await this.Ar(3e5)}))}}class xI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return B.resolve(So.ce);const s=new CI(n);return this.Vr.forEachTarget(e,(r=>s.Er(r.sequenceNumber))).next((()=>this.Vr.mr(e,(r=>s.Er(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Nh)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nh):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,r,i,a,l,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(s=p,l=Date.now(),this.removeTargets(e,s,n)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,s)))).next((p=>(h=Date.now(),Vs()<=Se.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:p}))))}}function VI(t,e){return new xI(t,e)}class DI{constructor(){this.changes=new Es((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class OI{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&jr(s.mutation,r,Gt.empty(),je.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=be()){const r=us();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((i=>{let a=br();return i.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const s=us();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,be())))}populateOverlays(e,n,s){const r=[];return s.forEach((i=>{n.has(i)||r.push(i)})),this.documentOverlayCache.getOverlays(e,r).next((i=>{i.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,s,r){let i=Rn();const a=Ur(),l=(function(){return Ur()})();return n.forEach(((c,h)=>{const d=s.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof As)?i=i.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),jr(d.mutation,h,d.mutation.getFieldMask(),je.now())):a.set(h.key,Gt.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((h,d)=>a.set(h,d))),n.forEach(((h,d)=>l.set(h,new NI(d,a.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,n){const s=Ur();let r=new ze(((a,l)=>a-l)),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let d=s.get(c)||Gt.empty();d=l.applyToLocalView(h,d),s.set(c,d);const p=(r.get(l.batchId)||be()).add(c);r=r.insert(l.batchId,p)}))})).next((()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,p=pp();d.forEach((_=>{if(!i.has(_)){const T=Ep(n.get(_),s.get(_));T!==null&&p.set(_,T),i=i.add(_)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return B.waitFor(a)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return kT(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):B.resolve(us());let l=Yr,c=i;return a.next((h=>B.forEach(h,((d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next((_=>{c=c.insert(d,_)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,c,h,be()))).next((d=>({batchId:l,changes:dp(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next((s=>{let r=br();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=br();return this.indexManager.getCollectionParents(e,i).next((l=>B.forEach(l,(c=>{const h=(function(p,_){return new xo(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next((d=>{d.forEach(((p,_)=>{a=a.insert(p,_)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r)))).next((a=>{i.forEach(((c,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,Et.newInvalidDocument(d)))}));let l=br();return a.forEach(((c,h)=>{const d=i.get(c);d!==void 0&&jr(d.mutation,h,Gt.empty(),je.now()),No(n,h)&&(l=l.insert(c,h))})),l}))}}class kI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return B.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:on(r.createTime)}})(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(r){return{name:r.name,query:bI(r.bundledQuery),readTime:on(r.readTime)}})(n)),B.resolve()}}class MI{constructor(){this.overlays=new ze(le.comparator),this.Lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=us();return B.forEach(n,(r=>this.getOverlay(e,r).next((i=>{i!==null&&s.set(r,i)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,i)=>{this.bt(e,n,i)})),B.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Lr.get(s);return r!==void 0&&(r.forEach((i=>this.overlays=this.overlays.remove(i))),this.Lr.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const r=us(),i=n.length+1,a=new le(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return B.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new ze(((h,d)=>h-d));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=i.get(h.largestBatchId);d===null&&(d=us(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=us(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,d)=>l.set(h,d))),!(l.size()>=r)););return B.resolve(l)}bt(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.Lr.get(r.largestBatchId).delete(s.key);this.Lr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new eI(n,s));let i=this.Lr.get(n);i===void 0&&(i=be(),this.Lr.set(n,i)),this.Lr.set(n,i.add(s.key))}}class FI{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}class Wl{constructor(){this.kr=new rt(at.Kr),this.qr=new rt(at.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new at(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new at(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new le(new qe([])),s=new at(n,e),r=new at(n,e+1),i=[];return this.qr.forEachInRange([s,r],(a=>{this.Wr(a),i.push(a.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new le(new qe([])),s=new at(n,e),r=new at(n,e+1);let i=be();return this.qr.forEachInRange([s,r],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new at(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class at{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return le.comparator(e.key,n.key)||Ie(e.Hr,n.Hr)}static Ur(e,n){return Ie(e.Hr,n.Hr)||le.comparator(e.key,n.key)}}class LI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new rt(at.Kr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ZT(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Jr=this.Jr.add(new at(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,n){return B.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Xr(s),i=r<0?0:r;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Bl:this.Yn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new at(n,0),r=new at(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([s,r],(a=>{const l=this.Zr(a.Hr);i.push(l)})),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new rt(Ie);return n.forEach((r=>{const i=new at(r,0),a=new at(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,a],(l=>{s=s.add(l.Hr)}))})),B.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;le.isDocumentKey(i)||(i=i.child(""));const a=new at(new le(i),0);let l=new rt(Ie);return this.Jr.forEachWhile((c=>{const h=c.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(l=l.add(c.Hr)),!0)}),a),B.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((s=>{const r=this.Zr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){Ne(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return B.forEach(n.mutations,(r=>{const i=new at(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new at(n,0),r=this.Jr.firstAfterOrEqual(s);return B.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BI{constructor(e){this.ti=e,this.docs=(function(){return new ze(le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let s=Rn();return n.forEach((r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Et.newInvalidDocument(r))})),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Rn();const a=n.path,l=new le(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||hT(uT(d),s)<=0||(r.has(d.key)||No(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,s,r){he(9500)}ni(e,n){return B.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new UI(this)}getSize(e){return B.resolve(this.size)}}class UI extends DI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(s)})),B.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class jI{constructor(e){this.persistence=e,this.ri=new Es((n=>Hl(n)),$l),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.ii=0,this.si=new Wl,this.targetCount=0,this.oi=Js._r()}forEachTarget(e,n){return this.ri.forEach(((s,r)=>n(r))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),B.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.lr(n),B.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.ri.forEach(((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)})),B.waitFor(i).next((()=>r))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach((a=>{i.push(r.markPotentiallyOrphaned(e,a))})),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.si.containsKey(n))}}class kp{constructor(e,n){this._i={},this.overlays={},this.ai=new So(0),this.ui=!1,this.ui=!0,this.ci=new FI,this.referenceDelegate=e(this),this.li=new jI(this),this.indexManager=new wI,this.remoteDocumentCache=(function(r){return new BI(r)})((s=>this.referenceDelegate.hi(s))),this.serializer=new II(n),this.Pi=new kI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new LI(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const r=new HI(this.ai.next());return this.referenceDelegate.Ti(),s(r).next((i=>this.referenceDelegate.Ii(r).next((()=>i)))).toPromise().then((i=>(r.raiseOnCommittedEvent(),i)))}Ei(e,n){return B.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class HI extends dT{constructor(e){super(),this.currentSequenceNumber=e}}class Ql{constructor(e){this.persistence=e,this.Ri=new Wl,this.Ai=null}static Vi(e){return new Ql(e)}get di(){if(this.Ai)return this.Ai;throw he(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((r=>this.di.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((i=>this.di.add(i.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,(s=>{const r=le.fromPath(s);return this.mi(e,r).next((i=>{i||n.removeEntry(r,pe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class uo{constructor(e,n){this.persistence=e,this.fi=new Es((s=>mT(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=VI(this,n)}static Vi(e,n){return new uo(e,n)}Ti(){}Ii(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return B.forEach(this.fi,((s,r)=>this.wr(e,s,r).next((i=>i?B.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,(a=>this.wr(e,a,n).next((l=>{l||(s++,i.removeEntry(a,pe.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),B.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Li(e.data.value)),n}wr(e,n,s){return B.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return B.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jl{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=r}static Es(e,n){let s=be(),r=be();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Jl(e,n.fromCache,s,r)}}class $I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class qI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return DE()?8:pT(xE())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.gs(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ps(e,n,r,s).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new $I;return this.ys(e,n,a).next((l=>{if(i.result=l,this.As)return this.ws(e,n,a,l.size)}))})).next((()=>i.result))}ws(e,n,s,r){return s.documentReadCount<this.Vs?(Vs()<=Se.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(Vs()<=Se.DEBUG&&te("QueryEngine","Query:",Ds(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ds*r?(Vs()<=Se.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rn(n))):B.resolve())}gs(e,n){if(Ih(n))return B.resolve(null);let s=rn(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=Xa(n,null,"F"),s=rn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const a=be(...i);return this.fs.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,s).next((c=>{const h=this.bs(n,l);return this.Ss(n,h,a,c.readTime)?this.gs(e,Xa(n,null,"F")):this.Ds(e,h,n,c)}))))})))))}ps(e,n,s,r){return Ih(n)||r.isEqual(pe.min())?B.resolve(null):this.fs.getDocuments(e,s).next((i=>{const a=this.bs(n,i);return this.Ss(n,a,s,r)?B.resolve(null):(Vs()<=Se.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ds(n)),this.Ds(e,a,n,cT(r,Yr)).next((l=>l)))}))}bs(e,n){let s=new rt(hp(e));return n.forEach(((r,i)=>{No(e,i)&&(s=s.add(i))})),s}Ss(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,n,s){return Vs()<=Se.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.fs.getDocumentsMatchingQuery(e,n,Kn.min(),s)}Ds(e,n,s,r){return this.fs.getDocumentsMatchingQuery(e,s,r).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}const Yl="LocalStore",zI=3e8;class GI{constructor(e,n,s,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new ze(Ie),this.Fs=new Es((i=>Hl(i)),$l),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function KI(t,e,n,s){return new GI(t,e,n,s)}async function Mp(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((i=>(r=i,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((i=>{const a=[],l=[];let c=be();for(const h of r){a.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next((h=>({Ns:h,removedBatchIds:a,addedBatchIds:l})))}))}))}function WI(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,h,d){const p=h.batch,_=p.keys();let T=B.resolve();return _.forEach((P=>{T=T.next((()=>d.getEntry(c,P))).next((x=>{const S=h.docVersions.get(P);Ne(S!==null,48541),x.version.compareTo(S)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))}))})),T.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,s,e,i).next((()=>i.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(l){let c=be();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function Fp(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function QI(t,e){const n=_e(t),s=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];e.targetChanges.forEach(((d,p)=>{const _=r.get(p);if(!_)return;l.push(n.li.removeMatchingKeys(i,d.removedDocuments,p).next((()=>n.li.addMatchingKeys(i,d.addedDocuments,p))));let T=_.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(ft.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(d.resumeToken,s)),r=r.insert(p,T),(function(x,S,k){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=zI?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(_,T,d)&&l.push(n.li.updateTargetData(i,T))}));let c=Rn(),h=be();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),l.push(JI(i,a,e.documentUpdates).next((d=>{c=d.Bs,h=d.Ls}))),!s.isEqual(pe.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next((p=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,s)));l.push(d)}return B.waitFor(l).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.vs=r,i)))}function JI(t,e,n){let s=be(),r=be();return n.forEach((i=>s=s.add(i))),e.getEntries(t,s).next((i=>{let a=Rn();return n.forEach(((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):te(Yl,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)})),{Bs:a,Ls:r}}))}function YI(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Bl),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function XI(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.li.getTargetData(s,e).next((i=>i?(r=i,B.resolve(r)):n.li.allocateTargetId(s).next((a=>(r=new Bn(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.vs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function sl(t,e,n){const s=_e(t),r=s.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(a=>s.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!tr(a))throw a;te(Yl,`Failed to update sequence numbers for target ${e}: ${a}`)}s.vs=s.vs.remove(e),s.Fs.delete(r.target)}function Mh(t,e,n){const s=_e(t);let r=pe.min(),i=be();return s.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,h,d){const p=_e(c),_=p.Fs.get(d);return _!==void 0?B.resolve(p.vs.get(_)):p.li.getTargetData(h,d)})(s,a,rn(e)).next((l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(a,l.targetId).next((c=>{i=c}))})).next((()=>s.Cs.getDocumentsMatchingQuery(a,e,n?r:pe.min(),n?i:be()))).next((l=>(ZI(s,LT(e),l),{documents:l,ks:i})))))}function ZI(t,e,n){let s=t.Ms.get(e)||pe.min();n.forEach(((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),t.Ms.set(e,s)}class Fh{constructor(){this.activeTargetIds=qT()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eb{constructor(){this.vo=new Fh,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Fh,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tb{Mo(e){}shutdown(){}}const Lh="ConnectivityMonitor";class Bh{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){te(Lh,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){te(Lh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vi=null;function rl(){return Vi===null?Vi=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vi++,"0x"+Vi.toString(16)}const Ta="RestConnection",nb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class sb{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${r}`,this.$o=this.databaseId.database===so?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Wo(e,n,s,r,i){const a=rl(),l=this.Qo(e,n.toUriEncodedString());te(Ta,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,r,i);const{host:h}=new URL(l),d=Ol(h);return this.zo(e,l,c,s,d).then((p=>(te(Ta,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw ms(Ta,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",s),p}))}jo(e,n,s,r,i,a){return this.Wo(e,n,s,r,i)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,i)=>e[i]=r)),s&&s.headers.forEach(((r,i)=>e[i]=r))}Qo(e,n){const s=nb[e];let r=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class rb{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const _t="WebChannelConnection",Ar=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(r){setTimeout((()=>{throw r}),0)}}))};class Us extends sb{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Us.c_){const e=$d();Ar(e,Hd.STAT_EVENT,(n=>{n.stat===Ga.PROXY?te(_t,"STAT_EVENT: detected buffering proxy"):n.stat===Ga.NOPROXY&&te(_t,"STAT_EVENT: detected no buffering proxy")})),Us.c_=!0}}zo(e,n,s,r,i){const a=rl();return new Promise(((l,c)=>{const h=new Ud;h.setWithCredentials(!0),h.listenOnce(jd.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Fi.NO_ERROR:const p=h.getResponseJson();te(_t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Fi.TIMEOUT:te(_t,`RPC '${e}' ${a} timed out`),c(new ne($.DEADLINE_EXCEEDED,"Request time out"));break;case Fi.HTTP_ERROR:const _=h.getStatus();if(te(_t,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T?.error;if(P&&P.status&&P.message){const x=(function(k){const O=k.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(O)>=0?O:$.UNKNOWN})(P.status);c(new ne(x,P.message))}else c(new ne($.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ne($.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{te(_t,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(r);te(_t,`RPC '${e}' ${a} sending request:`,r),h.send(n,"POST",d,s,15)}))}T_(e,n,s){const r=rl(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const h=i.join("");te(_t,`Creating RPC '${e}' stream ${r}: ${h}`,l);const d=a.createWebChannel(h,l);this.I_(d);let p=!1,_=!1;const T=new rb({Ho:P=>{_?te(_t,`Not sending because RPC '${e}' stream ${r} is closed:`,P):(p||(te(_t,`Opening RPC '${e}' stream ${r} transport.`),d.open(),p=!0),te(_t,`RPC '${e}' stream ${r} sending:`,P),d.send(P))},Jo:()=>d.close()});return Ar(d,Ir.EventType.OPEN,(()=>{_||(te(_t,`RPC '${e}' stream ${r} transport opened.`),T.i_())})),Ar(d,Ir.EventType.CLOSE,(()=>{_||(_=!0,te(_t,`RPC '${e}' stream ${r} transport closed`),T.o_(),this.E_(d))})),Ar(d,Ir.EventType.ERROR,(P=>{_||(_=!0,ms(_t,`RPC '${e}' stream ${r} transport errored. Name:`,P.name,"Message:",P.message),T.o_(new ne($.UNAVAILABLE,"The operation could not be completed")))})),Ar(d,Ir.EventType.MESSAGE,(P=>{if(!_){const x=P.data[0];Ne(!!x,16349);const S=x,k=S?.error||S[0]?.error;if(k){te(_t,`RPC '${e}' stream ${r} received error:`,k);const O=k.status;let j=(function(D){const E=Je[D];if(E!==void 0)return Ip(E)})(O),G=k.message;O==="NOT_FOUND"&&G.includes("database")&&G.includes("does not exist")&&G.includes(this.databaseId.database)&&ms(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),j===void 0&&(j=$.INTERNAL,G="Unknown error status: "+O+" with message "+k.message),_=!0,T.o_(new ne(j,G)),d.close()}else te(_t,`RPC '${e}' stream ${r} received:`,x),T.__(x)}})),Us.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qd()}}function ib(t){return new Us(t)}function Ia(){return typeof document<"u"?document:null}function Fo(t){return new cI(t,!0)}Us.c_=!1;class Lp{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Uh="PersistentStream";class Bp{constructor(e,n,s,r,i,a,l,c){this.Ci=e,this.b_=s,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lp(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(wn(n.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===n&&this.G_(s,r)}),(s=>{e((()=>{const r=new ne($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return te(Uh,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(te(Uh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ob extends Bp{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fI(this.serializer,e),s=(function(i){if(!("targetChange"in i))return pe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?pe.min():a.readTime?on(a.readTime):pe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=nl(this.serializer),n.addTarget=(function(i,a){let l;const c=a.target;if(l=Ya(c)?{documents:gI(i,c)}:{query:mI(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Rp(i,a.resumeToken);const h=Za(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(pe.min())>0){l.readTime=co(i,a.snapshotVersion.toTimestamp());const h=Za(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const s=yI(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=nl(this.serializer),n.removeTarget=e,this.K_(n)}}class ab extends Bp{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pI(e.writeResults,e.commitTime),s=on(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=nl(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>dI(this.serializer,s)))};this.K_(n)}}class lb{}class cb extends lb{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ne($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,el(n,s),r,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne($.UNKNOWN,i.toString())}))}jo(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.jo(e,el(n,s),r,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne($.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ub(t,e,n,s){return new cb(t,e,n,s)}class hb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wn(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _s="RemoteStore";class fb{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((a=>{s.enqueueAndForget((async()=>{Ts(this)&&(te(_s,"Restarting streams for network reachability change."),await(async function(c){const h=_e(c);h.Ea.add(4),await fi(h),h.Va.set("Unknown"),h.Ea.delete(4),await Lo(h)})(this))}))})),this.Va=new hb(s,r)}}async function Lo(t){if(Ts(t))for(const e of t.Ra)await e(!0)}async function fi(t){for(const e of t.Ra)await e(!1)}function Up(t,e){const n=_e(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tc(n)?ec(n):nr(n).O_()&&Zl(n,e))}function Xl(t,e){const n=_e(t),s=nr(n);n.Ia.delete(e),s.O_()&&jp(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ts(n)&&n.Va.set("Unknown"))}function Zl(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nr(t).Z_(e)}function jp(t,e){t.da.$e(e),nr(t).X_(e)}function ec(t){t.da=new iI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),nr(t).start(),t.Va.ua()}function tc(t){return Ts(t)&&!nr(t).x_()&&t.Ia.size>0}function Ts(t){return _e(t).Ea.size===0}function Hp(t){t.da=void 0}async function db(t){t.Va.set("Online")}async function pb(t){t.Ia.forEach(((e,n)=>{Zl(t,e)}))}async function gb(t,e){Hp(t),tc(t)?(t.Va.ha(e),ec(t)):t.Va.set("Unknown")}async function mb(t,e,n){if(t.Va.set("Online"),e instanceof wp&&e.state===2&&e.cause)try{await(async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.da.removeTarget(l))})(t,e)}catch(s){te(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ho(t,s)}else if(e instanceof ji?t.da.Xe(e):e instanceof bp?t.da.st(e):t.da.tt(e),!n.isEqual(pe.min()))try{const s=await Fp(t.localStore);n.compareTo(s)>=0&&await(function(i,a){const l=i.da.Tt(a);return l.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,h)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(ft.EMPTY_BYTE_STRING,d.snapshotVersion)),jp(i,c);const p=new Bn(d.target,c,h,d.sequenceNumber);Zl(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(s){te(_s,"Failed to raise snapshot:",s),await ho(t,s)}}async function ho(t,e,n){if(!tr(e))throw e;t.Ea.add(1),await fi(t),t.Va.set("Offline"),n||(n=()=>Fp(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{te(_s,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lo(t)}))}function $p(t,e){return e().catch((n=>ho(t,n,e)))}async function Bo(t){const e=_e(t),n=Yn(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bl;for(;_b(e);)try{const r=await YI(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,yb(e,r)}catch(r){await ho(e,r)}qp(e)&&zp(e)}function _b(t){return Ts(t)&&t.Ta.length<10}function yb(t,e){t.Ta.push(e);const n=Yn(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function qp(t){return Ts(t)&&!Yn(t).x_()&&t.Ta.length>0}function zp(t){Yn(t).start()}async function vb(t){Yn(t).ra()}async function Eb(t){const e=Yn(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ab(t,e,n){const s=t.Ta.shift(),r=zl.from(s,e,n);await $p(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Bo(t)}async function Tb(t,e){e&&Yn(t).Y_&&await(async function(s,r){if((function(a){return nI(a)&&a!==$.ABORTED})(r.code)){const i=s.Ta.shift();Yn(s).B_(),await $p(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r))),await Bo(s)}})(t,e),qp(t)&&zp(t)}async function jh(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),te(_s,"RemoteStore received new credentials");const s=Ts(n);n.Ea.add(3),await fi(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lo(n)}async function Ib(t,e){const n=_e(t);e?(n.Ea.delete(2),await Lo(n)):e||(n.Ea.add(2),await fi(n),n.Va.set("Unknown"))}function nr(t){return t.ma||(t.ma=(function(n,s,r){const i=_e(n);return i.sa(),new ob(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Zo:db.bind(null,t),Yo:pb.bind(null,t),t_:gb.bind(null,t),J_:mb.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),tc(t)?ec(t):t.Va.set("Unknown")):(await t.ma.stop(),Hp(t))}))),t.ma}function Yn(t){return t.fa||(t.fa=(function(n,s,r){const i=_e(n);return i.sa(),new ab(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vb.bind(null,t),t_:Tb.bind(null,t),ta:Eb.bind(null,t),na:Ab.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Bo(t)):(await t.fa.stop(),t.Ta.length>0&&(te(_s,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class nc{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new nc(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sc(t,e){if(wn("AsyncQueue",`${e}: ${t}`),tr(t))return new ne($.UNAVAILABLE,`${e}: ${t}`);throw t}class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=br(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Hh{constructor(){this.ga=new ze(le.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ys{constructor(e,n,s,r,i,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new Ys(e,n,js.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Do(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}class bb{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class wb{constructor(){this.queries=$h(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=_e(n),i=r.queries;r.queries=$h(),i.forEach(((a,l)=>{for(const c of l.ba)c.onError(s)}))})(this,new ne($.ABORTED,"Firestore shutting down"))}}function $h(){return new Es((t=>up(t)),Do)}async function Gp(t,e){const n=_e(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.Sa()&&e.Da()&&(s=2):(i=new bb,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=sc(a,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&rc(n)}async function Kp(t,e){const n=_e(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.ba.indexOf(e);a>=0&&(i.ba.splice(a,1),i.ba.length===0?r=e.Da()?0:1:!i.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Rb(t,e){const n=_e(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.ba)l.Fa(r)&&(s=!0);a.wa=r}}s&&rc(n)}function Sb(t,e,n){const s=_e(t),r=s.queries.get(e);if(r)for(const i of r.ba)i.onError(n);s.queries.delete(e)}function rc(t){t.Ca.forEach((e=>{e.next()}))}var il,qh;(qh=il||(il={})).Ma="default",qh.Cache="cache";class Wp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ys(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==il.Cache}}class Qp{constructor(e){this.key=e}}class Jp{constructor(e){this.key=e}}class Cb{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=be(),this.mutatedKeys=be(),this.eu=hp(e),this.tu=new js(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Hh,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((d,p)=>{const _=r.get(d),T=No(this.query,p)?p:null,P=!!_&&this.mutatedKeys.has(_.key),x=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let S=!1;_&&T?_.data.isEqual(T.data)?P!==x&&(s.track({type:3,doc:T}),S=!0):this.su(_,T)||(s.track({type:2,doc:T}),S=!0,(c&&this.eu(T,c)>0||h&&this.eu(T,h)<0)&&(l=!0)):!_&&T?(s.track({type:0,doc:T}),S=!0):_&&!T&&(s.track({type:1,doc:_}),S=!0,(c||h)&&(l=!0)),S&&(T?(a=a.add(T),i=x?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:a,iu:s,Ss:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,p)=>(function(T,P){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Vt:S})}};return x(T)-x(P)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Ya.size===0&&this.current&&!r?1:0,h=c!==this.Xa;return this.Xa=c,a.length!==0||h?{snapshot:new Ys(this.query,e.tu,i,a,e.mutatedKeys,c===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hh,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Jp(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Qp(s))})),n}cu(e){this.Za=e.ks,this.Ya=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ys.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ic="SyncEngine";class Pb{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class xb{constructor(e){this.key=e,this.hu=!1}}class Vb{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Es((l=>up(l)),Do),this.Iu=new Map,this.Eu=new Set,this.Ru=new ze(le.comparator),this.Au=new Map,this.Vu=new Wl,this.du={},this.mu=new Map,this.fu=Js.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Db(t,e,n=!0){const s=ng(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await Yp(s,e,n,!0),r}async function Nb(t,e){const n=ng(t);await Yp(n,e,!0,!1)}async function Yp(t,e,n,s){const r=await XI(t.localStore,rn(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await Ob(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&Up(t.remoteStore,r),l}async function Ob(t,e,n,s,r){t.pu=(p,_,T)=>(async function(x,S,k,O){let j=S.view.ru(k);j.Ss&&(j=await Mh(x.localStore,S.query,!1).then((({documents:E})=>S.view.ru(E,j))));const G=O&&O.targetChanges.get(S.targetId),ue=O&&O.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(j,x.isPrimaryClient,G,ue);return Gh(x,S.targetId,D.au),D.snapshot})(t,p,_,T);const i=await Mh(t.localStore,e,!0),a=new Cb(e,i.ks),l=a.ru(i.documents),c=hi.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,c);Gh(t,n,h.au);const d=new Pb(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function kb(t,e,n){const s=_e(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter((a=>!Do(a,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await sl(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Xl(s.remoteStore,r.targetId),ol(s,r.targetId)})).catch(er)):(ol(s,r.targetId),await sl(s.localStore,r.targetId,!0))}async function Mb(t,e){const n=_e(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xl(n.remoteStore,s.targetId))}async function Fb(t,e,n){const s=qb(t);try{const r=await(function(a,l){const c=_e(a),h=je.now(),d=l.reduce(((T,P)=>T.add(P.key)),be());let p,_;return c.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let P=Rn(),x=be();return c.xs.getEntries(T,d).next((S=>{P=S,P.forEach(((k,O)=>{O.isValidDocument()||(x=x.add(k))}))})).next((()=>c.localDocuments.getOverlayedDocuments(T,P))).next((S=>{p=S;const k=[];for(const O of l){const j=YT(O,p.get(O.key).overlayedDocument);j!=null&&k.push(new As(O.key,j,sp(j.value.mapValue),En.exists(!0)))}return c.mutationQueue.addMutationBatch(T,h,k,l)})).next((S=>{_=S;const k=S.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(T,S.batchId,k)}))})).then((()=>({batchId:_.batchId,changes:dp(p)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(a,l,c){let h=a.du[a.currentUser.toKey()];h||(h=new ze(Ie)),h=h.insert(l,c),a.du[a.currentUser.toKey()]=h})(s,r.batchId,n),await di(s,r.changes),await Bo(s.remoteStore)}catch(r){const i=sc(r,"Failed to persist write");n.reject(i)}}async function Xp(t,e){const n=_e(t);try{const s=await QI(n.localStore,e);e.targetChanges.forEach(((r,i)=>{const a=n.Au.get(i);a&&(Ne(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?Ne(a.hu,14607):r.removedDocuments.size>0&&(Ne(a.hu,42227),a.hu=!1))})),await di(n,s,e)}catch(s){await er(s)}}function zh(t,e,n){const s=_e(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach(((i,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)})),(function(a,l){const c=_e(a);c.onlineState=l;let h=!1;c.queries.forEach(((d,p)=>{for(const _ of p.ba)_.va(l)&&(h=!0)})),h&&rc(c)})(s.eventManager,e),r.length&&s.Pu.J_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Lb(t,e,n){const s=_e(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new ze(le.comparator);a=a.insert(i,Et.newNoDocument(i,pe.min()));const l=be().add(i),c=new Mo(pe.min(),new Map,new ze(Ie),a,l);await Xp(s,c),s.Ru=s.Ru.remove(i),s.Au.delete(e),oc(s)}else await sl(s.localStore,e,!1).then((()=>ol(s,e,n))).catch(er)}async function Bb(t,e){const n=_e(t),s=e.batch.batchId;try{const r=await WI(n.localStore,e);eg(n,s,null),Zp(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await di(n,r)}catch(r){await er(r)}}async function Ub(t,e,n){const s=_e(t);try{const r=await(function(a,l){const c=_e(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next((p=>(Ne(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(h,p)))).next((()=>c.mutationQueue.performConsistencyCheck(h))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>c.localDocuments.getDocuments(h,d)))}))})(s.localStore,e);eg(s,e,n),Zp(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await di(s,r)}catch(r){await er(r)}}function Zp(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function eg(t,e,n){const s=_e(t);let r=s.du[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.du[s.currentUser.toKey()]=r}}function ol(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||tg(t,s)}))}function tg(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Xl(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),oc(t))}function Gh(t,e,n){for(const s of n)s instanceof Qp?(t.Vu.addReference(s.key,e),jb(t,s)):s instanceof Jp?(te(ic,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||tg(t,s.key)):he(19791,{wu:s})}function jb(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(te(ic,"New document in limbo: "+n),t.Eu.add(s),oc(t))}function oc(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(qe.fromString(e)),s=t.fu.next();t.Au.set(s,new xb(n)),t.Ru=t.Ru.insert(n,s),Up(t.remoteStore,new Bn(rn(Vo(n.path)),s,"TargetPurposeLimboResolution",So.ce))}}async function di(t,e,n){const s=_e(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach(((l,c)=>{a.push(s.pu(c,e,n).then((h=>{if((h||n)&&s.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(c.targetId)?.current;s.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(h){r.push(h);const d=Jl.Es(c.targetId,h);i.push(d)}})))})),await Promise.all(a),s.Pu.J_(r),await(async function(c,h){const d=_e(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>B.forEach(h,(_=>B.forEach(_.Ts,(T=>d.persistence.referenceDelegate.addReference(p,_.targetId,T))).next((()=>B.forEach(_.Is,(T=>d.persistence.referenceDelegate.removeReference(p,_.targetId,T)))))))))}catch(p){if(!tr(p))throw p;te(Yl,"Failed to update sequence numbers: "+p)}for(const p of h){const _=p.targetId;if(!p.fromCache){const T=d.vs.get(_),P=T.snapshotVersion,x=T.withLastLimboFreeSnapshotVersion(P);d.vs=d.vs.insert(_,x)}}})(s.localStore,i))}async function Hb(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){te(ic,"User change. New user:",e.toKey());const s=await Mp(n.localStore,e);n.currentUser=e,(function(i,a){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new ne($.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await di(n,s.Ns)}}function $b(t,e){const n=_e(t),s=n.Au.get(e);if(s&&s.hu)return be().add(s.key);{let r=be();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function ng(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$b.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lb.bind(null,e),e.Pu.J_=Rb.bind(null,e.eventManager),e.Pu.yu=Sb.bind(null,e.eventManager),e}function qb(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ub.bind(null,e),e}class fo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fo(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KI(this.persistence,new qI,e.initialUser,this.serializer)}Cu(e){return new kp(Ql.Vi,this.serializer)}Du(e){return new eb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fo.provider={build:()=>new fo};class zb extends fo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ne(this.persistence.referenceDelegate instanceof uo,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dt.withCacheSize(this.cacheSizeBytes):Dt.DEFAULT;return new kp((s=>uo.Vi(s,n)),this.serializer)}}class al{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>zh(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hb.bind(null,this.syncEngine),await Ib(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wb})()}createDatastore(e){const n=Fo(e.databaseInfo.databaseId),s=ib(e.databaseInfo);return ub(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,i,a,l){return new fb(s,r,i,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>zh(this.syncEngine,n,0)),(function(){return Bh.v()?new Bh:new tb})())}createSyncEngine(e,n){return(function(r,i,a,l,c,h,d){const p=new Vb(r,i,a,l,c,h);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=_e(n);te(_s,"RemoteStore shutting down."),s.Ea.add(5),await fi(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}al.provider={build:()=>new al};class sg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Xn="FirestoreClient";class Gb{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=r,this.user=yt.UNAUTHENTICATED,this.clientId=Fl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async a=>{te(Xn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(s,(a=>(te(Xn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sc(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ba(t,e){t.asyncQueue.verifyOperationInProgress(),te(Xn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await Mp(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Kh(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kb(t);te(Xn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>jh(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>jh(e.remoteStore,r))),t._onlineComponents=e}async function Kb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Xn,"Using user provided OfflineComponentProvider");try{await ba(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===$.FAILED_PRECONDITION||r.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;ms("Error using user provided cache. Falling back to memory cache: "+n),await ba(t,new fo)}}else te(Xn,"Using default OfflineComponentProvider"),await ba(t,new zb(void 0));return t._offlineComponents}async function rg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Xn,"Using user provided OnlineComponentProvider"),await Kh(t,t._uninitializedComponentsProvider._online)):(te(Xn,"Using default OnlineComponentProvider"),await Kh(t,new al))),t._onlineComponents}function Wb(t){return rg(t).then((e=>e.syncEngine))}async function ll(t){const e=await rg(t),n=e.eventManager;return n.onListen=Db.bind(null,e.syncEngine),n.onUnlisten=kb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Nb.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mb.bind(null,e.syncEngine),n}function Qb(t,e,n,s){const r=new sg(s),i=new Wp(e,r,n);return t.asyncQueue.enqueueAndForget((async()=>Gp(await ll(t),i))),()=>{r.Nu(),t.asyncQueue.enqueueAndForget((async()=>Kp(await ll(t),i)))}}function Jb(t,e,n={}){const s=new qn;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,c,h){const d=new sg({next:_=>{d.Nu(),a.enqueueAndForget((()=>Kp(i,p)));const T=_.docs.has(l);!T&&_.fromCache?h.reject(new ne($.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&c&&c.source==="server"?h.reject(new ne($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),p=new Wp(Vo(l.path),d,{includeMetadataChanges:!0,Ka:!0});return Gp(i,p)})(await ll(t),t.asyncQueue,e,n,s))),s.promise}function Yb(t,e){const n=new qn;return t.asyncQueue.enqueueAndForget((async()=>Fb(await Wb(t),e,n))),n.promise}function ig(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Xb="ComponentProvider",Wh=new Map;function Zb(t,e,n,s,r){return new vT(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ig(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,s)}const og="firestore.googleapis.com",Qh=!0;class Jh{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=og,this.ssl=Qh}else this.host=e.host,this.ssl=e.ssl??Qh;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Op;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SI)throw new ne($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ig(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ac{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YA;switch(s.type){case"firstParty":return new tT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ne($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Wh.get(n);s&&(te(Xb,"Removing Datastore"),Wh.delete(n),s.terminate())})(this),Promise.resolve()}}function ew(t,e,n,s={}){t=zn(t,ac);const r=Ol(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(wE(`https://${l}`),PE("Firestore",!0)),i.host!==og&&i.host!==l&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:r,emulatorOptions:s};if(!Zi(c,a)&&(t._setSettings(c),s.mockUserToken)){let h,d;if(typeof s.mockUserToken=="string")h=s.mockUserToken,d=yt.MOCK_USER;else{h=RE(s.mockUserToken,t._app?.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new ne($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new yt(p)}t._authCredentials=new XA(new Gd(h,d))}}class Uo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class st{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ci(n,st._jsonSchema))return new st(e,s||null,new le(qe.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:Ye("string",st._jsonSchemaVersion),referencePath:Ye("string")};class si extends Uo{constructor(e,n,s){super(e,n,Vo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new le(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function Rr(t,e,...n){if(t=Wr(t),arguments.length===1&&(e=Fl.newId()),aT("doc","path",e),t instanceof ac){const s=qe.fromString(e,...n);return uh(s),new st(t,null,new le(s))}{if(!(t instanceof st||t instanceof si))throw new ne($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(qe.fromString(e,...n));return uh(s),new st(t.firestore,t instanceof si?t.converter:null,new le(s))}}const Yh="AsyncQueue";class Xh{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lp(this,"async_queue_retry"),this._c=()=>{const s=Ia();s&&te(Yh,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ia();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ia();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!tr(e))throw e;te(Yh,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,wn("INTERNAL UNHANDLED ERROR: ",Zh(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=nc.createAndSchedule(this,e,n,s,(i=>this.hc(i)));return this.tc.push(r),r}uc(){this.nc&&he(47125,{Pc:Zh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Zh(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ri extends ac{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Xh,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xh(e),this._firestoreClient=void 0,await e}}}function tw(t,e){const n=typeof t=="object"?t:BA(),s=typeof t=="string"?t:so,r=OA(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=IE("firestore");i&&ew(r,...i)}return r}function lc(t){if(t._terminated)throw new ne($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nw(t),t._firestoreClient}function nw(t){const e=t._freezeSettings(),n=Zb(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Gb(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}})(t._componentsProvider))}class Ut{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ut(ft.fromBase64String(e))}catch(n){throw new ne($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ut(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ut._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ci(e,Ut._jsonSchema))return Ut.fromBase64String(e.bytes)}}Ut._jsonSchemaVersion="firestore/bytes/1.0",Ut._jsonSchema={type:Ye("string",Ut._jsonSchemaVersion),bytes:Ye("string")};class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lg{constructor(e){this._methodName=e}}class an{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:an._jsonSchemaVersion}}static fromJSON(e){if(ci(e,an._jsonSchema))return new an(e.latitude,e.longitude)}}an._jsonSchemaVersion="firestore/geoPoint/1.0",an._jsonSchema={type:Ye("string",an._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};class Wt{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wt._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ci(e,Wt._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wt(e.vectorValues);throw new ne($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wt._jsonSchemaVersion="firestore/vectorValue/1.0",Wt._jsonSchema={type:Ye("string",Wt._jsonSchemaVersion),vectorValues:Ye("object")};const sw=/^__.*__$/;class rw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new ui(e,this.data,n,this.fieldTransforms)}}function cg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{dataSource:t})}}class cc{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return po(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cg(this.dataSource)&&sw.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iw{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fo(e)}createContext(e,n,s,r=!1){return new cc({dataSource:e,methodName:n,targetDoc:s,path:ut.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ow(t){const e=t._freezeSettings(),n=Fo(t._databaseId);return new iw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aw(t,e,n,s,r,i={}){const a=t.createContext(i.merge||i.mergeFields?2:0,e,n,r);dg("Data must be an object, but it was:",a,s);const l=hg(s,a);let c,h;if(i.merge)c=new Gt(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const _=uc(e,p,n);if(!a.contains(_))throw new ne($.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);uw(d,_)||d.push(_)}c=new Gt(d),h=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,h=a.fieldTransforms;return new rw(new Bt(l),c,h)}function ug(t,e){if(fg(t=Wr(t)))return dg("Unsupported field value:",e,t),hg(t,e);if(t instanceof lg)return(function(s,r){if(!cg(r.dataSource))throw r.createError(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,r){const i=[];let a=0;for(const l of s){let c=ug(l,r.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(t,e)}return(function(s,r){if((s=Wr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zT(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=je.fromDate(s);return{timestampValue:co(r.serializer,i)}}if(s instanceof je){const i=new je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:co(r.serializer,i)}}if(s instanceof an)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ut)return{bytesValue:Rp(r.serializer,s._byteString)};if(s instanceof st){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kl(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Wt)return(function(a,l){const c=a instanceof Wt?a.toArray():a;return{mapValue:{fields:{[tp]:{stringValue:np},[ro]:{arrayValue:{values:c.map((d=>{if(typeof d!="number")throw l.createError("VectorValues must only contain numeric values.");return ql(l.serializer,d)}))}}}}}})(s,r);if(Np(s))return s._toProto(r.serializer);throw r.createError(`Unsupported field value: ${Ll(s)}`)})(t,e)}function hg(t,e){const n={};return Qd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,((s,r)=>{const i=ug(r,e.childContextForField(s));i!=null&&(n[s]=i)})),{mapValue:{fields:n}}}function fg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof an||t instanceof Ut||t instanceof st||t instanceof lg||t instanceof Wt||Np(t))}function dg(t,e,n){if(!fg(n)||!Kd(n)){const s=Ll(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function uc(t,e,n){if((e=Wr(e))instanceof ag)return e._internalPath;if(typeof e=="string")return cw(t,e);throw po("Field path arguments must be of type string or ",t,!1,void 0,n)}const lw=new RegExp("[~\\*/\\[\\]]");function cw(t,e,n){if(e.search(lw)>=0)throw po(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw po(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function po(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new ne($.INVALID_ARGUMENT,l+t+c)}function uw(t,e){return t.some((n=>n.isEqual(e)))}class hw{convertValue(e,n="none"){switch(Jn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,((r,i)=>{s[r]=this.convertValue(i,n)})),s}convertVectorValue(e){const n=e.fields?.[ro].arrayValue?.values?.map((s=>Qe(s.doubleValue)));return new Wt(n)}convertGeoPoint(e){return new an(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Po(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xr(e));default:return null}}convertTimestamp(e){const n=Wn(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=qe.fromString(e);Ne(Dp(s),9688,{name:e});const r=new Zr(s.get(1),s.get(3)),i=new le(s.popFirst(5));return r.isEqual(n)||wn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class pg extends hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ut(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}const ef="@firebase/firestore",tf="4.11.0";function nf(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1})(t,["next","error","complete"])}class gg{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(uc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fw extends gg{data(){return super.data()}}function dw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function pw(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Sr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ds extends gg{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(uc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",ds._jsonSchema={type:Ye("string",ds._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class Hi extends ds{data(e={}){return super.data(e)}}class Hs{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Sr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Hi(this._firestore,this._userDataWriter,s.key,s,new Sr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map((l=>{const c=new Hi(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Sr(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new Hi(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Sr(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:gw(l.type),doc:c,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}Hs._jsonSchemaVersion="firestore/querySnapshot/1.0",Hs._jsonSchema={type:Ye("string",Hs._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};function sf(t){t=zn(t,st);const e=zn(t.firestore,ri),n=lc(e);return Jb(n,t._key).then((s=>mg(e,t,s)))}function rf(t,e,n){t=zn(t,st);const s=zn(t.firestore,ri),r=pw(t.converter,e),i=ow(s);return _w(s,[aw(i,"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,En.none())])}function mw(t,...e){t=Wr(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||nf(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nf(e[s])){const h=e[s];e[s]=h.next?.bind(h),e[s+1]=h.error?.bind(h),e[s+2]=h.complete?.bind(h)}let i,a,l;if(t instanceof st)a=zn(t.firestore,ri),l=Vo(t._key.path),i={next:h=>{e[s]&&e[s](mg(a,t,h))},error:e[s+1],complete:e[s+2]};else{const h=zn(t,Uo);a=zn(h.firestore,ri),l=h._query;const d=new pg(a);i={next:p=>{e[s]&&e[s](new Hs(a,d,h,p))},error:e[s+1],complete:e[s+2]},dw(t._query)}const c=lc(a);return Qb(c,l,r,i)}function _w(t,e){const n=lc(t);return Yb(n,e)}function mg(t,e,n){const s=n.docs.get(e._key),r=new pg(t);return new ds(t,r,e._key,s,new Sr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){JA(LA),to(new Qr("firestore",((s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new ri(new ZA(s.getProvider("auth-internal")),new nT(a,s.getProvider("app-check-internal")),ET(a,r),a);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Bs(ef,tf,e),Bs(ef,tf,"esm2020")})();var yw="firebase",vw="12.9.0";Bs(yw,vw,"app");const Ew={apiKey:"AIzaSyDn1Mc0vfxH3CZ6hKfEa5UsZpB6CFJGnX4",authDomain:"uzo-menu.firebaseapp.com",projectId:"uzo-menu",storageBucket:"uzo-menu.firebasestorage.app",messagingSenderId:"717673685617",appId:"1:717673685617:web:f06683d78cc846b57671d0"},Aw=Md(Ew),Cr=tw(Aw),Tw={class:"hero"},Iw={class:"hero-icon"},bw={class:"content"},ww={class:"info-bar"},Rw={key:1},Sw={key:0,class:"happy-hour-banner"},Cw=["id"],Pw={class:"sec-title"},xw={key:1,class:"drink-compact-list"},Vw={key:2,class:"drinks-list"},Dw={__name:"MenuView",setup(t){const e=zt({hiddenCategories:[],hiddenItems:{}}),n=zt(new Date),s=$e(()=>n.value.getDay()),r=$e(()=>n.value.getHours()*100+n.value.getMinutes()),i=$e(()=>{const P=pn.hours[s.value];return!P||!P.open||!P.close?null:P}),a=$e(()=>{if(!pn.happyHour||!i.value)return null;const{start:P,end:x}=pn.happyHour,S=Array.isArray(P)?P:[P],k=Array.isArray(x)?x:[x];for(let O=0;O<S.length;O++){const j=parseInt(S[O].replace(":","")),G=parseInt(k[O].replace(":",""));if(r.value>=j&&r.value<G)return{start:S[O],end:k[O]}}return null}),l=$e(()=>a.value!==null);function c(P){const x=parseFloat(pn.happyHour.discount)/100;P.badge="happyhour",P.badgeLabel=` ${pn.happyHour.discount} off`,P.price&&(P.originalPrice=P.price,P.price=h(P.price,x)),P.sizes&&(P.sizes=P.sizes.map(S=>({...S,originalPrice:S.price,price:h(S.price,x)})))}function h(P,x){return`${(parseFloat(P.replace("",""))*(1-x)).toFixed(2)}`}const d=$e(()=>Yi.filter(P=>!(e.value.hiddenCategories.includes(P.id)||P.happyHourOnly&&!l.value)).map(P=>{const x=JSON.parse(JSON.stringify(P));return e.value.hiddenItems[P.id]&&(x.items=x.items.filter((S,k)=>!e.value.hiddenItems[P.id].includes(k)),Array.isArray(x.featured)&&(x.featured=x.featured.filter((S,k)=>!e.value.hiddenItems[P.id].includes(k)))),l.value&&(x.featured&&(Array.isArray(x.featured)?x.featured:[x.featured]).forEach(k=>{k.happyHour&&c(k)}),x.items.forEach(S=>{S.happyHour&&c(S)})),x})),p=$e(()=>[...d.value.map(P=>({id:P.id,icon:P.icon,label:P.label})),...Qu.map(P=>({id:P.id,icon:P.icon,label:P.label}))]),_=zt(Yi[0].id);function T(P){_.value=P;const x=document.getElementById("sec-"+P);x&&x.scrollIntoView({behavior:"smooth",block:"start"})}return Gf(()=>{mw(Rr(Cr,"settings","menu"),S=>{if(S.exists()){const k=S.data();e.value={hiddenCategories:k.hiddenCategories||[],hiddenItems:k.hiddenItems||{}}}}),setInterval(()=>{n.value=new Date},6e4);const P=[...d.value.map(S=>S.id),...Qu.map(S=>S.id)],x=new IntersectionObserver(S=>{S.forEach(k=>{k.isIntersecting&&(_.value=k.target.id.replace("sec-",""))})},{rootMargin:"-40% 0px -55% 0px"});P.forEach(S=>{const k=document.getElementById("sec-"+S);k&&x.observe(k)})}),wl(()=>{unsubscribe()}),(P,x)=>(Q(),ee(Pe,null,[Pt(P0,{categories:p.value,activeCategory:_.value,onNavigate:T},null,8,["categories","activeCategory"]),X("div",null,[X("div",Tw,[X("span",Iw,ae(jt(pn).icon),1),X("h1",null,ae(jt(pn).name),1),X("p",null,ae(jt(pn).tagline),1)]),X("div",bw,[X("div",ww,[i.value?(Q(),ee(Pe,{key:0},[ps("  Open today  "+ae(i.value.label)+" "+ae(i.value.open)+"  "+ae(i.value.close),1)],64)):(Q(),ee("span",Rw,"Sorry, we're closed today."))]),x[1]||(x[1]=X("div",{class:"allergy-bar"}," Allergen info available on request  ask our staff",-1)),a.value?(Q(),ee("div",Sw,[x[0]||(x[0]=X("div",{style:{"text-align":"center"}}," Happy Hour right now!",-1)),ps(" "+ae(jt(pn).happyHour.discount)+" off on select beers from "+ae(a.value.start)+" until "+ae(a.value.end),1)])):Ue("",!0),(Q(!0),ee(Pe,null,Tt(d.value,S=>(Q(),ee("div",{key:S.id,class:"section",id:"sec-"+S.id},[X("div",Pw,ae(S.icon)+" "+ae(S.label),1),S.featured?(Q(),ee(Pe,{key:0},[Array.isArray(S.featured)?(Q(!0),ee(Pe,{key:0},Tt(S.featured,k=>(Q(),Ln(Wu,{key:k.name,item:k},null,8,["item"]))),128)):(Q(),Ln(Wu,{key:1,item:S.featured},null,8,["item"]))],64)):Ue("",!0),S.layout==="compact"?(Q(),ee("div",xw,[(Q(!0),ee(Pe,null,Tt(S.items,k=>(Q(),Ln(fE,{key:k.name,item:k},null,8,["item"]))),128))])):(Q(),ee("div",Vw,[(Q(!0),ee(Pe,null,Tt(S.items,k=>(Q(),Ln(Qv,{key:k.name,item:k},null,8,["item"]))),128))]))],8,Cw))),128))])])],64))}};var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ow(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var wa={exports:{}};const Mw={},Fw=Object.freeze(Object.defineProperty({__proto__:null,default:Mw},Symbol.toStringTag,{value:"Module"})),of=kw(Fw);var af;function Lw(){return af||(af=1,(function(t){(function(){var e="input is invalid type",n=typeof window=="object",s=n?window:{};s.JS_SHA256_NO_WINDOW&&(n=!1);var r=!n&&typeof self=="object",i=!s.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";i?s=Nw:r&&(s=self);var a=!s.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,l=!s.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),h=[-2147483648,8388608,32768,128],d=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_=["hex","array","digest","arrayBuffer"],T=[];(s.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(D){return Object.prototype.toString.call(D)==="[object Array]"}),l&&(s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(D){return typeof D=="object"&&D.buffer&&D.buffer.constructor===ArrayBuffer});var P=function(D,E){return function(v){return new j(E,!0).update(v)[D]()}},x=function(D){var E=P("hex",D);i&&(E=S(E,D)),E.create=function(){return new j(D)},E.update=function(b){return E.create().update(b)};for(var v=0;v<_.length;++v){var y=_[v];E[y]=P(y,D)}return E},S=function(D,E){var v=of,y=of.Buffer,b=E?"sha224":"sha256",A;y.from&&!s.JS_SHA256_NO_BUFFER_FROM?A=y.from:A=function(g){return new y(g)};var R=function(g){if(typeof g=="string")return v.createHash(b).update(g,"utf8").digest("hex");if(g==null)throw new Error(e);return g.constructor===ArrayBuffer&&(g=new Uint8Array(g)),Array.isArray(g)||ArrayBuffer.isView(g)||g.constructor===y?v.createHash(b).update(A(g)).digest("hex"):D(g)};return R},k=function(D,E){return function(v,y){return new G(v,E,!0).update(y)[D]()}},O=function(D){var E=k("hex",D);E.create=function(b){return new G(b,D)},E.update=function(b,A){return E.create(b).update(A)};for(var v=0;v<_.length;++v){var y=_[v];E[y]=k(y,D)}return E};function j(D,E){E?(T[0]=T[16]=T[1]=T[2]=T[3]=T[4]=T[5]=T[6]=T[7]=T[8]=T[9]=T[10]=T[11]=T[12]=T[13]=T[14]=T[15]=0,this.blocks=T):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=D}j.prototype.update=function(D){if(!this.finalized){var E,v=typeof D;if(v!=="string"){if(v==="object"){if(D===null)throw new Error(e);if(l&&D.constructor===ArrayBuffer)D=new Uint8Array(D);else if(!Array.isArray(D)&&(!l||!ArrayBuffer.isView(D)))throw new Error(e)}else throw new Error(e);E=!0}for(var y,b=0,A,R=D.length,g=this.blocks;b<R;){if(this.hashed&&(this.hashed=!1,g[0]=this.block,this.block=g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0),E)for(A=this.start;b<R&&A<64;++b)g[A>>>2]|=D[b]<<d[A++&3];else for(A=this.start;b<R&&A<64;++b)y=D.charCodeAt(b),y<128?g[A>>>2]|=y<<d[A++&3]:y<2048?(g[A>>>2]|=(192|y>>>6)<<d[A++&3],g[A>>>2]|=(128|y&63)<<d[A++&3]):y<55296||y>=57344?(g[A>>>2]|=(224|y>>>12)<<d[A++&3],g[A>>>2]|=(128|y>>>6&63)<<d[A++&3],g[A>>>2]|=(128|y&63)<<d[A++&3]):(y=65536+((y&1023)<<10|D.charCodeAt(++b)&1023),g[A>>>2]|=(240|y>>>18)<<d[A++&3],g[A>>>2]|=(128|y>>>12&63)<<d[A++&3],g[A>>>2]|=(128|y>>>6&63)<<d[A++&3],g[A>>>2]|=(128|y&63)<<d[A++&3]);this.lastByteIndex=A,this.bytes+=A-this.start,A>=64?(this.block=g[16],this.start=A-64,this.hash(),this.hashed=!0):this.start=A}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},j.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var D=this.blocks,E=this.lastByteIndex;D[16]=this.block,D[E>>>2]|=h[E&3],this.block=D[16],E>=56&&(this.hashed||this.hash(),D[0]=this.block,D[16]=D[1]=D[2]=D[3]=D[4]=D[5]=D[6]=D[7]=D[8]=D[9]=D[10]=D[11]=D[12]=D[13]=D[14]=D[15]=0),D[14]=this.hBytes<<3|this.bytes>>>29,D[15]=this.bytes<<3,this.hash()}},j.prototype.hash=function(){var D=this.h0,E=this.h1,v=this.h2,y=this.h3,b=this.h4,A=this.h5,R=this.h6,g=this.h7,se=this.blocks,Ee,we,ge,me,de,Ze,Ge,He,Nt,bt,dt;for(Ee=16;Ee<64;++Ee)de=se[Ee-15],we=(de>>>7|de<<25)^(de>>>18|de<<14)^de>>>3,de=se[Ee-2],ge=(de>>>17|de<<15)^(de>>>19|de<<13)^de>>>10,se[Ee]=se[Ee-16]+we+se[Ee-7]+ge<<0;for(dt=E&v,Ee=0;Ee<64;Ee+=4)this.first?(this.is224?(He=300032,de=se[0]-1413257819,g=de-150054599<<0,y=de+24177077<<0):(He=704751109,de=se[0]-210244248,g=de-1521486534<<0,y=de+143694565<<0),this.first=!1):(we=(D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10),ge=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),He=D&E,me=He^D&v^dt,Ge=b&A^~b&R,de=g+ge+Ge+p[Ee]+se[Ee],Ze=we+me,g=y+de<<0,y=de+Ze<<0),we=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),ge=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),Nt=y&D,me=Nt^y&E^He,Ge=g&b^~g&A,de=R+ge+Ge+p[Ee+1]+se[Ee+1],Ze=we+me,R=v+de<<0,v=de+Ze<<0,we=(v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10),ge=(R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7),bt=v&y,me=bt^v&D^Nt,Ge=R&g^~R&b,de=A+ge+Ge+p[Ee+2]+se[Ee+2],Ze=we+me,A=E+de<<0,E=de+Ze<<0,we=(E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10),ge=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),dt=E&v,me=dt^E&y^bt,Ge=A&R^~A&g,de=b+ge+Ge+p[Ee+3]+se[Ee+3],Ze=we+me,b=D+de<<0,D=de+Ze<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+D<<0,this.h1=this.h1+E<<0,this.h2=this.h2+v<<0,this.h3=this.h3+y<<0,this.h4=this.h4+b<<0,this.h5=this.h5+A<<0,this.h6=this.h6+R<<0,this.h7=this.h7+g<<0},j.prototype.hex=function(){this.finalize();var D=this.h0,E=this.h1,v=this.h2,y=this.h3,b=this.h4,A=this.h5,R=this.h6,g=this.h7,se=c[D>>>28&15]+c[D>>>24&15]+c[D>>>20&15]+c[D>>>16&15]+c[D>>>12&15]+c[D>>>8&15]+c[D>>>4&15]+c[D&15]+c[E>>>28&15]+c[E>>>24&15]+c[E>>>20&15]+c[E>>>16&15]+c[E>>>12&15]+c[E>>>8&15]+c[E>>>4&15]+c[E&15]+c[v>>>28&15]+c[v>>>24&15]+c[v>>>20&15]+c[v>>>16&15]+c[v>>>12&15]+c[v>>>8&15]+c[v>>>4&15]+c[v&15]+c[y>>>28&15]+c[y>>>24&15]+c[y>>>20&15]+c[y>>>16&15]+c[y>>>12&15]+c[y>>>8&15]+c[y>>>4&15]+c[y&15]+c[b>>>28&15]+c[b>>>24&15]+c[b>>>20&15]+c[b>>>16&15]+c[b>>>12&15]+c[b>>>8&15]+c[b>>>4&15]+c[b&15]+c[A>>>28&15]+c[A>>>24&15]+c[A>>>20&15]+c[A>>>16&15]+c[A>>>12&15]+c[A>>>8&15]+c[A>>>4&15]+c[A&15]+c[R>>>28&15]+c[R>>>24&15]+c[R>>>20&15]+c[R>>>16&15]+c[R>>>12&15]+c[R>>>8&15]+c[R>>>4&15]+c[R&15];return this.is224||(se+=c[g>>>28&15]+c[g>>>24&15]+c[g>>>20&15]+c[g>>>16&15]+c[g>>>12&15]+c[g>>>8&15]+c[g>>>4&15]+c[g&15]),se},j.prototype.toString=j.prototype.hex,j.prototype.digest=function(){this.finalize();var D=this.h0,E=this.h1,v=this.h2,y=this.h3,b=this.h4,A=this.h5,R=this.h6,g=this.h7,se=[D>>>24&255,D>>>16&255,D>>>8&255,D&255,E>>>24&255,E>>>16&255,E>>>8&255,E&255,v>>>24&255,v>>>16&255,v>>>8&255,v&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,b>>>24&255,b>>>16&255,b>>>8&255,b&255,A>>>24&255,A>>>16&255,A>>>8&255,A&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255];return this.is224||se.push(g>>>24&255,g>>>16&255,g>>>8&255,g&255),se},j.prototype.array=j.prototype.digest,j.prototype.arrayBuffer=function(){this.finalize();var D=new ArrayBuffer(this.is224?28:32),E=new DataView(D);return E.setUint32(0,this.h0),E.setUint32(4,this.h1),E.setUint32(8,this.h2),E.setUint32(12,this.h3),E.setUint32(16,this.h4),E.setUint32(20,this.h5),E.setUint32(24,this.h6),this.is224||E.setUint32(28,this.h7),D};function G(D,E,v){var y,b=typeof D;if(b==="string"){var A=[],R=D.length,g=0,se;for(y=0;y<R;++y)se=D.charCodeAt(y),se<128?A[g++]=se:se<2048?(A[g++]=192|se>>>6,A[g++]=128|se&63):se<55296||se>=57344?(A[g++]=224|se>>>12,A[g++]=128|se>>>6&63,A[g++]=128|se&63):(se=65536+((se&1023)<<10|D.charCodeAt(++y)&1023),A[g++]=240|se>>>18,A[g++]=128|se>>>12&63,A[g++]=128|se>>>6&63,A[g++]=128|se&63);D=A}else if(b==="object"){if(D===null)throw new Error(e);if(l&&D.constructor===ArrayBuffer)D=new Uint8Array(D);else if(!Array.isArray(D)&&(!l||!ArrayBuffer.isView(D)))throw new Error(e)}else throw new Error(e);D.length>64&&(D=new j(E,!0).update(D).array());var Ee=[],we=[];for(y=0;y<64;++y){var ge=D[y]||0;Ee[y]=92^ge,we[y]=54^ge}j.call(this,E,v),this.update(we),this.oKeyPad=Ee,this.inner=!0,this.sharedMemory=v}G.prototype=new j,G.prototype.finalize=function(){if(j.prototype.finalize.call(this),this.inner){this.inner=!1;var D=this.array();j.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(D),j.prototype.finalize.call(this)}};var ue=x();ue.sha256=ue,ue.sha224=x(!0),ue.sha256.hmac=O(),ue.sha224.hmac=O(!0),a?t.exports=ue:(s.sha256=ue.sha256,s.sha224=ue.sha224)})()})(wa)),wa.exports}var Bw=Lw();const Uw=Ow(Bw),jw={class:"pin-modal"},Hw={key:0,class:"pin-error"},$w={class:"pin-actions"},qw=["disabled"],zw={key:1,class:"admin-panel"},Gw={class:"admin-content"},Kw={class:"admin-section"},Ww={class:"toggle-list"},Qw={class:"toggle-label"},Jw=["checked","onChange"],Yw={class:"toggle-text"},Xw={class:"toggle-list"},Zw={class:"toggle-label"},e1=["checked","onChange"],t1={class:"toggle-text"},n1={class:"toggle-label"},s1=["checked","onChange"],r1={class:"toggle-text"},i1={class:"admin-actions"},o1=["disabled"],a1=["disabled"],l1={key:0,class:"last-saved"},c1={__name:"AdminPanel",setup(t){const e=zt(!0),n=zt(""),s=zt(""),r=zt(!1),i=zt({hiddenCategories:[],hiddenItems:{}}),a=zt(!1),l=zt("");async function c(){if(!n.value){s.value="Please enter PIN";return}r.value=!0,s.value="";try{const S=Rr(Cr,"settings","admin"),k=await sf(S);if(k.exists()){const O=k.data().pin;Uw(n.value)===O?(e.value=!1,sessionStorage.setItem("adminAuth","true"),await h()):(s.value="Incorrect PIN",n.value="")}else s.value="Admin settings not found"}catch(S){console.error("Error checking PIN:",S),s.value="Error checking PIN"}finally{r.value=!1}}async function h(){try{const S=Rr(Cr,"settings","menu"),k=await sf(S);if(k.exists()){const O=k.data();i.value={hiddenCategories:O.hiddenCategories||[],hiddenItems:O.hiddenItems||{}},O.updatedAt&&(l.value=new Date(O.updatedAt.seconds*1e3).toLocaleString())}}catch(S){console.error("Error loading settings:",S),alert("Error loading settings from server")}}function d(S){const k=i.value.hiddenCategories.indexOf(S);k>-1?i.value.hiddenCategories.splice(k,1):i.value.hiddenCategories.push(S)}function p(S,k){return i.value.hiddenItems[S]?.includes(k)||!1}function _(S,k){i.value.hiddenItems[S]||(i.value.hiddenItems[S]=[]);const O=i.value.hiddenItems[S].indexOf(k);O>-1?i.value.hiddenItems[S].splice(O,1):i.value.hiddenItems[S].push(k)}async function T(){a.value=!0;try{const S=Rr(Cr,"settings","menu");await rf(S,{hiddenCategories:i.value.hiddenCategories,hiddenItems:i.value.hiddenItems,updatedAt:new Date}),l.value=new Date().toLocaleString(),alert(" Settings saved! All guest devices will update within seconds.")}catch(S){console.error("Error saving settings:",S),alert(" Error saving settings. Check console.")}finally{a.value=!1}}async function P(){if(confirm("Reset all settings to default? This will show all items.")){a.value=!0;try{i.value={hiddenCategories:[],hiddenItems:{}};const S=Rr(Cr,"settings","menu");await rf(S,{hiddenCategories:[],hiddenItems:{},updatedAt:new Date}),l.value=new Date().toLocaleString(),alert(" Settings reset!")}catch(S){console.error("Error resetting:",S),alert(" Error resetting settings")}finally{a.value=!1}}}function x(){window.location.href="/"}return(S,k)=>(Q(),ee(Pe,null,[e.value?(Q(),ee("div",{key:0,class:"pin-modal-overlay",onClick:oy(x,["self"])},[X("div",jw,[k[1]||(k[1]=X("h2",null," Enter Admin PIN",-1)),Cm(X("input",{"onUpdate:modelValue":k[0]||(k[0]=O=>n.value=O),type:"password",inputmode:"numeric",pattern:"[0-9]*",placeholder:"Enter PIN",class:"pin-input",onKeyup:ly(c,["enter"]),autofocus:""},null,544),[[sy,n.value]]),s.value?(Q(),ee("div",Hw," "+ae(s.value),1)):Ue("",!0),X("div",$w,[X("button",{onClick:c,class:"pin-submit",disabled:r.value},ae(r.value?" Checking...":" Submit"),9,qw),X("button",{onClick:x,class:"pin-cancel"}," Cancel")])])])):Ue("",!0),e.value?Ue("",!0):(Q(),ee("div",zw,[X("div",{class:"admin-header"},[k[2]||(k[2]=X("h1",null,"Menu Control Panel",-1)),X("button",{onClick:x,class:"back-btn"}," Back to Menu")]),X("div",Gw,[X("section",Kw,[k[3]||(k[3]=X("h2",null," Drink Categories",-1)),X("div",Ww,[(Q(!0),ee(Pe,null,Tt(jt(Yi),O=>(Q(),ee("div",{key:O.id,class:"toggle-item"},[X("label",Qw,[X("input",{type:"checkbox",checked:!i.value.hiddenCategories.includes(O.id),onChange:j=>d(O.id)},null,40,Jw),X("span",Yw,ae(O.label),1)])]))),128))])]),(Q(!0),ee(Pe,null,Tt(jt(Yi),O=>(Q(),ee("section",{class:"admin-section",key:"items-"+O.id},[X("h2",null,ae(O.icon)+" "+ae(O.label)+" - Items",1),X("div",Xw,[(Q(!0),ee(Pe,null,Tt(O.items,(j,G)=>(Q(),ee("div",{key:G,class:"toggle-item"},[X("label",Zw,[X("input",{type:"checkbox",checked:!p(O.id,G),onChange:ue=>_(O.id,G)},null,40,e1),X("span",t1,ae(j.name),1)])]))),128)),O.featured?(Q(!0),ee(Pe,{key:0},Tt(O.featured,(j,G)=>(Q(),ee("div",{key:G,class:"toggle-item"},[X("label",n1,[X("input",{type:"checkbox",checked:!p(O.id,G),onChange:ue=>_(O.id,G)},null,40,s1),X("span",r1,ae(j.name),1)])]))),128)):Ue("",!0)])]))),128)),X("div",i1,[X("button",{onClick:T,class:"save-btn",disabled:a.value},ae(a.value?" Saving...":"Save & Publish"),9,o1),X("button",{onClick:P,class:"reset-btn",disabled:a.value}," Reset All ",8,a1)]),l.value?(Q(),ee("div",l1," Last saved: "+ae(l.value),1)):Ue("",!0)])]))],64))}},u1=ys(c1,[["__scopeId","data-v-935e91c7"]]),h1=[{path:"/",name:"Menu",component:Dw},{path:"/admin",name:"Admin",component:u1}],f1=T0({history:e0(),routes:h1});hy(my).use(f1).mount("#app");
