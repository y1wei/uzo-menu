(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ll(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Oe={},Or=[],nn=()=>{},Xh=()=>!1,fo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),cl=t=>t.startsWith("onUpdate:"),lt=Object.assign,ul=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Pm=Object.prototype.hasOwnProperty,Ce=(t,e)=>Pm.call(t,e),ue=Array.isArray,kr=t=>ni(t)==="[object Map]",Zh=t=>ni(t)==="[object Set]",Yc=t=>ni(t)==="[object Date]",fe=t=>typeof t=="function",We=t=>typeof t=="string",an=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",ef=t=>(De(t)||fe(t))&&fe(t.then)&&fe(t.catch),tf=Object.prototype.toString,ni=t=>tf.call(t),Vm=t=>ni(t).slice(8,-1),nf=t=>ni(t)==="[object Object]",hl=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Rs=ll(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),po=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Dm=/-\w/g,Bt=po(t=>t.replace(Dm,e=>e.slice(1).toUpperCase())),xm=/\B([A-Z])/g,yr=po(t=>t.replace(xm,"-$1").toLowerCase()),mo=po(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zo=po(t=>t?`on${mo(t)}`:""),Bn=(t,e)=>!Object.is(t,e),ea=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},rf=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Nm=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Xc;const go=()=>Xc||(Xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fl(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=We(r)?Lm(r):fl(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(We(t)||De(t))return t}const Om=/;(?![^(]*\))/g,km=/:([^]+)/,Mm=/\/\*[^]*?\*\//g;function Lm(t){const e={};return t.replace(Mm,"").split(Om).forEach(n=>{if(n){const r=n.split(km);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ri(t){let e="";if(We(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=ri(t[n]);r&&(e+=r+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Fm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bm=ll(Fm);function sf(t){return!!t||t===""}function Um(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=dl(t[r],e[r]);return n}function dl(t,e){if(t===e)return!0;let n=Yc(t),r=Yc(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=an(t),r=an(e),n||r)return t===e;if(n=ue(t),r=ue(e),n||r)return n&&r?Um(t,e):!1;if(n=De(t),r=De(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const a in t){const l=t.hasOwnProperty(a),c=e.hasOwnProperty(a);if(l&&!c||!l&&c||!dl(t[a],e[a]))return!1}}return String(t)===String(e)}const of=t=>!!(t&&t.__v_isRef===!0),ne=t=>We(t)?t:t==null?"":ue(t)||De(t)&&(t.toString===tf||!fe(t.toString))?of(t)?ne(t.value):JSON.stringify(t,af,2):String(t),af=(t,e)=>of(e)?af(t,e.value):kr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[ta(r,i)+" =>"]=s,n),{})}:Zh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ta(n))}:an(e)?ta(e):De(e)&&!ue(e)&&!nf(e)?String(e):e,ta=(t,e="")=>{var n;return an(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let St;class jm{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=St,!e&&St&&(this.index=(St.scopes||(St.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=St;try{return St=this,e()}finally{St=n}}}on(){++this._on===1&&(this.prevScope=St,St=this)}off(){this._on>0&&--this._on===0&&(St=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function $m(){return St}let Ne;const na=new WeakSet;class lf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,St&&St.active&&St.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,na.has(this)&&(na.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zc(this),hf(this);const e=Ne,n=zt;Ne=this,zt=!0;try{return this.fn()}finally{ff(this),Ne=e,zt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gl(e);this.deps=this.depsTail=void 0,Zc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?na.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wa(this)&&this.run()}get dirty(){return wa(this)}}let cf=0,Ss,Cs;function uf(t,e=!1){if(t.flags|=8,e){t.next=Cs,Cs=t;return}t.next=Ss,Ss=t}function pl(){cf++}function ml(){if(--cf>0)return;if(Cs){let e=Cs;for(Cs=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ss;){let e=Ss;for(Ss=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function hf(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ff(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),gl(r),Hm(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function wa(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(df(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function df(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bs)||(t.globalVersion=Bs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!wa(t))))return;t.flags|=2;const e=t.dep,n=Ne,r=zt;Ne=t,zt=!0;try{hf(t);const s=t.fn(t._value);(e.version===0||Bn(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ne=n,zt=r,ff(t),t.flags&=-3}}function gl(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)gl(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Hm(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let zt=!0;const pf=[];function vn(){pf.push(zt),zt=!1}function Tn(){const t=pf.pop();zt=t===void 0?!0:t}function Zc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ne;Ne=void 0;try{e()}finally{Ne=n}}}let Bs=0;class qm{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _l{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ne||!zt||Ne===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ne)n=this.activeLink=new qm(Ne,this),Ne.deps?(n.prevDep=Ne.depsTail,Ne.depsTail.nextDep=n,Ne.depsTail=n):Ne.deps=Ne.depsTail=n,mf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ne.depsTail,n.nextDep=void 0,Ne.depsTail.nextDep=n,Ne.depsTail=n,Ne.deps===n&&(Ne.deps=r)}return n}trigger(e){this.version++,Bs++,this.notify(e)}notify(e){pl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ml()}}}function mf(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)mf(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ba=new WeakMap,ur=Symbol(""),Ra=Symbol(""),Us=Symbol("");function mt(t,e,n){if(zt&&Ne){let r=ba.get(t);r||ba.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new _l),s.map=r,s.key=n),s.track()}}function _n(t,e,n,r,s,i){const a=ba.get(t);if(!a){Bs++;return}const l=c=>{c&&c.trigger()};if(pl(),e==="clear")a.forEach(l);else{const c=ue(t),h=c&&hl(n);if(c&&n==="length"){const f=Number(r);a.forEach((p,m)=>{(m==="length"||m===Us||!an(m)&&m>=f)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),h&&l(a.get(Us)),e){case"add":c?h&&l(a.get("length")):(l(a.get(ur)),kr(t)&&l(a.get(Ra)));break;case"delete":c||(l(a.get(ur)),kr(t)&&l(a.get(Ra)));break;case"set":kr(t)&&l(a.get(ur));break}}ml()}function Sr(t){const e=Se(t);return e===t?e:(mt(e,"iterate",Us),Ft(t)?e:e.map(Kt))}function _o(t){return mt(t=Se(t),"iterate",Us),t}function On(t,e){return An(t)?$r(hr(t)?Kt(e):e):Kt(e)}const zm={__proto__:null,[Symbol.iterator](){return ra(this,Symbol.iterator,t=>On(this,t))},concat(...t){return Sr(this).concat(...t.map(e=>ue(e)?Sr(e):e))},entries(){return ra(this,"entries",t=>(t[1]=On(this,t[1]),t))},every(t,e){return fn(this,"every",t,e,void 0,arguments)},filter(t,e){return fn(this,"filter",t,e,n=>n.map(r=>On(this,r)),arguments)},find(t,e){return fn(this,"find",t,e,n=>On(this,n),arguments)},findIndex(t,e){return fn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return fn(this,"findLast",t,e,n=>On(this,n),arguments)},findLastIndex(t,e){return fn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return fn(this,"forEach",t,e,void 0,arguments)},includes(...t){return sa(this,"includes",t)},indexOf(...t){return sa(this,"indexOf",t)},join(t){return Sr(this).join(t)},lastIndexOf(...t){return sa(this,"lastIndexOf",t)},map(t,e){return fn(this,"map",t,e,void 0,arguments)},pop(){return _s(this,"pop")},push(...t){return _s(this,"push",t)},reduce(t,...e){return eu(this,"reduce",t,e)},reduceRight(t,...e){return eu(this,"reduceRight",t,e)},shift(){return _s(this,"shift")},some(t,e){return fn(this,"some",t,e,void 0,arguments)},splice(...t){return _s(this,"splice",t)},toReversed(){return Sr(this).toReversed()},toSorted(t){return Sr(this).toSorted(t)},toSpliced(...t){return Sr(this).toSpliced(...t)},unshift(...t){return _s(this,"unshift",t)},values(){return ra(this,"values",t=>On(this,t))}};function ra(t,e,n){const r=_o(t),s=r[e]();return r!==t&&!Ft(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const Gm=Array.prototype;function fn(t,e,n,r,s,i){const a=_o(t),l=a!==t&&!Ft(t),c=a[e];if(c!==Gm[e]){const p=c.apply(t,i);return l?Kt(p):p}let h=n;a!==t&&(l?h=function(p,m){return n.call(this,On(t,p),m,t)}:n.length>2&&(h=function(p,m){return n.call(this,p,m,t)}));const f=c.call(a,h,r);return l&&s?s(f):f}function eu(t,e,n,r){const s=_o(t);let i=n;return s!==t&&(Ft(t)?n.length>3&&(i=function(a,l,c){return n.call(this,a,l,c,t)}):i=function(a,l,c){return n.call(this,a,On(t,l),c,t)}),s[e](i,...r)}function sa(t,e,n){const r=Se(t);mt(r,"iterate",Us);const s=r[e](...n);return(s===-1||s===!1)&&vl(n[0])?(n[0]=Se(n[0]),r[e](...n)):s}function _s(t,e,n=[]){vn(),pl();const r=Se(t)[e].apply(t,n);return ml(),Tn(),r}const Km=ll("__proto__,__v_isRef,__isVue"),gf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(an));function Wm(t){an(t)||(t=String(t));const e=Se(this);return mt(e,"has",t),e.hasOwnProperty(t)}class _f{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?sg:Tf:i?vf:Ef).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ue(e);if(!s){let c;if(a&&(c=zm[n]))return c;if(n==="hasOwnProperty")return Wm}const l=Reflect.get(e,n,yt(e)?e:r);if((an(n)?gf.has(n):Km(n))||(s||mt(e,"get",n),i))return l;if(yt(l)){const c=a&&hl(n)?l:l.value;return s&&De(c)?Ca(c):c}return De(l)?s?Ca(l):yo(l):l}}class yf extends _f{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];const a=ue(e)&&hl(n);if(!this._isShallow){const h=An(i);if(!Ft(r)&&!An(r)&&(i=Se(i),r=Se(r)),!a&&yt(i)&&!yt(r))return h||(i.value=r),!0}const l=a?Number(n)<e.length:Ce(e,n),c=Reflect.set(e,n,r,yt(e)?e:s);return e===Se(s)&&(l?Bn(r,i)&&_n(e,"set",n,r):_n(e,"add",n,r)),c}deleteProperty(e,n){const r=Ce(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&_n(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!an(n)||!gf.has(n))&&mt(e,"has",n),r}ownKeys(e){return mt(e,"iterate",ue(e)?"length":ur),Reflect.ownKeys(e)}}class Qm extends _f{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Jm=new yf,Ym=new Qm,Xm=new yf(!0);const Sa=t=>t,Ti=t=>Reflect.getPrototypeOf(t);function Zm(t,e,n){return function(...r){const s=this.__v_raw,i=Se(s),a=kr(i),l=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,h=s[t](...r),f=n?Sa:e?$r:Kt;return!e&&mt(i,"iterate",c?Ra:ur),lt(Object.create(h),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}}})}}function Ai(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function eg(t,e){const n={get(s){const i=this.__v_raw,a=Se(i),l=Se(s);t||(Bn(s,l)&&mt(a,"get",s),mt(a,"get",l));const{has:c}=Ti(a),h=e?Sa:t?$r:Kt;if(c.call(a,s))return h(i.get(s));if(c.call(a,l))return h(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!t&&mt(Se(s),"iterate",ur),s.size},has(s){const i=this.__v_raw,a=Se(i),l=Se(s);return t||(Bn(s,l)&&mt(a,"has",s),mt(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,c=Se(l),h=e?Sa:t?$r:Kt;return!t&&mt(c,"iterate",ur),l.forEach((f,p)=>s.call(i,h(f),h(p),a))}};return lt(n,t?{add:Ai("add"),set:Ai("set"),delete:Ai("delete"),clear:Ai("clear")}:{add(s){!e&&!Ft(s)&&!An(s)&&(s=Se(s));const i=Se(this);return Ti(i).has.call(i,s)||(i.add(s),_n(i,"add",s,s)),this},set(s,i){!e&&!Ft(i)&&!An(i)&&(i=Se(i));const a=Se(this),{has:l,get:c}=Ti(a);let h=l.call(a,s);h||(s=Se(s),h=l.call(a,s));const f=c.call(a,s);return a.set(s,i),h?Bn(i,f)&&_n(a,"set",s,i):_n(a,"add",s,i),this},delete(s){const i=Se(this),{has:a,get:l}=Ti(i);let c=a.call(i,s);c||(s=Se(s),c=a.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return c&&_n(i,"delete",s,void 0),h},clear(){const s=Se(this),i=s.size!==0,a=s.clear();return i&&_n(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Zm(s,t,e)}),n}function yl(t,e){const n=eg(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ce(n,s)&&s in r?n:r,s,i)}const tg={get:yl(!1,!1)},ng={get:yl(!1,!0)},rg={get:yl(!0,!1)};const Ef=new WeakMap,vf=new WeakMap,Tf=new WeakMap,sg=new WeakMap;function ig(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function og(t){return t.__v_skip||!Object.isExtensible(t)?0:ig(Vm(t))}function yo(t){return An(t)?t:El(t,!1,Jm,tg,Ef)}function Af(t){return El(t,!1,Xm,ng,vf)}function Ca(t){return El(t,!0,Ym,rg,Tf)}function El(t,e,n,r,s){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=og(t);if(i===0)return t;const a=s.get(t);if(a)return a;const l=new Proxy(t,i===2?r:n);return s.set(t,l),l}function hr(t){return An(t)?hr(t.__v_raw):!!(t&&t.__v_isReactive)}function An(t){return!!(t&&t.__v_isReadonly)}function Ft(t){return!!(t&&t.__v_isShallow)}function vl(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function ag(t){return!Ce(t,"__v_skip")&&Object.isExtensible(t)&&rf(t,"__v_skip",!0),t}const Kt=t=>De(t)?yo(t):t,$r=t=>De(t)?Ca(t):t;function yt(t){return t?t.__v_isRef===!0:!1}function fr(t){return If(t,!1)}function lg(t){return If(t,!0)}function If(t,e){return yt(t)?t:new cg(t,e)}class cg{constructor(e,n){this.dep=new _l,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Se(e),this._value=n?e:Kt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ft(e)||An(e);e=r?e:Se(e),Bn(e,n)&&(this._rawValue=e,this._value=r?e:Kt(e),this.dep.trigger())}}function Nt(t){return yt(t)?t.value:t}const ug={get:(t,e,n)=>e==="__v_raw"?t:Nt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return yt(s)&&!yt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function wf(t){return hr(t)?t:new Proxy(t,ug)}class hg{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new _l(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ne!==this)return uf(this,!0),!0}get value(){const e=this.dep.track();return df(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function fg(t,e,n=!1){let r,s;return fe(t)?r=t:(r=t.get,s=t.set),new hg(r,s,n)}const Ii={},ji=new WeakMap;let or;function dg(t,e=!1,n=or){if(n){let r=ji.get(n);r||ji.set(n,r=[]),r.push(t)}}function pg(t,e,n=Oe){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:c}=n,h=K=>s?K:Ft(K)||s===!1||s===0?Ln(K,1):Ln(K);let f,p,m,E,S=!1,V=!1;if(yt(t)?(p=()=>t.value,S=Ft(t)):hr(t)?(p=()=>h(t),S=!0):ue(t)?(V=!0,S=t.some(K=>hr(K)||Ft(K)),p=()=>t.map(K=>{if(yt(K))return K.value;if(hr(K))return h(K);if(fe(K))return c?c(K,2):K()})):fe(t)?e?p=c?()=>c(t,2):t:p=()=>{if(m){vn();try{m()}finally{Tn()}}const K=or;or=f;try{return c?c(t,3,[E]):t(E)}finally{or=K}}:p=nn,e&&s){const K=p,pe=s===!0?1/0:s;p=()=>Ln(K(),pe)}const D=$m(),L=()=>{f.stop(),D&&D.active&&ul(D.effects,f)};if(i&&e){const K=e;e=(...pe)=>{K(...pe),L()}}let B=V?new Array(t.length).fill(Ii):Ii;const q=K=>{if(!(!(f.flags&1)||!f.dirty&&!K))if(e){const pe=f.run();if(s||S||(V?pe.some((Ee,I)=>Bn(Ee,B[I])):Bn(pe,B))){m&&m();const Ee=or;or=f;try{const I=[pe,B===Ii?void 0:V&&B[0]===Ii?[]:B,E];B=pe,c?c(e,3,I):e(...I)}finally{or=Ee}}}else f.run()};return l&&l(q),f=new lf(p),f.scheduler=a?()=>a(q,!1):q,E=K=>dg(K,!1,f),m=f.onStop=()=>{const K=ji.get(f);if(K){if(c)c(K,4);else for(const pe of K)pe();ji.delete(f)}},e?r?q(!0):B=f.run():a?a(q.bind(null,!0),!0):f.run(),L.pause=f.pause.bind(f),L.resume=f.resume.bind(f),L.stop=L,L}function Ln(t,e=1/0,n){if(e<=0||!De(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,yt(t))Ln(t.value,e,n);else if(ue(t))for(let r=0;r<t.length;r++)Ln(t[r],e,n);else if(Zh(t)||kr(t))t.forEach(r=>{Ln(r,e,n)});else if(nf(t)){for(const r in t)Ln(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ln(t[r],e,n)}return t}function si(t,e,n,r){try{return r?t(...r):t()}catch(s){Eo(s,e,n)}}function ln(t,e,n,r){if(fe(t)){const s=si(t,e,n,r);return s&&ef(s)&&s.catch(i=>{Eo(i,e,n)}),s}if(ue(t)){const s=[];for(let i=0;i<t.length;i++)s.push(ln(t[i],e,n,r));return s}}function Eo(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Oe;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,c,h)===!1)return}l=l.parent}if(i){vn(),si(i,null,10,[t,c,h]),Tn();return}}mg(t,n,s,r,a)}function mg(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const At=[];let Zt=-1;const Mr=[];let kn=null,Cr=0;const bf=Promise.resolve();let $i=null;function Rf(t){const e=$i||bf;return t?e.then(this?t.bind(this):t):e}function gg(t){let e=Zt+1,n=At.length;for(;e<n;){const r=e+n>>>1,s=At[r],i=js(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Tl(t){if(!(t.flags&1)){const e=js(t),n=At[At.length-1];!n||!(t.flags&2)&&e>=js(n)?At.push(t):At.splice(gg(e),0,t),t.flags|=1,Sf()}}function Sf(){$i||($i=bf.then(Pf))}function _g(t){ue(t)?Mr.push(...t):kn&&t.id===-1?kn.splice(Cr+1,0,t):t.flags&1||(Mr.push(t),t.flags|=1),Sf()}function tu(t,e,n=Zt+1){for(;n<At.length;n++){const r=At[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;At.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Cf(t){if(Mr.length){const e=[...new Set(Mr)].sort((n,r)=>js(n)-js(r));if(Mr.length=0,kn){kn.push(...e);return}for(kn=e,Cr=0;Cr<kn.length;Cr++){const n=kn[Cr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}kn=null,Cr=0}}const js=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Pf(t){try{for(Zt=0;Zt<At.length;Zt++){const e=At[Zt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),si(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Zt<At.length;Zt++){const e=At[Zt];e&&(e.flags&=-2)}Zt=-1,At.length=0,Cf(),$i=null,(At.length||Mr.length)&&Pf()}}let Ht=null,Vf=null;function Hi(t){const e=Ht;return Ht=t,Vf=t&&t.type.__scopeId||null,e}function yg(t,e=Ht,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Gi(-1);const i=Hi(e);let a;try{a=t(...s)}finally{Hi(i),r._d&&Gi(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function sr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let c=l.dir[r];c&&(vn(),ln(c,n,8,[t.el,l,t,e]),Tn())}}function Pi(t,e){if(_t){let n=_t.provides;const r=_t.parent&&_t.parent.provides;r===n&&(n=_t.provides=Object.create(r)),n[t]=e}}function yn(t,e,n=!1){const r=E_();if(r||Lr){let s=Lr?Lr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&fe(e)?e.call(r&&r.proxy):e}}const Eg=Symbol.for("v-scx"),vg=()=>yn(Eg);function Vi(t,e,n){return Df(t,e,n)}function Df(t,e,n=Oe){const{immediate:r,deep:s,flush:i,once:a}=n,l=lt({},n),c=e&&r||!e&&i!=="post";let h;if(Hs){if(i==="sync"){const E=vg();h=E.__watcherHandles||(E.__watcherHandles=[])}else if(!c){const E=()=>{};return E.stop=nn,E.resume=nn,E.pause=nn,E}}const f=_t;l.call=(E,S,V)=>ln(E,f,S,V);let p=!1;i==="post"?l.scheduler=E=>{Rt(E,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(E,S)=>{S?E():Tl(E)}),l.augmentJob=E=>{e&&(E.flags|=4),p&&(E.flags|=2,f&&(E.id=f.uid,E.i=f))};const m=pg(t,e,l);return Hs&&(h?h.push(m):c&&m()),m}function Tg(t,e,n){const r=this.proxy,s=We(t)?t.includes(".")?xf(r,t):()=>r[t]:t.bind(r,r);let i;fe(e)?i=e:(i=e.handler,n=e);const a=ii(this),l=Df(s,i.bind(r),n);return a(),l}function xf(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Ag=Symbol("_vte"),Ig=t=>t.__isTeleport,wg=Symbol("_leaveCb");function Al(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Al(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Nf(t,e){return fe(t)?lt({name:t.name},e,{setup:t}):t}function Of(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function nu(t,e){let n;return!!((n=Object.getOwnPropertyDescriptor(t,e))&&!n.configurable)}const qi=new WeakMap;function Ps(t,e,n,r,s=!1){if(ue(t)){t.forEach((V,D)=>Ps(V,e&&(ue(e)?e[D]:e),n,r,s));return}if(Vs(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ps(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Cl(r.component):r.el,a=s?null:i,{i:l,r:c}=t,h=e&&e.r,f=l.refs===Oe?l.refs={}:l.refs,p=l.setupState,m=Se(p),E=p===Oe?Xh:V=>nu(f,V)?!1:Ce(m,V),S=(V,D)=>!(D&&nu(f,D));if(h!=null&&h!==c){if(ru(e),We(h))f[h]=null,E(h)&&(p[h]=null);else if(yt(h)){const V=e;S(h,V.k)&&(h.value=null),V.k&&(f[V.k]=null)}}if(fe(c))si(c,l,12,[a,f]);else{const V=We(c),D=yt(c);if(V||D){const L=()=>{if(t.f){const B=V?E(c)?p[c]:f[c]:S()||!t.k?c.value:f[t.k];if(s)ue(B)&&ul(B,i);else if(ue(B))B.includes(i)||B.push(i);else if(V)f[c]=[i],E(c)&&(p[c]=f[c]);else{const q=[i];S(c,t.k)&&(c.value=q),t.k&&(f[t.k]=q)}}else V?(f[c]=a,E(c)&&(p[c]=a)):D&&(S(c,t.k)&&(c.value=a),t.k&&(f[t.k]=a))};if(a){const B=()=>{L(),qi.delete(t)};B.id=-1,qi.set(t,B),Rt(B,n)}else ru(t),L()}}}function ru(t){const e=qi.get(t);e&&(e.flags|=8,qi.delete(t))}go().requestIdleCallback;go().cancelIdleCallback;const Vs=t=>!!t.type.__asyncLoader,kf=t=>t.type.__isKeepAlive;function bg(t,e){Mf(t,"a",e)}function Rg(t,e){Mf(t,"da",e)}function Mf(t,e,n=_t){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(vo(e,r,n),n){let s=n.parent;for(;s&&s.parent;)kf(s.parent.vnode)&&Sg(r,e,n,s),s=s.parent}}function Sg(t,e,n,r){const s=vo(e,t,r,!0);wl(()=>{ul(r[e],s)},n)}function vo(t,e,n=_t,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{vn();const l=ii(n),c=ln(e,n,t,a);return l(),Tn(),c});return r?s.unshift(i):s.push(i),i}}const Rn=t=>(e,n=_t)=>{(!Hs||t==="sp")&&vo(t,(...r)=>e(...r),n)},Cg=Rn("bm"),Il=Rn("m"),Pg=Rn("bu"),Vg=Rn("u"),Dg=Rn("bum"),wl=Rn("um"),xg=Rn("sp"),Ng=Rn("rtg"),Og=Rn("rtc");function kg(t,e=_t){vo("ec",t,e)}const Mg="components";function Lg(t,e){return Bg(Mg,t,!0,e)||t}const Fg=Symbol.for("v-ndc");function Bg(t,e,n=!0,r=!1){const s=Ht||_t;if(s){const i=s.type;{const l=w_(i,!1);if(l&&(l===e||l===Bt(e)||l===mo(Bt(e))))return i}const a=su(s[t]||i[t],e)||su(s.appContext[t],e);return!a&&r?i:a}}function su(t,e){return t&&(t[e]||t[Bt(e)]||t[mo(Bt(e))])}function rt(t,e,n,r){let s;const i=n,a=ue(t);if(a||We(t)){const l=a&&hr(t);let c=!1,h=!1;l&&(c=!Ft(t),h=An(t),t=_o(t)),s=new Array(t.length);for(let f=0,p=t.length;f<p;f++)s[f]=e(c?h?$r(Kt(t[f])):Kt(t[f]):t[f],f,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,i)}else if(De(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,i));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=e(t[f],f,c,i)}}else s=[];return s}const Pa=t=>t?nd(t)?Cl(t):Pa(t.parent):null,Ds=lt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pa(t.parent),$root:t=>Pa(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ff(t),$forceUpdate:t=>t.f||(t.f=()=>{Tl(t.update)}),$nextTick:t=>t.n||(t.n=Rf.bind(t.proxy)),$watch:t=>Tg.bind(t)}),ia=(t,e)=>t!==Oe&&!t.__isScriptSetup&&Ce(t,e),Ug={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:c}=t;if(e[0]!=="$"){const m=a[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(ia(r,e))return a[e]=1,r[e];if(s!==Oe&&Ce(s,e))return a[e]=2,s[e];if(Ce(i,e))return a[e]=3,i[e];if(n!==Oe&&Ce(n,e))return a[e]=4,n[e];Va&&(a[e]=0)}}const h=Ds[e];let f,p;if(h)return e==="$attrs"&&mt(t.attrs,"get",""),h(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==Oe&&Ce(n,e))return a[e]=4,n[e];if(p=c.config.globalProperties,Ce(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return ia(s,e)?(s[e]=n,!0):r!==Oe&&Ce(r,e)?(r[e]=n,!0):Ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,props:i,type:a}},l){let c;return!!(n[l]||t!==Oe&&l[0]!=="$"&&Ce(t,l)||ia(e,l)||Ce(i,l)||Ce(r,l)||Ce(Ds,l)||Ce(s.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ce(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function iu(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Va=!0;function jg(t){const e=Ff(t),n=t.proxy,r=t.ctx;Va=!1,e.beforeCreate&&ou(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:a,watch:l,provide:c,inject:h,created:f,beforeMount:p,mounted:m,beforeUpdate:E,updated:S,activated:V,deactivated:D,beforeDestroy:L,beforeUnmount:B,destroyed:q,unmounted:K,render:pe,renderTracked:Ee,renderTriggered:I,errorCaptured:y,serverPrefetch:A,expose:b,inheritAttrs:w,components:C,directives:v,filters:He}=e;if(h&&$g(h,r,null),a)for(const be in a){const ve=a[be];fe(ve)&&(r[be]=ve.bind(n))}if(s){const be=s.call(n,n);De(be)&&(t.data=yo(be))}if(Va=!0,i)for(const be in i){const ve=i[be],bt=fe(ve)?ve.bind(n,n):fe(ve.get)?ve.get.bind(n,n):nn,Qt=!fe(ve)&&fe(ve.set)?ve.set.bind(n):nn,Pt=Ge({get:bt,set:Qt});Object.defineProperty(r,be,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:st=>Pt.value=st})}if(l)for(const be in l)Lf(l[be],r,n,be);if(c){const be=fe(c)?c.call(n):c;Reflect.ownKeys(be).forEach(ve=>{Pi(ve,be[ve])})}f&&ou(f,t,"c");function qe(be,ve){ue(ve)?ve.forEach(bt=>be(bt.bind(n))):ve&&be(ve.bind(n))}if(qe(Cg,p),qe(Il,m),qe(Pg,E),qe(Vg,S),qe(bg,V),qe(Rg,D),qe(kg,y),qe(Og,Ee),qe(Ng,I),qe(Dg,B),qe(wl,K),qe(xg,A),ue(b))if(b.length){const be=t.exposed||(t.exposed={});b.forEach(ve=>{Object.defineProperty(be,ve,{get:()=>n[ve],set:bt=>n[ve]=bt,enumerable:!0})})}else t.exposed||(t.exposed={});pe&&t.render===nn&&(t.render=pe),w!=null&&(t.inheritAttrs=w),C&&(t.components=C),v&&(t.directives=v),A&&Of(t)}function $g(t,e,n=nn){ue(t)&&(t=Da(t));for(const r in t){const s=t[r];let i;De(s)?"default"in s?i=yn(s.from||r,s.default,!0):i=yn(s.from||r):i=yn(s),yt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[r]=i}}function ou(t,e,n){ln(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Lf(t,e,n,r){let s=r.includes(".")?xf(n,r):()=>n[r];if(We(t)){const i=e[t];fe(i)&&Vi(s,i)}else if(fe(t))Vi(s,t.bind(n));else if(De(t))if(ue(t))t.forEach(i=>Lf(i,e,n,r));else{const i=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(i)&&Vi(s,i,t)}}function Ff(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,l=i.get(e);let c;return l?c=l:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(h=>zi(c,h,a,!0)),zi(c,e,a)),De(e)&&i.set(e,c),c}function zi(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&zi(t,i,n,!0),s&&s.forEach(a=>zi(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const l=Hg[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const Hg={data:au,props:lu,emits:lu,methods:Ts,computed:Ts,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:Ts,directives:Ts,watch:zg,provide:au,inject:qg};function au(t,e){return e?t?function(){return lt(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function qg(t,e){return Ts(Da(t),Da(e))}function Da(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function vt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ts(t,e){return t?lt(Object.create(null),t,e):e}function lu(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:lt(Object.create(null),iu(t),iu(e??{})):e}function zg(t,e){if(!t)return e;if(!e)return t;const n=lt(Object.create(null),t);for(const r in e)n[r]=vt(t[r],e[r]);return n}function Bf(){return{app:null,config:{isNativeTag:Xh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gg=0;function Kg(t,e){return function(r,s=null){fe(r)||(r=lt({},r)),s!=null&&!De(s)&&(s=null);const i=Bf(),a=new WeakSet,l=[];let c=!1;const h=i.app={_uid:Gg++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:R_,get config(){return i.config},set config(f){},use(f,...p){return a.has(f)||(f&&fe(f.install)?(a.add(f),f.install(h,...p)):fe(f)&&(a.add(f),f(h,...p))),h},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),h},component(f,p){return p?(i.components[f]=p,h):i.components[f]},directive(f,p){return p?(i.directives[f]=p,h):i.directives[f]},mount(f,p,m){if(!c){const E=h._ceVNode||It(r,s);return E.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(E,f,m),c=!0,h._container=f,f.__vue_app__=h,Cl(E.component)}},onUnmount(f){l.push(f)},unmount(){c&&(ln(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(f,p){return i.provides[f]=p,h},runWithContext(f){const p=Lr;Lr=h;try{return f()}finally{Lr=p}}};return h}}let Lr=null;const Wg=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Bt(e)}Modifiers`]||t[`${yr(e)}Modifiers`];function Qg(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Oe;let s=n;const i=e.startsWith("update:"),a=i&&Wg(r,e.slice(7));a&&(a.trim&&(s=n.map(f=>We(f)?f.trim():f)),a.number&&(s=n.map(Nm)));let l,c=r[l=Zo(e)]||r[l=Zo(Bt(e))];!c&&i&&(c=r[l=Zo(yr(e))]),c&&ln(c,t,6,s);const h=r[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ln(h,t,6,s)}}const Jg=new WeakMap;function Uf(t,e,n=!1){const r=n?Jg:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let a={},l=!1;if(!fe(t)){const c=h=>{const f=Uf(h,e,!0);f&&(l=!0,lt(a,f))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(De(t)&&r.set(t,null),null):(ue(i)?i.forEach(c=>a[c]=null):lt(a,i),De(t)&&r.set(t,a),a)}function To(t,e){return!t||!fo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ce(t,e[0].toLowerCase()+e.slice(1))||Ce(t,yr(e))||Ce(t,e))}function cu(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:c,render:h,renderCache:f,props:p,data:m,setupState:E,ctx:S,inheritAttrs:V}=t,D=Hi(t);let L,B;try{if(n.shapeFlag&4){const K=s||r,pe=K;L=tn(h.call(pe,K,f,p,E,m,S)),B=l}else{const K=e;L=tn(K.length>1?K(p,{attrs:l,slots:a,emit:c}):K(p,null)),B=e.props?l:Yg(l)}}catch(K){xs.length=0,Eo(K,t,1),L=It(zn)}let q=L;if(B&&V!==!1){const K=Object.keys(B),{shapeFlag:pe}=q;K.length&&pe&7&&(i&&K.some(cl)&&(B=Xg(B,i)),q=Hr(q,B,!1,!0))}return n.dirs&&(q=Hr(q,null,!1,!0),q.dirs=q.dirs?q.dirs.concat(n.dirs):n.dirs),n.transition&&Al(q,n.transition),L=q,Hi(D),L}const Yg=t=>{let e;for(const n in t)(n==="class"||n==="style"||fo(n))&&((e||(e={}))[n]=t[n]);return e},Xg=(t,e)=>{const n={};for(const r in t)(!cl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Zg(t,e,n){const{props:r,children:s,component:i}=t,{props:a,children:l,patchFlag:c}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?uu(r,a,h):!!a;if(c&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(jf(a,r,m)&&!To(h,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?uu(r,a,h):!0:!!a;return!1}function uu(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(jf(e,t,i)&&!To(n,i))return!0}return!1}function jf(t,e,n){const r=t[n],s=e[n];return n==="style"&&De(r)&&De(s)?!dl(r,s):r!==s}function e_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const $f={},Hf=()=>Object.create($f),qf=t=>Object.getPrototypeOf(t)===$f;function t_(t,e,n,r=!1){const s={},i=Hf();t.propsDefaults=Object.create(null),zf(t,e,s,i);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=r?s:Af(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function n_(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=t,l=Se(s),[c]=t.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(To(t.emitsOptions,m))continue;const E=e[m];if(c)if(Ce(i,m))E!==i[m]&&(i[m]=E,h=!0);else{const S=Bt(m);s[S]=xa(c,l,S,E,t,!1)}else E!==i[m]&&(i[m]=E,h=!0)}}}else{zf(t,e,s,i)&&(h=!0);let f;for(const p in l)(!e||!Ce(e,p)&&((f=yr(p))===p||!Ce(e,f)))&&(c?n&&(n[p]!==void 0||n[f]!==void 0)&&(s[p]=xa(c,l,p,void 0,t,!0)):delete s[p]);if(i!==l)for(const p in i)(!e||!Ce(e,p))&&(delete i[p],h=!0)}h&&_n(t.attrs,"set","")}function zf(t,e,n,r){const[s,i]=t.propsOptions;let a=!1,l;if(e)for(let c in e){if(Rs(c))continue;const h=e[c];let f;s&&Ce(s,f=Bt(c))?!i||!i.includes(f)?n[f]=h:(l||(l={}))[f]=h:To(t.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,a=!0)}if(i){const c=Se(n),h=l||Oe;for(let f=0;f<i.length;f++){const p=i[f];n[p]=xa(s,c,p,h[p],t,!Ce(h,p))}}return a}function xa(t,e,n,r,s,i){const a=t[n];if(a!=null){const l=Ce(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&fe(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const f=ii(s);r=h[n]=c.call(null,e),f()}}else r=c;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===yr(n))&&(r=!0))}return r}const r_=new WeakMap;function Gf(t,e,n=!1){const r=n?r_:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,a={},l=[];let c=!1;if(!fe(t)){const f=p=>{c=!0;const[m,E]=Gf(p,e,!0);lt(a,m),E&&l.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!c)return De(t)&&r.set(t,Or),Or;if(ue(i))for(let f=0;f<i.length;f++){const p=Bt(i[f]);hu(p)&&(a[p]=Oe)}else if(i)for(const f in i){const p=Bt(f);if(hu(p)){const m=i[f],E=a[p]=ue(m)||fe(m)?{type:m}:lt({},m),S=E.type;let V=!1,D=!0;if(ue(S))for(let L=0;L<S.length;++L){const B=S[L],q=fe(B)&&B.name;if(q==="Boolean"){V=!0;break}else q==="String"&&(D=!1)}else V=fe(S)&&S.name==="Boolean";E[0]=V,E[1]=D,(V||Ce(E,"default"))&&l.push(p)}}const h=[a,l];return De(t)&&r.set(t,h),h}function hu(t){return t[0]!=="$"&&!Rs(t)}const bl=t=>t==="_"||t==="_ctx"||t==="$stable",Rl=t=>ue(t)?t.map(tn):[tn(t)],s_=(t,e,n)=>{if(e._n)return e;const r=yg((...s)=>Rl(e(...s)),n);return r._c=!1,r},Kf=(t,e,n)=>{const r=t._ctx;for(const s in t){if(bl(s))continue;const i=t[s];if(fe(i))e[s]=s_(s,i,r);else if(i!=null){const a=Rl(i);e[s]=()=>a}}},Wf=(t,e)=>{const n=Rl(e);t.slots.default=()=>n},Qf=(t,e,n)=>{for(const r in e)(n||!bl(r))&&(t[r]=e[r])},i_=(t,e,n)=>{const r=t.slots=Hf();if(t.vnode.shapeFlag&32){const s=e._;s?(Qf(r,e,n),n&&rf(r,"_",s,!0)):Kf(e,r)}else e&&Wf(t,e)},o_=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,a=Oe;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:Qf(s,e,n):(i=!e.$stable,Kf(e,s)),a=e}else e&&(Wf(t,e),a={default:1});if(i)for(const l in s)!bl(l)&&a[l]==null&&delete s[l]},Rt=h_;function a_(t){return l_(t)}function l_(t,e){const n=go();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:c,setText:h,setElementText:f,parentNode:p,nextSibling:m,setScopeId:E=nn,insertStaticContent:S}=t,V=(_,T,R,N=null,F=null,O=null,W=void 0,H=null,$=!!T.dynamicChildren)=>{if(_===T)return;_&&!ys(_,T)&&(N=k(_),st(_,F,O,!0),_=null),T.patchFlag===-2&&($=!1,T.dynamicChildren=null);const{type:U,ref:ie,shapeFlag:Y}=T;switch(U){case Ao:D(_,T,R,N);break;case zn:L(_,T,R,N);break;case aa:_==null&&B(T,R,N,W);break;case we:C(_,T,R,N,F,O,W,H,$);break;default:Y&1?pe(_,T,R,N,F,O,W,H,$):Y&6?v(_,T,R,N,F,O,W,H,$):(Y&64||Y&128)&&U.process(_,T,R,N,F,O,W,H,$,re)}ie!=null&&F?Ps(ie,_&&_.ref,O,T||_,!T):ie==null&&_&&_.ref!=null&&Ps(_.ref,null,O,_,!0)},D=(_,T,R,N)=>{if(_==null)r(T.el=l(T.children),R,N);else{const F=T.el=_.el;T.children!==_.children&&h(F,T.children)}},L=(_,T,R,N)=>{_==null?r(T.el=c(T.children||""),R,N):T.el=_.el},B=(_,T,R,N)=>{[_.el,_.anchor]=S(_.children,T,R,N,_.el,_.anchor)},q=({el:_,anchor:T},R,N)=>{let F;for(;_&&_!==T;)F=m(_),r(_,R,N),_=F;r(T,R,N)},K=({el:_,anchor:T})=>{let R;for(;_&&_!==T;)R=m(_),s(_),_=R;s(T)},pe=(_,T,R,N,F,O,W,H,$)=>{if(T.type==="svg"?W="svg":T.type==="math"&&(W="mathml"),_==null)Ee(T,R,N,F,O,W,H,$);else{const U=_.el&&_.el._isVueCE?_.el:null;try{U&&U._beginPatch(),A(_,T,F,O,W,H,$)}finally{U&&U._endPatch()}}},Ee=(_,T,R,N,F,O,W,H)=>{let $,U;const{props:ie,shapeFlag:Y,transition:se,dirs:ae}=_;if($=_.el=a(_.type,O,ie&&ie.is,ie),Y&8?f($,_.children):Y&16&&y(_.children,$,null,N,F,oa(_,O),W,H),ae&&sr(_,null,N,"created"),I($,_,_.scopeId,W,N),ie){for(const Ve in ie)Ve!=="value"&&!Rs(Ve)&&i($,Ve,null,ie[Ve],O,N);"value"in ie&&i($,"value",null,ie.value,O),(U=ie.onVnodeBeforeMount)&&Xt(U,N,_)}ae&&sr(_,null,N,"beforeMount");const me=c_(F,se);me&&se.beforeEnter($),r($,T,R),((U=ie&&ie.onVnodeMounted)||me||ae)&&Rt(()=>{U&&Xt(U,N,_),me&&se.enter($),ae&&sr(_,null,N,"mounted")},F)},I=(_,T,R,N,F)=>{if(R&&E(_,R),N)for(let O=0;O<N.length;O++)E(_,N[O]);if(F){let O=F.subTree;if(T===O||Zf(O.type)&&(O.ssContent===T||O.ssFallback===T)){const W=F.vnode;I(_,W,W.scopeId,W.slotScopeIds,F.parent)}}},y=(_,T,R,N,F,O,W,H,$=0)=>{for(let U=$;U<_.length;U++){const ie=_[U]=H?gn(_[U]):tn(_[U]);V(null,ie,T,R,N,F,O,W,H)}},A=(_,T,R,N,F,O,W)=>{const H=T.el=_.el;let{patchFlag:$,dynamicChildren:U,dirs:ie}=T;$|=_.patchFlag&16;const Y=_.props||Oe,se=T.props||Oe;let ae;if(R&&ir(R,!1),(ae=se.onVnodeBeforeUpdate)&&Xt(ae,R,T,_),ie&&sr(T,_,R,"beforeUpdate"),R&&ir(R,!0),(Y.innerHTML&&se.innerHTML==null||Y.textContent&&se.textContent==null)&&f(H,""),U?b(_.dynamicChildren,U,H,R,N,oa(T,F),O):W||ve(_,T,H,null,R,N,oa(T,F),O,!1),$>0){if($&16)w(H,Y,se,R,F);else if($&2&&Y.class!==se.class&&i(H,"class",null,se.class,F),$&4&&i(H,"style",Y.style,se.style,F),$&8){const me=T.dynamicProps;for(let Ve=0;Ve<me.length;Ve++){const Ie=me[Ve],ht=Y[Ie],ft=se[Ie];(ft!==ht||Ie==="value")&&i(H,Ie,ht,ft,F,R)}}$&1&&_.children!==T.children&&f(H,T.children)}else!W&&U==null&&w(H,Y,se,R,F);((ae=se.onVnodeUpdated)||ie)&&Rt(()=>{ae&&Xt(ae,R,T,_),ie&&sr(T,_,R,"updated")},N)},b=(_,T,R,N,F,O,W)=>{for(let H=0;H<T.length;H++){const $=_[H],U=T[H],ie=$.el&&($.type===we||!ys($,U)||$.shapeFlag&198)?p($.el):R;V($,U,ie,null,N,F,O,W,!0)}},w=(_,T,R,N,F)=>{if(T!==R){if(T!==Oe)for(const O in T)!Rs(O)&&!(O in R)&&i(_,O,T[O],null,F,N);for(const O in R){if(Rs(O))continue;const W=R[O],H=T[O];W!==H&&O!=="value"&&i(_,O,H,W,F,N)}"value"in R&&i(_,"value",T.value,R.value,F)}},C=(_,T,R,N,F,O,W,H,$)=>{const U=T.el=_?_.el:l(""),ie=T.anchor=_?_.anchor:l("");let{patchFlag:Y,dynamicChildren:se,slotScopeIds:ae}=T;ae&&(H=H?H.concat(ae):ae),_==null?(r(U,R,N),r(ie,R,N),y(T.children||[],R,ie,F,O,W,H,$)):Y>0&&Y&64&&se&&_.dynamicChildren&&_.dynamicChildren.length===se.length?(b(_.dynamicChildren,se,R,F,O,W,H),(T.key!=null||F&&T===F.subTree)&&Jf(_,T,!0)):ve(_,T,R,ie,F,O,W,H,$)},v=(_,T,R,N,F,O,W,H,$)=>{T.slotScopeIds=H,_==null?T.shapeFlag&512?F.ctx.activate(T,R,N,W,$):He(T,R,N,F,O,W,$):wt(_,T,$)},He=(_,T,R,N,F,O,W)=>{const H=_.component=y_(_,N,F);if(kf(_)&&(H.ctx.renderer=re),v_(H,!1,W),H.asyncDep){if(F&&F.registerDep(H,qe,W),!_.el){const $=H.subTree=It(zn);L(null,$,T,R),_.placeholder=$.el}}else qe(H,_,T,R,F,O,W)},wt=(_,T,R)=>{const N=T.component=_.component;if(Zg(_,T,R))if(N.asyncDep&&!N.asyncResolved){be(N,T,R);return}else N.next=T,N.update();else T.el=_.el,N.vnode=T},qe=(_,T,R,N,F,O,W)=>{const H=()=>{if(_.isMounted){let{next:Y,bu:se,u:ae,parent:me,vnode:Ve}=_;{const Dt=Yf(_);if(Dt){Y&&(Y.el=Ve.el,be(_,Y,W)),Dt.asyncDep.then(()=>{Rt(()=>{_.isUnmounted||U()},F)});return}}let Ie=Y,ht;ir(_,!1),Y?(Y.el=Ve.el,be(_,Y,W)):Y=Ve,se&&ea(se),(ht=Y.props&&Y.props.onVnodeBeforeUpdate)&&Xt(ht,me,Y,Ve),ir(_,!0);const ft=cu(_),Vt=_.subTree;_.subTree=ft,V(Vt,ft,p(Vt.el),k(Vt),_,F,O),Y.el=ft.el,Ie===null&&e_(_,ft.el),ae&&Rt(ae,F),(ht=Y.props&&Y.props.onVnodeUpdated)&&Rt(()=>Xt(ht,me,Y,Ve),F)}else{let Y;const{el:se,props:ae}=T,{bm:me,m:Ve,parent:Ie,root:ht,type:ft}=_,Vt=Vs(T);ir(_,!1),me&&ea(me),!Vt&&(Y=ae&&ae.onVnodeBeforeMount)&&Xt(Y,Ie,T),ir(_,!0);{ht.ce&&ht.ce._hasShadowRoot()&&ht.ce._injectChildStyle(ft);const Dt=_.subTree=cu(_);V(null,Dt,R,N,_,F,O),T.el=Dt.el}if(Ve&&Rt(Ve,F),!Vt&&(Y=ae&&ae.onVnodeMounted)){const Dt=T;Rt(()=>Xt(Y,Ie,Dt),F)}(T.shapeFlag&256||Ie&&Vs(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&_.a&&Rt(_.a,F),_.isMounted=!0,T=R=N=null}};_.scope.on();const $=_.effect=new lf(H);_.scope.off();const U=_.update=$.run.bind($),ie=_.job=$.runIfDirty.bind($);ie.i=_,ie.id=_.uid,$.scheduler=()=>Tl(ie),ir(_,!0),U()},be=(_,T,R)=>{T.component=_;const N=_.vnode.props;_.vnode=T,_.next=null,n_(_,T.props,N,R),o_(_,T.children,R),vn(),tu(_),Tn()},ve=(_,T,R,N,F,O,W,H,$=!1)=>{const U=_&&_.children,ie=_?_.shapeFlag:0,Y=T.children,{patchFlag:se,shapeFlag:ae}=T;if(se>0){if(se&128){Qt(U,Y,R,N,F,O,W,H,$);return}else if(se&256){bt(U,Y,R,N,F,O,W,H,$);return}}ae&8?(ie&16&&ut(U,F,O),Y!==U&&f(R,Y)):ie&16?ae&16?Qt(U,Y,R,N,F,O,W,H,$):ut(U,F,O,!0):(ie&8&&f(R,""),ae&16&&y(Y,R,N,F,O,W,H,$))},bt=(_,T,R,N,F,O,W,H,$)=>{_=_||Or,T=T||Or;const U=_.length,ie=T.length,Y=Math.min(U,ie);let se;for(se=0;se<Y;se++){const ae=T[se]=$?gn(T[se]):tn(T[se]);V(_[se],ae,R,null,F,O,W,H,$)}U>ie?ut(_,F,O,!0,!1,Y):y(T,R,N,F,O,W,H,$,Y)},Qt=(_,T,R,N,F,O,W,H,$)=>{let U=0;const ie=T.length;let Y=_.length-1,se=ie-1;for(;U<=Y&&U<=se;){const ae=_[U],me=T[U]=$?gn(T[U]):tn(T[U]);if(ys(ae,me))V(ae,me,R,null,F,O,W,H,$);else break;U++}for(;U<=Y&&U<=se;){const ae=_[Y],me=T[se]=$?gn(T[se]):tn(T[se]);if(ys(ae,me))V(ae,me,R,null,F,O,W,H,$);else break;Y--,se--}if(U>Y){if(U<=se){const ae=se+1,me=ae<ie?T[ae].el:N;for(;U<=se;)V(null,T[U]=$?gn(T[U]):tn(T[U]),R,me,F,O,W,H,$),U++}}else if(U>se)for(;U<=Y;)st(_[U],F,O,!0),U++;else{const ae=U,me=U,Ve=new Map;for(U=me;U<=se;U++){const it=T[U]=$?gn(T[U]):tn(T[U]);it.key!=null&&Ve.set(it.key,U)}let Ie,ht=0;const ft=se-me+1;let Vt=!1,Dt=0;const $t=new Array(ft);for(U=0;U<ft;U++)$t[U]=0;for(U=ae;U<=Y;U++){const it=_[U];if(ht>=ft){st(it,F,O,!0);continue}let et;if(it.key!=null)et=Ve.get(it.key);else for(Ie=me;Ie<=se;Ie++)if($t[Ie-me]===0&&ys(it,T[Ie])){et=Ie;break}et===void 0?st(it,F,O,!0):($t[et-me]=U+1,et>=Dt?Dt=et:Vt=!0,V(it,T[et],R,null,F,O,W,H,$),ht++)}const Ir=Vt?u_($t):Or;for(Ie=Ir.length-1,U=ft-1;U>=0;U--){const it=me+U,et=T[it],ns=T[it+1],Zn=it+1<ie?ns.el||Xf(ns):N;$t[U]===0?V(null,et,R,Zn,F,O,W,H,$):Vt&&(Ie<0||U!==Ir[Ie]?Pt(et,R,Zn,2):Ie--)}}},Pt=(_,T,R,N,F=null)=>{const{el:O,type:W,transition:H,children:$,shapeFlag:U}=_;if(U&6){Pt(_.component.subTree,T,R,N);return}if(U&128){_.suspense.move(T,R,N);return}if(U&64){W.move(_,T,R,re);return}if(W===we){r(O,T,R);for(let Y=0;Y<$.length;Y++)Pt($[Y],T,R,N);r(_.anchor,T,R);return}if(W===aa){q(_,T,R);return}if(N!==2&&U&1&&H)if(N===0)H.beforeEnter(O),r(O,T,R),Rt(()=>H.enter(O),F);else{const{leave:Y,delayLeave:se,afterLeave:ae}=H,me=()=>{_.ctx.isUnmounted?s(O):r(O,T,R)},Ve=()=>{O._isLeaving&&O[wg](!0),Y(O,()=>{me(),ae&&ae()})};se?se(O,me,Ve):Ve()}else r(O,T,R)},st=(_,T,R,N=!1,F=!1)=>{const{type:O,props:W,ref:H,children:$,dynamicChildren:U,shapeFlag:ie,patchFlag:Y,dirs:se,cacheIndex:ae}=_;if(Y===-2&&(F=!1),H!=null&&(vn(),Ps(H,null,R,_,!0),Tn()),ae!=null&&(T.renderCache[ae]=void 0),ie&256){T.ctx.deactivate(_);return}const me=ie&1&&se,Ve=!Vs(_);let Ie;if(Ve&&(Ie=W&&W.onVnodeBeforeUnmount)&&Xt(Ie,T,_),ie&6)jt(_.component,R,N);else{if(ie&128){_.suspense.unmount(R,N);return}me&&sr(_,null,T,"beforeUnmount"),ie&64?_.type.remove(_,T,R,re,N):U&&!U.hasOnce&&(O!==we||Y>0&&Y&64)?ut(U,T,R,!1,!0):(O===we&&Y&384||!F&&ie&16)&&ut($,T,R),N&&hn(_)}(Ve&&(Ie=W&&W.onVnodeUnmounted)||me)&&Rt(()=>{Ie&&Xt(Ie,T,_),me&&sr(_,null,T,"unmounted")},R)},hn=_=>{const{type:T,el:R,anchor:N,transition:F}=_;if(T===we){Ut(R,N);return}if(T===aa){K(_);return}const O=()=>{s(R),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(_.shapeFlag&1&&F&&!F.persisted){const{leave:W,delayLeave:H}=F,$=()=>W(R,O);H?H(_.el,O,$):$()}else O()},Ut=(_,T)=>{let R;for(;_!==T;)R=m(_),s(_),_=R;s(T)},jt=(_,T,R)=>{const{bum:N,scope:F,job:O,subTree:W,um:H,m:$,a:U}=_;fu($),fu(U),N&&ea(N),F.stop(),O&&(O.flags|=8,st(W,_,T,R)),H&&Rt(H,T),Rt(()=>{_.isUnmounted=!0},T)},ut=(_,T,R,N=!1,F=!1,O=0)=>{for(let W=O;W<_.length;W++)st(_[W],T,R,N,F)},k=_=>{if(_.shapeFlag&6)return k(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const T=m(_.anchor||_.el),R=T&&T[Ag];return R?m(R):T};let Z=!1;const Q=(_,T,R)=>{let N;_==null?T._vnode&&(st(T._vnode,null,null,!0),N=T._vnode.component):V(T._vnode||null,_,T,null,null,null,R),T._vnode=_,Z||(Z=!0,tu(N),Cf(),Z=!1)},re={p:V,um:st,m:Pt,r:hn,mt:He,mc:y,pc:ve,pbc:b,n:k,o:t};return{render:Q,hydrate:void 0,createApp:Kg(Q)}}function oa({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ir({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function c_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Jf(t,e,n=!1){const r=t.children,s=e.children;if(ue(r)&&ue(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=gn(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&Jf(a,l)),l.type===Ao&&(l.patchFlag===-1&&(l=s[i]=gn(l)),l.el=a.el),l.type===zn&&!l.el&&(l.el=a.el)}}function u_(t){const e=t.slice(),n=[0];let r,s,i,a,l;const c=t.length;for(r=0;r<c;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,t[n[l]]<h?i=l+1:a=l;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function Yf(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Yf(e)}function fu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Xf(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Xf(e.subTree):null}const Zf=t=>t.__isSuspense;function h_(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):_g(t)}const we=Symbol.for("v-fgt"),Ao=Symbol.for("v-txt"),zn=Symbol.for("v-cmt"),aa=Symbol.for("v-stc"),xs=[];let Ot=null;function z(t=!1){xs.push(Ot=t?null:[])}function f_(){xs.pop(),Ot=xs[xs.length-1]||null}let $s=1;function Gi(t,e=!1){$s+=t,t<0&&Ot&&e&&(Ot.hasOnce=!0)}function ed(t){return t.dynamicChildren=$s>0?Ot||Or:null,f_(),$s>0&&Ot&&Ot.push(t),t}function X(t,e,n,r,s,i){return ed(J(t,e,n,r,s,i,!0))}function kt(t,e,n,r,s){return ed(It(t,e,n,r,s,!0))}function Ki(t){return t?t.__v_isVNode===!0:!1}function ys(t,e){return t.type===e.type&&t.key===e.key}const td=({key:t})=>t??null,Di=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?We(t)||yt(t)||fe(t)?{i:Ht,r:t,k:e,f:!!n}:t:null);function J(t,e=null,n=null,r=0,s=null,i=t===we?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&td(e),ref:e&&Di(e),scopeId:Vf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ht};return l?(Sl(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=We(n)?8:16),$s>0&&!a&&Ot&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ot.push(c),c}const It=d_;function d_(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Fg)&&(t=zn),Ki(t)){const l=Hr(t,e,!0);return n&&Sl(l,n),$s>0&&!i&&Ot&&(l.shapeFlag&6?Ot[Ot.indexOf(t)]=l:Ot.push(l)),l.patchFlag=-2,l}if(b_(t)&&(t=t.__vccOpts),e){e=p_(e);let{class:l,style:c}=e;l&&!We(l)&&(e.class=ri(l)),De(c)&&(vl(c)&&!ue(c)&&(c=lt({},c)),e.style=fl(c))}const a=We(t)?1:Zf(t)?128:Ig(t)?64:De(t)?4:fe(t)?2:0;return J(t,e,n,r,s,a,i,!0)}function p_(t){return t?vl(t)||qf(t)?lt({},t):t:null}function Hr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:c}=t,h=e?m_(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&td(h),ref:e&&e.ref?n&&i?ue(i)?i.concat(Di(e)):[i,Di(e)]:Di(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Hr(t.ssContent),ssFallback:t.ssFallback&&Hr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Al(f,c.clone(f)),f}function pr(t=" ",e=0){return It(Ao,null,t,e)}function Me(t="",e=!1){return e?(z(),kt(zn,null,t)):It(zn,null,t)}function tn(t){return t==null||typeof t=="boolean"?It(zn):ue(t)?It(we,null,t.slice()):Ki(t)?gn(t):It(Ao,null,String(t))}function gn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Hr(t)}function Sl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Sl(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!qf(e)?e._ctx=Ht:s===3&&Ht&&(Ht.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:Ht},n=32):(e=String(e),r&64?(n=16,e=[pr(e)]):n=8);t.children=e,t.shapeFlag|=n}function m_(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ri([e.class,r.class]));else if(s==="style")e.style=fl([e.style,r.style]);else if(fo(s)){const i=e[s],a=r[s];a&&i!==a&&!(ue(i)&&i.includes(a))&&(e[s]=i?[].concat(i,a):a)}else s!==""&&(e[s]=r[s])}return e}function Xt(t,e,n,r=null){ln(t,e,7,[n,r])}const g_=Bf();let __=0;function y_(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||g_,i={uid:__++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gf(r,s),emitsOptions:Uf(r,s),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:r.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Qg.bind(null,i),t.ce&&t.ce(i),i}let _t=null;const E_=()=>_t||Ht;let Wi,Na;{const t=go(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};Wi=e("__VUE_INSTANCE_SETTERS__",n=>_t=n),Na=e("__VUE_SSR_SETTERS__",n=>Hs=n)}const ii=t=>{const e=_t;return Wi(t),t.scope.on(),()=>{t.scope.off(),Wi(e)}},du=()=>{_t&&_t.scope.off(),Wi(null)};function nd(t){return t.vnode.shapeFlag&4}let Hs=!1;function v_(t,e=!1,n=!1){e&&Na(e);const{props:r,children:s}=t.vnode,i=nd(t);t_(t,r,i,e),i_(t,s,n||e);const a=i?T_(t,e):void 0;return e&&Na(!1),a}function T_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ug);const{setup:r}=n;if(r){vn();const s=t.setupContext=r.length>1?I_(t):null,i=ii(t),a=si(r,t,0,[t.props,s]),l=ef(a);if(Tn(),i(),(l||t.sp)&&!Vs(t)&&Of(t),l){if(a.then(du,du),e)return a.then(c=>{pu(t,c)}).catch(c=>{Eo(c,t,0)});t.asyncDep=a}else pu(t,a)}else rd(t)}function pu(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=wf(e)),rd(t)}function rd(t,e,n){const r=t.type;t.render||(t.render=r.render||nn);{const s=ii(t);vn();try{jg(t)}finally{Tn(),s()}}}const A_={get(t,e){return mt(t,"get",""),t[e]}};function I_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,A_),slots:t.slots,emit:t.emit,expose:e}}function Cl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(wf(ag(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ds)return Ds[n](t)},has(e,n){return n in e||n in Ds}})):t.proxy}function w_(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function b_(t){return fe(t)&&"__vccOpts"in t}const Ge=(t,e)=>fg(t,e,Hs);function sd(t,e,n){try{Gi(-1);const r=arguments.length;return r===2?De(e)&&!ue(e)?Ki(e)?It(t,null,[e]):It(t,e):It(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ki(n)&&(n=[n]),It(t,e,n))}finally{Gi(1)}}const R_="3.5.28";let Oa;const mu=typeof window<"u"&&window.trustedTypes;if(mu)try{Oa=mu.createPolicy("vue",{createHTML:t=>t})}catch{}const id=Oa?t=>Oa.createHTML(t):t=>t,S_="http://www.w3.org/2000/svg",C_="http://www.w3.org/1998/Math/MathML",mn=typeof document<"u"?document:null,gu=mn&&mn.createElement("template"),P_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?mn.createElementNS(S_,t):e==="mathml"?mn.createElementNS(C_,t):n?mn.createElement(t,{is:n}):mn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>mn.createTextNode(t),createComment:t=>mn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>mn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const a=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{gu.innerHTML=id(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=gu.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},V_=Symbol("_vtc");function D_(t,e,n){const r=t[V_];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _u=Symbol("_vod"),x_=Symbol("_vsh"),N_=Symbol(""),O_=/(?:^|;)\s*display\s*:/;function k_(t,e,n){const r=t.style,s=We(n);let i=!1;if(n&&!s){if(e)if(We(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&xi(r,l,"")}else for(const a in e)n[a]==null&&xi(r,a,"");for(const a in n)a==="display"&&(i=!0),xi(r,a,n[a])}else if(s){if(e!==n){const a=r[N_];a&&(n+=";"+a),r.cssText=n,i=O_.test(n)}}else e&&t.removeAttribute("style");_u in t&&(t[_u]=i?r.display:"",t[x_]&&(r.display="none"))}const yu=/\s*!important$/;function xi(t,e,n){if(ue(n))n.forEach(r=>xi(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=M_(t,e);yu.test(n)?t.setProperty(yr(r),n.replace(yu,""),"important"):t[r]=n}}const Eu=["Webkit","Moz","ms"],la={};function M_(t,e){const n=la[e];if(n)return n;let r=Bt(e);if(r!=="filter"&&r in t)return la[e]=r;r=mo(r);for(let s=0;s<Eu.length;s++){const i=Eu[s]+r;if(i in t)return la[e]=i}return e}const vu="http://www.w3.org/1999/xlink";function Tu(t,e,n,r,s,i=Bm(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(vu,e.slice(6,e.length)):t.setAttributeNS(vu,e,n):n==null||i&&!sf(n)?t.removeAttribute(e):t.setAttribute(e,i?"":an(n)?String(n):n)}function Au(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?id(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=sf(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function L_(t,e,n,r){t.addEventListener(e,n,r)}function F_(t,e,n,r){t.removeEventListener(e,n,r)}const Iu=Symbol("_vei");function B_(t,e,n,r,s=null){const i=t[Iu]||(t[Iu]={}),a=i[e];if(r&&a)a.value=r;else{const[l,c]=U_(e);if(r){const h=i[e]=H_(r,s);L_(t,l,h,c)}else a&&(F_(t,l,a,c),i[e]=void 0)}}const wu=/(?:Once|Passive|Capture)$/;function U_(t){let e;if(wu.test(t)){e={};let r;for(;r=t.match(wu);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):yr(t.slice(2)),e]}let ca=0;const j_=Promise.resolve(),$_=()=>ca||(j_.then(()=>ca=0),ca=Date.now());function H_(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ln(q_(r,n.value),e,5,[r])};return n.value=t,n.attached=$_(),n}function q_(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const bu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,z_=(t,e,n,r,s,i)=>{const a=s==="svg";e==="class"?D_(t,r,a):e==="style"?k_(t,n,r):fo(e)?cl(e)||B_(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):G_(t,e,r,a))?(Au(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Tu(t,e,r,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!We(r))?Au(t,Bt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Tu(t,e,r,a))};function G_(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&bu(e)&&fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return bu(e)&&We(n)?!1:e in t}const K_=lt({patchProp:z_},P_);let Ru;function W_(){return Ru||(Ru=a_(K_))}const Q_=((...t)=>{const e=W_().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Y_(r);if(!s)return;const i=e._component;!fe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,J_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e});function J_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Y_(t){return We(t)?document.querySelector(t):t}const Xn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},X_={};function Z_(t,e){const n=Lg("router-view");return z(),kt(n)}const ey=Xn(X_,[["render",Z_]]);const Pr=typeof document<"u";function od(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ty(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&od(t.default)}const Re=Object.assign;function ua(t,e){const n={};for(const r in e){const s=e[r];n[r]=Wt(s)?s.map(t):t(s)}return n}const Ns=()=>{},Wt=Array.isArray;function Su(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const ad=/#/g,ny=/&/g,ry=/\//g,sy=/=/g,iy=/\?/g,ld=/\+/g,oy=/%5B/g,ay=/%5D/g,cd=/%5E/g,ly=/%60/g,ud=/%7B/g,cy=/%7C/g,hd=/%7D/g,uy=/%20/g;function Pl(t){return t==null?"":encodeURI(""+t).replace(cy,"|").replace(oy,"[").replace(ay,"]")}function hy(t){return Pl(t).replace(ud,"{").replace(hd,"}").replace(cd,"^")}function ka(t){return Pl(t).replace(ld,"%2B").replace(uy,"+").replace(ad,"%23").replace(ny,"%26").replace(ly,"`").replace(ud,"{").replace(hd,"}").replace(cd,"^")}function fy(t){return ka(t).replace(sy,"%3D")}function dy(t){return Pl(t).replace(ad,"%23").replace(iy,"%3F")}function py(t){return dy(t).replace(ry,"%2F")}function qs(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const my=/\/$/,gy=t=>t.replace(my,"");function ha(t,e,n="/"){let r,s={},i="",a="";const l=e.indexOf("#");let c=e.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(r=e.slice(0,c),i=e.slice(c,l>0?l:e.length),s=t(i.slice(1))),l>=0&&(r=r||e.slice(0,l),a=e.slice(l,e.length)),r=vy(r??e,n),{fullPath:r+i+a,path:r,query:s,hash:qs(a)}}function _y(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Cu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function yy(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&qr(e.matched[r],n.matched[s])&&fd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function fd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!Ey(t[n],e[n]))return!1;return!0}function Ey(t,e){return Wt(t)?Pu(t,e):Wt(e)?Pu(e,t):t?.valueOf()===e?.valueOf()}function Pu(t,e){return Wt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function vy(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const Nn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ma=(function(t){return t.pop="pop",t.push="push",t})({}),fa=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Ty(t){if(!t)if(Pr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),gy(t)}const Ay=/^[^#]+#/;function Iy(t,e){return t.replace(Ay,"#")+e}function wy(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Io=()=>({left:window.scrollX,top:window.scrollY});function by(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=wy(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Vu(t,e){return(history.state?history.state.position-e:-1)+t}const La=new Map;function Ry(t,e){La.set(t,e)}function Sy(t){const e=La.get(t);return La.delete(t),e}function Cy(t){return typeof t=="string"||t&&typeof t=="object"}function dd(t){return typeof t=="string"||typeof t=="symbol"}let je=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const pd=Symbol("");je.MATCHER_NOT_FOUND+"",je.NAVIGATION_GUARD_REDIRECT+"",je.NAVIGATION_ABORTED+"",je.NAVIGATION_CANCELLED+"",je.NAVIGATION_DUPLICATED+"";function zr(t,e){return Re(new Error,{type:t,[pd]:!0},e)}function dn(t,e){return t instanceof Error&&pd in t&&(e==null||!!(t.type&e))}const Py=["params","query","hash"];function Vy(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of Py)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function Dy(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(ld," "),i=s.indexOf("="),a=qs(i<0?s:s.slice(0,i)),l=i<0?null:qs(s.slice(i+1));if(a in e){let c=e[a];Wt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Du(t){let e="";for(let n in t){const r=t[n];if(n=fy(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Wt(r)?r.map(s=>s&&ka(s)):[r&&ka(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function xy(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Wt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Ny=Symbol(""),xu=Symbol(""),Vl=Symbol(""),md=Symbol(""),Fa=Symbol("");function Es(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Mn(t,e,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=m=>{m===!1?c(zr(je.NAVIGATION_ABORTED,{from:n,to:e})):m instanceof Error?c(m):Cy(m)?c(zr(je.NAVIGATION_GUARD_REDIRECT,{from:e,to:m})):(a&&r.enterCallbacks[s]===a&&typeof m=="function"&&a.push(m),l())},f=i(()=>t.call(r&&r.instances[s],e,n,h));let p=Promise.resolve(f);t.length<3&&(p=p.then(h)),p.catch(m=>c(m))})}function da(t,e,n,r,s=i=>i()){const i=[];for(const a of t)for(const l in a.components){let c=a.components[l];if(!(e!=="beforeRouteEnter"&&!a.instances[l]))if(od(c)){const h=(c.__vccOpts||c)[e];h&&i.push(Mn(h,n,r,a,l,s))}else{let h=c();i.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=ty(f)?f.default:f;a.mods[l]=f,a.components[l]=p;const m=(p.__vccOpts||p)[e];return m&&Mn(m,n,r,a,l,s)()}))}}return i}function Oy(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let a=0;a<i;a++){const l=e.matched[a];l&&(t.matched.find(h=>qr(h,l))?r.push(l):n.push(l));const c=t.matched[a];c&&(e.matched.find(h=>qr(h,c))||s.push(c))}return[n,r,s]}let ky=()=>location.protocol+"//"+location.host;function gd(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Cu(l,"")}return Cu(n,t)+r+s}function My(t,e,n,r){let s=[],i=[],a=null;const l=({state:m})=>{const E=gd(t,location),S=n.value,V=e.value;let D=0;if(m){if(n.value=E,e.value=m,a&&a===S){a=null;return}D=V?m.position-V.position:0}else r(E);s.forEach(L=>{L(n.value,S,{delta:D,type:Ma.pop,direction:D?D>0?fa.forward:fa.back:fa.unknown})})};function c(){a=n.value}function h(m){s.push(m);const E=()=>{const S=s.indexOf(m);S>-1&&s.splice(S,1)};return i.push(E),E}function f(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(Re({},m.state,{scroll:Io()}),"")}}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:c,listen:h,destroy:p}}function Nu(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Io():null}}function Ly(t){const{history:e,location:n}=window,r={value:gd(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,h,f){const p=t.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+c:ky()+t+c;try{e[f?"replaceState":"pushState"](h,"",m),s.value=h}catch(E){console.error(E),n[f?"replace":"assign"](m)}}function a(c,h){i(c,Re({},e.state,Nu(s.value.back,c,s.value.forward,!0),h,{position:s.value.position}),!0),r.value=c}function l(c,h){const f=Re({},s.value,e.state,{forward:c,scroll:Io()});i(f.current,f,!0),i(c,Re({},Nu(r.value,c,null),{position:f.position+1},h),!1),r.value=c}return{location:r,state:s,push:l,replace:a}}function Fy(t){t=Ty(t);const e=Ly(t),n=My(t,e.state,e.location,e.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=Re({location:"",base:t,go:r,createHref:Iy.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}let lr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Je=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Je||{});const By={type:lr.Static,value:""},Uy=/[a-zA-Z0-9_]/;function jy(t){if(!t)return[[]];if(t==="/")return[[By]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${h}": ${E}`)}let n=Je.Static,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,c,h="",f="";function p(){h&&(n===Je.Static?i.push({type:lr.Static,value:h}):n===Je.Param||n===Je.ParamRegExp||n===Je.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:lr.Param,value:h,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==Je.ParamRegExp){r=n,n=Je.EscapeNext;continue}switch(n){case Je.Static:c==="/"?(h&&p(),a()):c===":"?(p(),n=Je.Param):m();break;case Je.EscapeNext:m(),n=r;break;case Je.Param:c==="("?n=Je.ParamRegExp:Uy.test(c)?m():(p(),n=Je.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case Je.ParamRegExp:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:n=Je.ParamRegExpEnd:f+=c;break;case Je.ParamRegExpEnd:p(),n=Je.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:e("Unknown state");break}}return n===Je.ParamRegExp&&e(`Unfinished custom RegExp for param "${h}"`),p(),a(),s}const Ou="[^/]+?",$y={sensitive:!1,strict:!1,start:!0,end:!0};var Tt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Tt||{});const Hy=/[.+*?^${}()[\]/\\]/g;function qy(t,e){const n=Re({},$y,e),r=[];let s=n.start?"^":"";const i=[];for(const h of t){const f=h.length?[]:[Tt.Root];n.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const m=h[p];let E=Tt.Segment+(n.sensitive?Tt.BonusCaseSensitive:0);if(m.type===lr.Static)p||(s+="/"),s+=m.value.replace(Hy,"\\$&"),E+=Tt.Static;else if(m.type===lr.Param){const{value:S,repeatable:V,optional:D,regexp:L}=m;i.push({name:S,repeatable:V,optional:D});const B=L||Ou;if(B!==Ou){E+=Tt.BonusCustomRegExp;try{`${B}`}catch(K){throw new Error(`Invalid custom RegExp for param "${S}" (${B}): `+K.message)}}let q=V?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;p||(q=D&&h.length<2?`(?:/${q})`:"/"+q),D&&(q+="?"),s+=q,E+=Tt.Dynamic,D&&(E+=Tt.BonusOptional),V&&(E+=Tt.BonusRepeatable),B===".*"&&(E+=Tt.BonusWildcard)}f.push(E)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=Tt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(h){const f=h.match(a),p={};if(!f)return null;for(let m=1;m<f.length;m++){const E=f[m]||"",S=i[m-1];p[S.name]=E&&S.repeatable?E.split("/"):E}return p}function c(h){let f="",p=!1;for(const m of t){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const E of m)if(E.type===lr.Static)f+=E.value;else if(E.type===lr.Param){const{value:S,repeatable:V,optional:D}=E,L=S in h?h[S]:"";if(Wt(L)&&!V)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const B=Wt(L)?L.join("/"):L;if(!B)if(D)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${S}"`);f+=B}}return f||"/"}return{re:a,score:r,keys:i,parse:l,stringify:c}}function zy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===Tt.Static+Tt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Tt.Static+Tt.Segment?1:-1:0}function _d(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=zy(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(ku(r))return 1;if(ku(s))return-1}return s.length-r.length}function ku(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Gy={strict:!1,end:!0,sensitive:!1};function Ky(t,e,n){const r=qy(jy(t.path),n),s=Re(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Wy(t,e){const n=[],r=new Map;e=Su(Gy,e);function s(p){return r.get(p)}function i(p,m,E){const S=!E,V=Lu(p);V.aliasOf=E&&E.record;const D=Su(e,p),L=[V];if("alias"in p){const K=typeof p.alias=="string"?[p.alias]:p.alias;for(const pe of K)L.push(Lu(Re({},V,{components:E?E.record.components:V.components,path:pe,aliasOf:E?E.record:V})))}let B,q;for(const K of L){const{path:pe}=K;if(m&&pe[0]!=="/"){const Ee=m.record.path,I=Ee[Ee.length-1]==="/"?"":"/";K.path=m.record.path+(pe&&I+pe)}if(B=Ky(K,m,D),E?E.alias.push(B):(q=q||B,q!==B&&q.alias.push(B),S&&p.name&&!Fu(B)&&a(p.name)),yd(B)&&c(B),V.children){const Ee=V.children;for(let I=0;I<Ee.length;I++)i(Ee[I],B,E&&E.children[I])}E=E||B}return q?()=>{a(q)}:Ns}function a(p){if(dd(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function c(p){const m=Yy(p,n);n.splice(m,0,p),p.record.name&&!Fu(p)&&r.set(p.record.name,p)}function h(p,m){let E,S={},V,D;if("name"in p&&p.name){if(E=r.get(p.name),!E)throw zr(je.MATCHER_NOT_FOUND,{location:p});D=E.record.name,S=Re(Mu(m.params,E.keys.filter(q=>!q.optional).concat(E.parent?E.parent.keys.filter(q=>q.optional):[]).map(q=>q.name)),p.params&&Mu(p.params,E.keys.map(q=>q.name))),V=E.stringify(S)}else if(p.path!=null)V=p.path,E=n.find(q=>q.re.test(V)),E&&(S=E.parse(V),D=E.record.name);else{if(E=m.name?r.get(m.name):n.find(q=>q.re.test(m.path)),!E)throw zr(je.MATCHER_NOT_FOUND,{location:p,currentLocation:m});D=E.record.name,S=Re({},m.params,p.params),V=E.stringify(S)}const L=[];let B=E;for(;B;)L.unshift(B.record),B=B.parent;return{name:D,path:V,params:S,matched:L,meta:Jy(L)}}t.forEach(p=>i(p));function f(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:f,getRoutes:l,getRecordMatcher:s}}function Mu(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Lu(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Qy(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Qy(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Fu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Jy(t){return t.reduce((e,n)=>Re(e,n.meta),{})}function Yy(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;_d(t,e[i])<0?r=i:n=i+1}const s=Xy(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function Xy(t){let e=t;for(;e=e.parent;)if(yd(e)&&_d(t,e)===0)return e}function yd({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Bu(t){const e=yn(Vl),n=yn(md),r=Ge(()=>{const c=Nt(t.to);return e.resolve(c)}),s=Ge(()=>{const{matched:c}=r.value,{length:h}=c,f=c[h-1],p=n.matched;if(!f||!p.length)return-1;const m=p.findIndex(qr.bind(null,f));if(m>-1)return m;const E=Uu(c[h-2]);return h>1&&Uu(f)===E&&p[p.length-1].path!==E?p.findIndex(qr.bind(null,c[h-2])):m}),i=Ge(()=>s.value>-1&&rE(n.params,r.value.params)),a=Ge(()=>s.value>-1&&s.value===n.matched.length-1&&fd(n.params,r.value.params));function l(c={}){if(nE(c)){const h=e[Nt(t.replace)?"replace":"push"](Nt(t.to)).catch(Ns);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Ge(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}function Zy(t){return t.length===1?t[0]:t}const eE=Nf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Bu,setup(t,{slots:e}){const n=yo(Bu(t)),{options:r}=yn(Vl),s=Ge(()=>({[ju(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ju(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&Zy(e.default(n));return t.custom?i:sd("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),tE=eE;function nE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function rE(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Wt(s)||s.length!==r.length||r.some((i,a)=>i.valueOf()!==s[a].valueOf()))return!1}return!0}function Uu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ju=(t,e,n)=>t??e??n,sE=Nf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=yn(Fa),s=Ge(()=>t.route||r.value),i=yn(xu,0),a=Ge(()=>{let h=Nt(i);const{matched:f}=s.value;let p;for(;(p=f[h])&&!p.components;)h++;return h}),l=Ge(()=>s.value.matched[a.value]);Pi(xu,Ge(()=>a.value+1)),Pi(Ny,l),Pi(Fa,s);const c=fr();return Vi(()=>[c.value,l.value,t.name],([h,f,p],[m,E,S])=>{f&&(f.instances[p]=h,E&&E!==f&&h&&h===m&&(f.leaveGuards.size||(f.leaveGuards=E.leaveGuards),f.updateGuards.size||(f.updateGuards=E.updateGuards))),h&&f&&(!E||!qr(f,E)||!m)&&(f.enterCallbacks[p]||[]).forEach(V=>V(h))},{flush:"post"}),()=>{const h=s.value,f=t.name,p=l.value,m=p&&p.components[f];if(!m)return $u(n.default,{Component:m,route:h});const E=p.props[f],S=E?E===!0?h.params:typeof E=="function"?E(h):E:null,D=sd(m,Re({},S,e,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(p.instances[f]=null)},ref:c}));return $u(n.default,{Component:D,route:h})||D}}});function $u(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const iE=sE;function oE(t){const e=Wy(t.routes,t),n=t.parseQuery||Dy,r=t.stringifyQuery||Du,s=t.history,i=Es(),a=Es(),l=Es(),c=lg(Nn);let h=Nn;Pr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=ua.bind(null,k=>""+k),p=ua.bind(null,py),m=ua.bind(null,qs);function E(k,Z){let Q,re;return dd(k)?(Q=e.getRecordMatcher(k),re=Z):re=k,e.addRoute(re,Q)}function S(k){const Z=e.getRecordMatcher(k);Z&&e.removeRoute(Z)}function V(){return e.getRoutes().map(k=>k.record)}function D(k){return!!e.getRecordMatcher(k)}function L(k,Z){if(Z=Re({},Z||c.value),typeof k=="string"){const R=ha(n,k,Z.path),N=e.resolve({path:R.path},Z),F=s.createHref(R.fullPath);return Re(R,N,{params:m(N.params),hash:qs(R.hash),redirectedFrom:void 0,href:F})}let Q;if(k.path!=null)Q=Re({},k,{path:ha(n,k.path,Z.path).path});else{const R=Re({},k.params);for(const N in R)R[N]==null&&delete R[N];Q=Re({},k,{params:p(R)}),Z.params=p(Z.params)}const re=e.resolve(Q,Z),ge=k.hash||"";re.params=f(m(re.params));const _=_y(r,Re({},k,{hash:hy(ge),path:re.path})),T=s.createHref(_);return Re({fullPath:_,hash:ge,query:r===Du?xy(k.query):k.query||{}},re,{redirectedFrom:void 0,href:T})}function B(k){return typeof k=="string"?ha(n,k,c.value.path):Re({},k)}function q(k,Z){if(h!==k)return zr(je.NAVIGATION_CANCELLED,{from:Z,to:k})}function K(k){return I(k)}function pe(k){return K(Re(B(k),{replace:!0}))}function Ee(k,Z){const Q=k.matched[k.matched.length-1];if(Q&&Q.redirect){const{redirect:re}=Q;let ge=typeof re=="function"?re(k,Z):re;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=B(ge):{path:ge},ge.params={}),Re({query:k.query,hash:k.hash,params:ge.path!=null?{}:k.params},ge)}}function I(k,Z){const Q=h=L(k),re=c.value,ge=k.state,_=k.force,T=k.replace===!0,R=Ee(Q,re);if(R)return I(Re(B(R),{state:typeof R=="object"?Re({},ge,R.state):ge,force:_,replace:T}),Z||Q);const N=Q;N.redirectedFrom=Z;let F;return!_&&yy(r,re,Q)&&(F=zr(je.NAVIGATION_DUPLICATED,{to:N,from:re}),Pt(re,re,!0,!1)),(F?Promise.resolve(F):b(N,re)).catch(O=>dn(O)?dn(O,je.NAVIGATION_GUARD_REDIRECT)?O:Qt(O):ve(O,N,re)).then(O=>{if(O){if(dn(O,je.NAVIGATION_GUARD_REDIRECT))return I(Re({replace:T},B(O.to),{state:typeof O.to=="object"?Re({},ge,O.to.state):ge,force:_}),Z||N)}else O=C(N,re,!0,T,ge);return w(N,re,O),O})}function y(k,Z){const Q=q(k,Z);return Q?Promise.reject(Q):Promise.resolve()}function A(k){const Z=Ut.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(k):k()}function b(k,Z){let Q;const[re,ge,_]=Oy(k,Z);Q=da(re.reverse(),"beforeRouteLeave",k,Z);for(const R of re)R.leaveGuards.forEach(N=>{Q.push(Mn(N,k,Z))});const T=y.bind(null,k,Z);return Q.push(T),ut(Q).then(()=>{Q=[];for(const R of i.list())Q.push(Mn(R,k,Z));return Q.push(T),ut(Q)}).then(()=>{Q=da(ge,"beforeRouteUpdate",k,Z);for(const R of ge)R.updateGuards.forEach(N=>{Q.push(Mn(N,k,Z))});return Q.push(T),ut(Q)}).then(()=>{Q=[];for(const R of _)if(R.beforeEnter)if(Wt(R.beforeEnter))for(const N of R.beforeEnter)Q.push(Mn(N,k,Z));else Q.push(Mn(R.beforeEnter,k,Z));return Q.push(T),ut(Q)}).then(()=>(k.matched.forEach(R=>R.enterCallbacks={}),Q=da(_,"beforeRouteEnter",k,Z,A),Q.push(T),ut(Q))).then(()=>{Q=[];for(const R of a.list())Q.push(Mn(R,k,Z));return Q.push(T),ut(Q)}).catch(R=>dn(R,je.NAVIGATION_CANCELLED)?R:Promise.reject(R))}function w(k,Z,Q){l.list().forEach(re=>A(()=>re(k,Z,Q)))}function C(k,Z,Q,re,ge){const _=q(k,Z);if(_)return _;const T=Z===Nn,R=Pr?history.state:{};Q&&(re||T?s.replace(k.fullPath,Re({scroll:T&&R&&R.scroll},ge)):s.push(k.fullPath,ge)),c.value=k,Pt(k,Z,Q,T),Qt()}let v;function He(){v||(v=s.listen((k,Z,Q)=>{if(!jt.listening)return;const re=L(k),ge=Ee(re,jt.currentRoute.value);if(ge){I(Re(ge,{replace:!0,force:!0}),re).catch(Ns);return}h=re;const _=c.value;Pr&&Ry(Vu(_.fullPath,Q.delta),Io()),b(re,_).catch(T=>dn(T,je.NAVIGATION_ABORTED|je.NAVIGATION_CANCELLED)?T:dn(T,je.NAVIGATION_GUARD_REDIRECT)?(I(Re(B(T.to),{force:!0}),re).then(R=>{dn(R,je.NAVIGATION_ABORTED|je.NAVIGATION_DUPLICATED)&&!Q.delta&&Q.type===Ma.pop&&s.go(-1,!1)}).catch(Ns),Promise.reject()):(Q.delta&&s.go(-Q.delta,!1),ve(T,re,_))).then(T=>{T=T||C(re,_,!1),T&&(Q.delta&&!dn(T,je.NAVIGATION_CANCELLED)?s.go(-Q.delta,!1):Q.type===Ma.pop&&dn(T,je.NAVIGATION_ABORTED|je.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),w(re,_,T)}).catch(Ns)}))}let wt=Es(),qe=Es(),be;function ve(k,Z,Q){Qt(k);const re=qe.list();return re.length?re.forEach(ge=>ge(k,Z,Q)):console.error(k),Promise.reject(k)}function bt(){return be&&c.value!==Nn?Promise.resolve():new Promise((k,Z)=>{wt.add([k,Z])})}function Qt(k){return be||(be=!k,He(),wt.list().forEach(([Z,Q])=>k?Q(k):Z()),wt.reset()),k}function Pt(k,Z,Q,re){const{scrollBehavior:ge}=t;if(!Pr||!ge)return Promise.resolve();const _=!Q&&Sy(Vu(k.fullPath,0))||(re||!Q)&&history.state&&history.state.scroll||null;return Rf().then(()=>ge(k,Z,_)).then(T=>T&&by(T)).catch(T=>ve(T,k,Z))}const st=k=>s.go(k);let hn;const Ut=new Set,jt={currentRoute:c,listening:!0,addRoute:E,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:V,resolve:L,options:t,push:K,replace:pe,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:qe.add,isReady:bt,install(k){k.component("RouterLink",tE),k.component("RouterView",iE),k.config.globalProperties.$router=jt,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>Nt(c)}),Pr&&!hn&&c.value===Nn&&(hn=!0,K(s.location).catch(re=>{}));const Z={};for(const re in Nn)Object.defineProperty(Z,re,{get:()=>c.value[re],enumerable:!0});k.provide(Vl,jt),k.provide(md,Af(Z)),k.provide(Fa,c);const Q=k.unmount;Ut.add(k),k.unmount=function(){Ut.delete(k),Ut.size<1&&(h=Nn,v&&v(),v=null,c.value=Nn,hn=!1,be=!1),Q()}}};function ut(k){return k.reduce((Z,Q)=>Z.then(()=>A(Q)),Promise.resolve())}return jt}const aE={class:"nav-wrap"},lE={class:"nav-scroll"},cE=["onClick"],uE={class:"nav-icon"},hE={class:"nav-label"},fE={__name:"Nav",props:{categories:Array,activeCategory:String},emits:["navigate"],setup(t){return(e,n)=>(z(),X("nav",aE,[J("div",lE,[(z(!0),X(we,null,rt(t.categories,r=>(z(),X("button",{key:r.id,class:ri(["nav-btn",{active:t.activeCategory===r.id}]),onClick:s=>e.$emit("navigate",r.id)},[J("span",uE,ne(r.icon),1),J("span",hE,ne(r.label),1)],10,cE))),128))])]))}},dE=Xn(fE,[["__scopeId","data-v-12592120"]]),pE={__name:"BadgePill",props:{badge:String,badgeLabel:String},setup(t){const e=t,n={popular:{class:"badge-pop",label:" Popular"},new:{class:"badge-new",label:" New"},vegan:{class:"badge-veg",label:" Vegan"},happyhour:{class:"badge-happy",label:""},default:{class:"badge-def",label:""}},r=Ge(()=>(n[e.badge]??n.default).class),s=Ge(()=>e.badge==="happyhour"?e.badgeLabel:(n[e.badge]??n.default).label||e.badgeLabel||"");return(i,a)=>(z(),X("span",{class:ri(["badge",r.value])},ne(s.value),3))}},wo=Xn(pE,[["__scopeId","data-v-01d342f1"]]),mE={class:"card featured-card"},gE={class:"card-thumb"},_E=["src"],yE={key:1,class:"thumb-icon"},EE={key:2,class:"featured-tag"},vE={class:"card-body"},TE={class:"item-name"},AE={key:0,class:"item-desc"},IE={class:"card-bottom"},wE={key:1,class:"item-price"},bE={key:0,class:"original-price"},RE={class:"featured-price"},SE={key:2,class:"item-sizes"},CE={class:"size-label"},PE={class:"size-prices"},VE={key:0,class:"original-price"},DE={class:"size-price"},xE={key:1,class:"item-options"},NE={class:"options-tags"},OE={class:"extra-price"},kE={__name:"FeaturedCard",props:{item:Object},setup(t){return(e,n)=>(z(),X("div",mE,[J("div",gE,[t.item.img?(z(),X("img",{key:0,src:"./src/assets/img/"+t.item.img,alt:"",class:"thumb-img"},null,8,_E)):(z(),X("span",yE,ne(t.item.icon),1)),t.item.featuredTag?(z(),X("div",EE,ne(t.item.featuredTag),1)):Me("",!0)]),J("div",vE,[J("div",TE,ne(t.item.name),1),t.item.desc?(z(),X("div",AE,ne(t.item.desc),1)):Me("",!0),J("div",IE,[t.item.badge?(z(),kt(wo,{key:0,badge:t.item.badge,badgeLabel:t.item.badgeLabel},null,8,["badge","badgeLabel"])):Me("",!0),n[0]||(n[0]=J("div",{class:"spacer"},null,-1)),t.item.price?(z(),X("div",wE,[t.item.originalPrice?(z(),X("span",bE,ne(t.item.originalPrice),1)):Me("",!0),J("span",RE,ne(t.item.price),1)])):Me("",!0),t.item.sizes?(z(),X("div",SE,[(z(!0),X(we,null,rt(t.item.sizes,r=>(z(),X("span",{key:r.label,class:"item-size item-price"},[J("span",CE,ne(r.label),1),J("div",PE,[r.originalPrice?(z(),X("span",VE,ne(r.originalPrice),1)):Me("",!0),J("span",DE,ne(r.price),1)])]))),128))])):Me("",!0)]),t.item.flavors||t.item.extras?(z(),X("div",xE,[n[1]||(n[1]=J("span",{class:"options-label"},"Options:",-1)),J("div",NE,[(z(!0),X(we,null,rt(t.item.flavors,r=>(z(),X("span",{key:r,class:"option-tag"},ne(r),1))),128)),(z(!0),X(we,null,rt(t.item.extras,r=>(z(),X("span",{key:r.name,class:"option-tag"},[pr(ne(r.name)+" ",1),J("span",OE,ne(r.price),1)]))),128))])])):Me("",!0)])]))}},Ba=Xn(kE,[["__scopeId","data-v-ad5dbe1d"]]),ME={key:1,class:"card"},LE={class:"card-thumb"},FE={class:"card-body"},BE={class:"card-name"},UE={key:0,class:"card-desc"},jE={class:"card-foot"},$E={class:"price"},HE={__name:"FoodCard",props:{item:Object,featured:{type:Boolean,default:!1}},setup(t){return(e,n)=>t.featured?(z(),kt(Ba,{key:0,item:t.item},null,8,["item"])):(z(),X("div",ME,[J("div",LE,ne(t.item.icon),1),J("div",FE,[J("div",BE,ne(t.item.name),1),t.item.desc?(z(),X("div",UE,ne(t.item.desc),1)):Me("",!0),J("div",jE,[t.item.badge?(z(),kt(wo,{key:0,badge:t.item.badge,badgeLabel:t.item.badgeLabel},null,8,["badge","badgeLabel"])):Me("",!0),J("span",$E,ne(t.item.price),1)])])]))}},Hu=Xn(HE,[["__scopeId","data-v-73777091"]]),pn={icon:"",name:"UZO Bar & Kitchen",tagline:"Fresh, seasonal, made with love",hours:{0:{open:"14:00",close:"22:00",label:"Sun"},1:{open:"12:00",close:"22:00",label:"Mon"},2:null,3:{open:"12:00",close:"22:00",label:"Wed"},4:{open:"12:00",close:"23:00",label:"Thu"},5:{open:"12:00",close:"24:00",label:"Fri"},6:{open:"12:00",close:"24:00",label:"Sat"}},happyHour:{start:["00:00","20:00"],end:["01:00","21:59"],discount:"40%"}},Qi=[{id:"happyhour",label:"Happy Hour Deals",icon:"",style:"card",happyHourOnly:!0,featured:[{img:"heineken.png",badge:"popular",name:"Heineken | 5%",desc:"The most refreshing pilsener.",happyHour:!0,featuredTag:"ON TAP",sizes:[{label:"25cl",price:"4.00"},{label:"50cl",price:"8.00"}]},{img:"oedipus.png",name:"Oedipus Mannenliefde | 6%",desc:"Modern blond beer brewed with saison yeast and lemongrass. From Amsterdam ",happyHour:!0,featuredTag:"ON TAP",sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"heineken.png",happyHour:!0,name:"Heineken 0.0%",desc:"300ml",price:"4.00"}],items:[]},{id:"hot-drinks",label:"Hot Beverages",icon:"",layout:"compact",items:[{icon:"",name:"Tea",price:"3.00",flavors:["Earl Grey","Lemon Green"]},{icon:"",name:"Fresh Mint Tea",desc:"served with honey",price:"3.80"},{icon:"",name:"Coffee",price:"3.50"},{icon:"",name:"Espresso",sizes:[{label:"Single",price:"3.50"},{label:"Double",price:"5.00"}]},{icon:"",name:"Cappuccino",desc:"regular milk",price:"4.50"},{icon:"",name:"Latte",desc:"regular milk",price:"4.50"},{icon:"",name:"Latte Macchiato",desc:"regular milk",price:"4.80"},{icon:"",name:"Hot Chocolate",price:"4.50",extras:[{name:"Whipped Cream",price:"+0.50"}]},{icon:"",name:"Irish Coffee",desc:"jameson, whipped cream",price:"9.70"}]},{id:"soft",label:"Soft Drinks",icon:"",layout:"compact",items:[{img:"cola.png",name:"Coca Cola",price:"3.60"},{img:"cola-zero.png",name:"Coca Cola Zero",price:"3.60"},{img:"fanta.png",name:"Fanta Orange",price:"3.60"},{img:"sprite.png",name:"Sprite",price:"3.60"},{img:"lipton.png",name:"Lipton Ice Tea",price:"3.60",flavors:["Peach","Sparkling","Green"]},{img:"royal-club.png",name:"Tonic Water ",price:"3.60"},{img:"royal-club.png",name:"Ginger Ale",price:"3.60"},{img:"royal-club.png",name:"Ginger Beer",price:"3.60"},{img:"royal-club.png",name:"Pink Grapefruit Zero",price:"3.60"},{img:"chocomel.png",name:"Chocomel",price:"3.60"},{img:"redbull.png",name:"Redbull",price:"4.50"},{img:"juice.png",name:"Juice",price:"3.60",flavors:["Apple","Orange"]},{img:"spa.png",name:"Water 50cl",price:"3.30",flavors:["Still","Sparkling"]}]},{id:"draught",label:"Draught Beer",icon:"",items:[{img:"heineken.png",badge:"popular",name:"Heineken | 5%",desc:"The most refreshing pilsener.",happyHour:!0,sizes:[{label:"25cl",price:"4.00"},{label:"50cl",price:"8.00"}]},{img:"moretti.png",badge:"popular",name:"Birra Moretti | 4.6%",desc:"Authentic subtle and fresh beer with a delicate flavour.",sizes:[{label:"25cl",price:"4.00"},{label:"50cl",price:"8.00"}]},{img:"leffe.png",name:"Leffe Blond | 6.7%",desc:"Blonde, malty-sweet flavour balanced with fruity, slightly bitter finish.",sizes:[{label:"25cl",price:"6.00"},{label:"50cl",price:"11.00"}]},{img:"guinness.png",badge:"popular",name:"Guinness | 4.3%",desc:"Stout, toasted flavour, bitter finish.",sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"oedipus.png",name:"Oedipus Mannenliefde | 6%",desc:"Modern blond beer brewed with saison yeast and lemongrass. From Amsterdam ",happyHour:!0,sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"oedipus.png",name:"Oedipus Bride | 5%",desc:"A relatively dry witbier from Amsterdam with hoppy citrus notes and fresh orange peel. Refreshing with just enough spice from green pepper.",sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"texel.png",badge:"popular",name:"Texels Skuumkoppe | 6%",desc:"A character dark wheat beer that tastes in every season. Full of flavour with hints of caramel and apricot and has a creamy, slightly sweet finish.",sizes:[{label:"25cl",price:"5.50"},{label:"50cl",price:"10.00"}]},{img:"ipa.png",name:"Lagunitas IPA | 6.2%",desc:"Beautifully balanced citrus tones, slightly sweet and combined with a fresh-bitter, soft aftertaste.",sizes:[{label:"25cl",price:"6.00"},{label:"50cl",price:"11.00"}]}]},{id:"bottled",label:"Bottled Beers",icon:"",items:[{img:"corona.png",badge:"popular",name:"Corona | 4.5%",desc:"Mexican lager, served with lime.  330ml",price:"5.50"},{img:"desperados.png",name:"Desperados | 5.9%",desc:"Tequilaflavoured lager with a sweet, citrusleaning taste that feels more like a party drink than a classic beer.  330ml",price:"5.50"},{img:"chouffe.png",name:"La Chouffe | 8%",desc:"A lively Belgian blonde beer with fruity esters, a touch of coriander spice, and a smooth, slightly hoppy finish.   330ml",price:"6.90"},{img:"duvel.png",name:"Duvel | 8.5%",desc:"A strong golden ale thats crisp, highly carbonated, and full of subtle fruit and spice, finishing dry and dangerously easy to drink.   330ml",price:"6.90"},{img:"affligem.png",name:"Affligem Blond | 6.7%",desc:"A balanced golden ale with soft malt sweetness, light fruitiness, and a smooth, mildly bitter finish.   300ml",price:"6.00"},{img:"affligem.png",name:"Affligem Double | 6.7%",desc:"A deeper, darker ale featuring caramel malts, hints of dried fruit, and a warm, rounded body.  300ml",price:"6.20"},{img:"affligem.png",name:"Affligem Triple | 9%",desc:"A stronger, aromatic golden ale with spicy yeast character, honeylike malt, and a dry, warming finish.  300ml",price:"7.00"}]},{id:"bottled-zero",label:"0.0% Beers",icon:"",items:[{img:"heineken.png",happyHour:!0,name:"Heineken 0.0%",desc:"300ml",price:"4.00"},{img:"rose.png",badge:"",name:"Amstel Ros 0.0%",desc:"300ml",price:"4.50"},{img:"texel.png",badge:"",name:"Texel Skuumkoppe 0.0%",desc:"300ml",price:"5.00"},{img:"leffe.png",badge:"popular",name:"Leffe Blond 0.0%",desc:"330ml",price:"4.50"},{img:"corona.png",badge:"",name:"Corona 0.0%",desc:"330ml",price:"4.50"}]},{id:"cider",label:"Fruity & Cider",icon:"",items:[{img:"amstel.png",badge:"",name:"Amstel Radler | 2%",desc:"Lemon flavour  300ml",price:"4.80"},{img:"rose.png",badge:"",name:"Amstel Ros | 4%",desc:"300ml",price:"5.00"},{img:"kriek.png",badge:"popular",name:"Lindeman's Kriek | 3.5%",desc:"250ml",price:"5.00"},{img:"kwak.png",badge:"",name:"Kwak Rouge | 8%",desc:"Cherry flavour  330ml",price:"6.50"},{img:"sb.png",badge:"popular",name:"Somersby Cider Apple | 4.5%",desc:"300ml",price:"6.00"},{img:"sb.png",badge:"",name:"Somersby Cider Blackberry | 4.5%",desc:"300ml",price:"6.00"},{img:"magners.png",badge:"",name:"Magners Cider Pint | 4.5%",desc:"570ml",price:"10.00"}]},{id:"cocktails",label:"Cocktails",icon:"",items:[{icon:"",name:"Aperol Spritz",desc:"Aperol, prosecco, soda, orange slice",price:"11.00",badge:"popular"},{icon:"",name:"Limoncello Spritz",desc:"Limoncello, prosecco, soda, lemon",price:"11.00",badge:""},{icon:"",name:"Elderflower Spritz",desc:"Elderflower, prosecco, soda, lime, mint",price:"11.00",badge:""},{icon:"",name:"Espresso Martini",desc:"Espresso, vodka, coffee liquor, caramel",price:"11.00",badge:"popular"},{icon:"",name:"House Mojito",desc:"Fresh mint, lime, rum, soda, sugar",price:"10.50",badge:"popular"},{icon:"",name:"Pink Lady",desc:"Pink gin, pink grapefruit soda, summer berries",price:"10.50",badge:"new"},{icon:"",name:"Whiskey Sour",desc:"Whiskey, lemon, egg white, sugar",price:"12.00"}]},{id:"snacks",label:"Bar Snacks",icon:"",layout:"compact",items:[{icon:"",name:"Nuts Mix (Salted)",price:"6.00"},{img:"naturel.png",name:"Lays Naturel",price:"2.00"},{img:"bolognese.png",name:"Lays Bolognese",price:"2.00"},{img:"doritos.png",name:"Doritos Nacho Cheese",price:"2.00"}]}],pa=[{id:"breakfast",label:"Breakfast",icon:"",featured:{icon:"",name:"Avocado Smash Toast",desc:"Sourdough, smashed avo, poached egg, chilli flakes, microgreens",price:"14.50",badge:"popular",featuredTag:" Chef's Pick"},items:[{icon:"",name:"Fluffy Pancakes",desc:"Stack of 3, maple syrup, seasonal berries, whipped cream",price:"11.00",badge:"default",badgeLabel:" Veggie"},{icon:"",name:"Eggs Benedict",desc:"Poached eggs, smoked salmon, hollandaise, English muffin",price:"13.50",badge:"popular"}]},{id:"lunch",label:"Lunch",icon:"",featured:null,items:[{icon:"",name:"Seasonal Grain Bowl",desc:"Quinoa, roasted veg, feta, tahini drizzle, mixed seeds",price:"13.00",badge:"vegan"},{icon:"",name:"Club Sandwich",desc:"Toasted triple decker, chicken, bacon, lettuce, tomato, fries",price:"14.00",badge:"popular"},{icon:"",name:"Tomato Bisque Soup",desc:"Roasted tomato, basil oil, crusty sourdough on the side",price:"8.50",badge:"new"}]}],qE={class:"card regular-card"},zE={class:"card-thumb"},GE=["src"],KE={class:"card-body"},WE={class:"item-name"},QE={key:0,class:"item-desc"},JE={class:"card-foot"},YE={key:1,class:"item-price"},XE={key:2,class:"item-sizes"},ZE={class:"size-label"},ev={class:"size-prices"},tv={key:0,class:"original-price"},nv={class:"size-price"},rv={__name:"RegularCard",props:{item:Object},setup(t){return(e,n)=>(z(),X("div",qE,[J("div",zE,[t.item.img?(z(),X("img",{key:0,src:"./src/assets/img/"+t.item.img,alt:""},null,8,GE)):(z(),X(we,{key:1},[pr(ne(t.item.icon),1)],64))]),J("div",KE,[J("div",WE,ne(t.item.name),1),t.item.desc?(z(),X("div",QE,ne(t.item.desc),1)):Me("",!0),J("div",JE,[t.item.badge?(z(),kt(wo,{key:0,badge:t.item.badge,badgeLabel:t.item.badgeLabel},null,8,["badge","badgeLabel"])):Me("",!0),t.item.price?(z(),X("span",YE,ne(t.item.price),1)):Me("",!0),t.item.sizes?(z(),X("div",XE,[(z(!0),X(we,null,rt(t.item.sizes,r=>(z(),X("span",{key:r.label,class:"item-size item-price"},[J("span",ZE,ne(r.label),1),J("div",ev,[r.originalPrice?(z(),X("span",tv,ne(r.originalPrice),1)):Me("",!0),J("span",nv,ne(r.price),1)])]))),128))])):Me("",!0)])])]))}},sv=Xn(rv,[["__scopeId","data-v-ff80ca62"]]),iv={class:"card compact-card"},ov={class:"card-thumb"},av=["src"],lv={class:"card-body"},cv={key:0,class:"card-header"},uv={class:"item-name"},hv={class:"item-info"},fv={key:0,class:"item-desc"},dv={key:1,class:"item-options"},pv={class:"options-tags"},mv={class:"extra-price"},gv={key:2,class:"item-price"},_v={key:3,class:"item-sizes"},yv={class:"size-label"},Ev={class:"size-price"},vv={__name:"CompactCard",props:{item:Object},setup(t){return(e,n)=>(z(),X("div",iv,[J("div",ov,[t.item.img?(z(),X("img",{key:0,src:"./src/assets/img/"+t.item.img,alt:""},null,8,av)):(z(),X(we,{key:1},[pr(ne(t.item.icon),1)],64))]),J("div",lv,[t.item.badge?(z(),X("div",cv,[It(wo,{badge:t.item.badge,badgeLabel:t.item.badgeLabel},null,8,["badge","badgeLabel"])])):Me("",!0),J("div",uv,ne(t.item.name),1),J("div",hv,[t.item.desc?(z(),X("div",fv,ne(t.item.desc),1)):Me("",!0),t.item.flavors||t.item.extras?(z(),X("div",dv,[n[0]||(n[0]=J("span",{class:"options-label"},"Options:",-1)),J("div",pv,[(z(!0),X(we,null,rt(t.item.flavors,r=>(z(),X("span",{key:r,class:"option-tag"},ne(r),1))),128)),(z(!0),X(we,null,rt(t.item.extras,r=>(z(),X("span",{key:r.name,class:"option-tag"},[pr(ne(r.name)+" ",1),J("span",mv,ne(r.price),1)]))),128))])])):Me("",!0),n[1]||(n[1]=J("div",{class:"spacer"},null,-1)),t.item.price?(z(),X("span",gv,ne(t.item.price),1)):Me("",!0),t.item.sizes?(z(),X("div",_v,[(z(!0),X(we,null,rt(t.item.sizes,r=>(z(),X("span",{key:r.label,class:"item-size item-price"},[J("span",yv,ne(r.label),1),J("span",Ev,ne(r.price),1)]))),128))])):Me("",!0)])])]))}},Tv=Xn(vv,[["__scopeId","data-v-98b020a9"]]),Av=()=>{};var qu={};const Ed=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Iv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},vd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|h>>6,E=h&63;c||(E=64,a||(m=64)),r.push(n[f],n[p],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ed(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Iv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||p==null)throw new wv;const m=i<<2|l>>4;if(r.push(m),h!==64){const E=l<<4&240|h>>2;if(r.push(E),p!==64){const S=h<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bv=function(t){const e=Ed(t);return vd.encodeByteArray(e,!0)},Ji=function(t){return bv(t).replace(/\./g,"")},Rv=function(t){try{return vd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Cv=()=>Sv().__FIREBASE_DEFAULTS__,Pv=()=>{if(typeof process>"u"||typeof qu>"u")return;const t=qu.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Vv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rv(t[1]);return e&&JSON.parse(e)},Dl=()=>{try{return Av()||Cv()||Pv()||Vv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dv=t=>Dl()?.emulatorHosts?.[t],xv=t=>{const e=Dv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Td=()=>Dl()?.config;class Nv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function xl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ov(t){return(await fetch(t,{credentials:"include"})).ok}function kv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ji(JSON.stringify(n)),Ji(JSON.stringify(a)),""].join(".")}const Os={};function Mv(){const t={prod:[],emulator:[]};for(const e of Object.keys(Os))Os[e]?t.emulator.push(e):t.prod.push(e);return t}function Lv(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zu=!1;function Fv(t,e){if(typeof window>"u"||typeof document>"u"||!xl(window.location.host)||Os[t]===e||Os[t]||zu)return;Os[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Mv().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,E){m.setAttribute("width","24"),m.setAttribute("id",E),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{zu=!0,a()},m}function f(m,E){m.setAttribute("id",E),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Lv(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),V=n("learnmore"),D=document.getElementById(V)||document.createElement("a"),L=n("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const q=m.element;l(q),f(D,V);const K=h();c(B,L),q.append(B,S,D,K),document.body.appendChild(q)}i?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Bv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uv(){const t=Dl()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jv(){return!Uv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $v(){try{return typeof indexedDB=="object"}catch{return!1}}function Hv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const qv="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qv,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?zv(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Yr(s,l,r)}}function zv(t,e){return t.replace(Gv,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Gv=/\{\$([^}]+)}/g;function Yi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Gu(i)&&Gu(a)){if(!Yi(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Gu(t){return t!==null&&typeof t=="object"}function zs(t){return t&&t._delegate?t._delegate:t}class Gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ar="[DEFAULT]";class Kv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qv(e))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ar){return this.instances.has(e)}getOptions(e=ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ar){return this.component?this.component.multipleInstances?e:ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wv(t){return t===ar?void 0:t}function Qv(t){return t.instantiationMode==="EAGER"}class Jv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const Yv={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Xv=Ae.INFO,Zv={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},eT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Zv[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Id{constructor(e){this.name=e,this._logLevel=Xv,this._logHandler=eT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const tT=(t,e)=>e.some(n=>t instanceof n);let Ku,Wu;function nT(){return Ku||(Ku=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rT(){return Wu||(Wu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wd=new WeakMap,Ua=new WeakMap,bd=new WeakMap,ma=new WeakMap,Nl=new WeakMap;function sT(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Un(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&wd.set(n,t)}).catch(()=>{}),Nl.set(e,t),e}function iT(t){if(Ua.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Ua.set(t,e)}let ja={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ua.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oT(t){ja=t(ja)}function aT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ga(this),e,...n);return bd.set(r,e.sort?e.sort():[e]),Un(r)}:rT().includes(t)?function(...e){return t.apply(ga(this),e),Un(wd.get(this))}:function(...e){return Un(t.apply(ga(this),e))}}function lT(t){return typeof t=="function"?aT(t):(t instanceof IDBTransaction&&iT(t),tT(t,nT())?new Proxy(t,ja):t)}function Un(t){if(t instanceof IDBRequest)return sT(t);if(ma.has(t))return ma.get(t);const e=lT(t);return e!==t&&(ma.set(t,e),Nl.set(e,t)),e}const ga=t=>Nl.get(t);function cT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Un(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Un(a.result),c.oldVersion,c.newVersion,Un(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const uT=["get","getKey","getAll","getAllKeys","count"],hT=["put","add","delete","clear"],_a=new Map;function Qu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_a.get(e))return _a.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=hT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uT.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return _a.set(e,i),i}oT(t=>({...t,get:(e,n,r)=>Qu(e,n)||t.get(e,n,r),has:(e,n)=>!!Qu(e,n)||t.has(e,n)}));class fT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dT(t){return t.getComponent()?.type==="VERSION"}const $a="@firebase/app",Ju="0.14.8";const In=new Id("@firebase/app"),pT="@firebase/app-compat",mT="@firebase/analytics-compat",gT="@firebase/analytics",_T="@firebase/app-check-compat",yT="@firebase/app-check",ET="@firebase/auth",vT="@firebase/auth-compat",TT="@firebase/database",AT="@firebase/data-connect",IT="@firebase/database-compat",wT="@firebase/functions",bT="@firebase/functions-compat",RT="@firebase/installations",ST="@firebase/installations-compat",CT="@firebase/messaging",PT="@firebase/messaging-compat",VT="@firebase/performance",DT="@firebase/performance-compat",xT="@firebase/remote-config",NT="@firebase/remote-config-compat",OT="@firebase/storage",kT="@firebase/storage-compat",MT="@firebase/firestore",LT="@firebase/ai",FT="@firebase/firestore-compat",BT="firebase",UT="12.9.0";const Ha="[DEFAULT]",jT={[$a]:"fire-core",[pT]:"fire-core-compat",[gT]:"fire-analytics",[mT]:"fire-analytics-compat",[yT]:"fire-app-check",[_T]:"fire-app-check-compat",[ET]:"fire-auth",[vT]:"fire-auth-compat",[TT]:"fire-rtdb",[AT]:"fire-data-connect",[IT]:"fire-rtdb-compat",[wT]:"fire-fn",[bT]:"fire-fn-compat",[RT]:"fire-iid",[ST]:"fire-iid-compat",[CT]:"fire-fcm",[PT]:"fire-fcm-compat",[VT]:"fire-perf",[DT]:"fire-perf-compat",[xT]:"fire-rc",[NT]:"fire-rc-compat",[OT]:"fire-gcs",[kT]:"fire-gcs-compat",[MT]:"fire-fst",[FT]:"fire-fst-compat",[LT]:"fire-vertex","fire-js":"fire-js",[BT]:"fire-js-all"};const Xi=new Map,$T=new Map,qa=new Map;function Yu(t,e){try{t.container.addComponent(e)}catch(n){In.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zi(t){const e=t.name;if(qa.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;qa.set(e,t);for(const n of Xi.values())Yu(n,t);for(const n of $T.values())Yu(n,t);return!0}function HT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qT(t){return t==null?!1:t.settings!==void 0}const zT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new Ad("app","Firebase",zT);class GT{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const KT=UT;function Rd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ha,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw jn.create("bad-app-name",{appName:String(s)});if(n||(n=Td()),!n)throw jn.create("no-options");const i=Xi.get(s);if(i){if(Yi(n,i.options)&&Yi(r,i.config))return i;throw jn.create("duplicate-app",{appName:s})}const a=new Jv(s);for(const c of qa.values())a.addComponent(c);const l=new GT(n,r,a);return Xi.set(s,l),l}function WT(t=Ha){const e=Xi.get(t);if(!e&&t===Ha&&Td())return Rd();if(!e)throw jn.create("no-app",{appName:t});return e}function Fr(t,e,n){let r=jT[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(a.join(" "));return}Zi(new Gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const QT="firebase-heartbeat-database",JT=1,Ks="firebase-heartbeat-store";let ya=null;function Sd(){return ya||(ya=cT(QT,JT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ks)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),ya}async function YT(t){try{const n=(await Sd()).transaction(Ks),r=await n.objectStore(Ks).get(Cd(t));return await n.done,r}catch(e){if(e instanceof Yr)In.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e?.message});In.warn(n.message)}}}async function Xu(t,e){try{const r=(await Sd()).transaction(Ks,"readwrite");await r.objectStore(Ks).put(e,Cd(t)),await r.done}catch(n){if(n instanceof Yr)In.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n?.message});In.warn(r.message)}}}function Cd(t){return`${t.name}!${t.options.appId}`}const XT=1024,ZT=30;class eA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Zu();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ZT){const s=rA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){In.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Zu(),{heartbeatsToSend:n,unsentEntries:r}=tA(this._heartbeatsCache.heartbeats),s=Ji(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return In.warn(e),""}}}function Zu(){return new Date().toISOString().substring(0,10)}function tA(t,e=XT){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),eh(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),eh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $v()?Hv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YT(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xu(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xu(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eh(t){return Ji(JSON.stringify({version:2,heartbeats:t})).length}function rA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function sA(t){Zi(new Gs("platform-logger",e=>new fT(e),"PRIVATE")),Zi(new Gs("heartbeat",e=>new eA(e),"PRIVATE")),Fr($a,Ju,t),Fr($a,Ju,"esm2020"),Fr("fire-js","")}sA("");var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $n,Pd;(function(){var t;function e(I,y){function A(){}A.prototype=y.prototype,I.F=y.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(b,w,C){for(var v=Array(arguments.length-2),He=2;He<arguments.length;He++)v[He-2]=arguments[He];return y.prototype[w].apply(b,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,y,A){A||(A=0);const b=Array(16);if(typeof y=="string")for(var w=0;w<16;++w)b[w]=y.charCodeAt(A++)|y.charCodeAt(A++)<<8|y.charCodeAt(A++)<<16|y.charCodeAt(A++)<<24;else for(w=0;w<16;++w)b[w]=y[A++]|y[A++]<<8|y[A++]<<16|y[A++]<<24;y=I.g[0],A=I.g[1],w=I.g[2];let C=I.g[3],v;v=y+(C^A&(w^C))+b[0]+3614090360&4294967295,y=A+(v<<7&4294967295|v>>>25),v=C+(w^y&(A^w))+b[1]+3905402710&4294967295,C=y+(v<<12&4294967295|v>>>20),v=w+(A^C&(y^A))+b[2]+606105819&4294967295,w=C+(v<<17&4294967295|v>>>15),v=A+(y^w&(C^y))+b[3]+3250441966&4294967295,A=w+(v<<22&4294967295|v>>>10),v=y+(C^A&(w^C))+b[4]+4118548399&4294967295,y=A+(v<<7&4294967295|v>>>25),v=C+(w^y&(A^w))+b[5]+1200080426&4294967295,C=y+(v<<12&4294967295|v>>>20),v=w+(A^C&(y^A))+b[6]+2821735955&4294967295,w=C+(v<<17&4294967295|v>>>15),v=A+(y^w&(C^y))+b[7]+4249261313&4294967295,A=w+(v<<22&4294967295|v>>>10),v=y+(C^A&(w^C))+b[8]+1770035416&4294967295,y=A+(v<<7&4294967295|v>>>25),v=C+(w^y&(A^w))+b[9]+2336552879&4294967295,C=y+(v<<12&4294967295|v>>>20),v=w+(A^C&(y^A))+b[10]+4294925233&4294967295,w=C+(v<<17&4294967295|v>>>15),v=A+(y^w&(C^y))+b[11]+2304563134&4294967295,A=w+(v<<22&4294967295|v>>>10),v=y+(C^A&(w^C))+b[12]+1804603682&4294967295,y=A+(v<<7&4294967295|v>>>25),v=C+(w^y&(A^w))+b[13]+4254626195&4294967295,C=y+(v<<12&4294967295|v>>>20),v=w+(A^C&(y^A))+b[14]+2792965006&4294967295,w=C+(v<<17&4294967295|v>>>15),v=A+(y^w&(C^y))+b[15]+1236535329&4294967295,A=w+(v<<22&4294967295|v>>>10),v=y+(w^C&(A^w))+b[1]+4129170786&4294967295,y=A+(v<<5&4294967295|v>>>27),v=C+(A^w&(y^A))+b[6]+3225465664&4294967295,C=y+(v<<9&4294967295|v>>>23),v=w+(y^A&(C^y))+b[11]+643717713&4294967295,w=C+(v<<14&4294967295|v>>>18),v=A+(C^y&(w^C))+b[0]+3921069994&4294967295,A=w+(v<<20&4294967295|v>>>12),v=y+(w^C&(A^w))+b[5]+3593408605&4294967295,y=A+(v<<5&4294967295|v>>>27),v=C+(A^w&(y^A))+b[10]+38016083&4294967295,C=y+(v<<9&4294967295|v>>>23),v=w+(y^A&(C^y))+b[15]+3634488961&4294967295,w=C+(v<<14&4294967295|v>>>18),v=A+(C^y&(w^C))+b[4]+3889429448&4294967295,A=w+(v<<20&4294967295|v>>>12),v=y+(w^C&(A^w))+b[9]+568446438&4294967295,y=A+(v<<5&4294967295|v>>>27),v=C+(A^w&(y^A))+b[14]+3275163606&4294967295,C=y+(v<<9&4294967295|v>>>23),v=w+(y^A&(C^y))+b[3]+4107603335&4294967295,w=C+(v<<14&4294967295|v>>>18),v=A+(C^y&(w^C))+b[8]+1163531501&4294967295,A=w+(v<<20&4294967295|v>>>12),v=y+(w^C&(A^w))+b[13]+2850285829&4294967295,y=A+(v<<5&4294967295|v>>>27),v=C+(A^w&(y^A))+b[2]+4243563512&4294967295,C=y+(v<<9&4294967295|v>>>23),v=w+(y^A&(C^y))+b[7]+1735328473&4294967295,w=C+(v<<14&4294967295|v>>>18),v=A+(C^y&(w^C))+b[12]+2368359562&4294967295,A=w+(v<<20&4294967295|v>>>12),v=y+(A^w^C)+b[5]+4294588738&4294967295,y=A+(v<<4&4294967295|v>>>28),v=C+(y^A^w)+b[8]+2272392833&4294967295,C=y+(v<<11&4294967295|v>>>21),v=w+(C^y^A)+b[11]+1839030562&4294967295,w=C+(v<<16&4294967295|v>>>16),v=A+(w^C^y)+b[14]+4259657740&4294967295,A=w+(v<<23&4294967295|v>>>9),v=y+(A^w^C)+b[1]+2763975236&4294967295,y=A+(v<<4&4294967295|v>>>28),v=C+(y^A^w)+b[4]+1272893353&4294967295,C=y+(v<<11&4294967295|v>>>21),v=w+(C^y^A)+b[7]+4139469664&4294967295,w=C+(v<<16&4294967295|v>>>16),v=A+(w^C^y)+b[10]+3200236656&4294967295,A=w+(v<<23&4294967295|v>>>9),v=y+(A^w^C)+b[13]+681279174&4294967295,y=A+(v<<4&4294967295|v>>>28),v=C+(y^A^w)+b[0]+3936430074&4294967295,C=y+(v<<11&4294967295|v>>>21),v=w+(C^y^A)+b[3]+3572445317&4294967295,w=C+(v<<16&4294967295|v>>>16),v=A+(w^C^y)+b[6]+76029189&4294967295,A=w+(v<<23&4294967295|v>>>9),v=y+(A^w^C)+b[9]+3654602809&4294967295,y=A+(v<<4&4294967295|v>>>28),v=C+(y^A^w)+b[12]+3873151461&4294967295,C=y+(v<<11&4294967295|v>>>21),v=w+(C^y^A)+b[15]+530742520&4294967295,w=C+(v<<16&4294967295|v>>>16),v=A+(w^C^y)+b[2]+3299628645&4294967295,A=w+(v<<23&4294967295|v>>>9),v=y+(w^(A|~C))+b[0]+4096336452&4294967295,y=A+(v<<6&4294967295|v>>>26),v=C+(A^(y|~w))+b[7]+1126891415&4294967295,C=y+(v<<10&4294967295|v>>>22),v=w+(y^(C|~A))+b[14]+2878612391&4294967295,w=C+(v<<15&4294967295|v>>>17),v=A+(C^(w|~y))+b[5]+4237533241&4294967295,A=w+(v<<21&4294967295|v>>>11),v=y+(w^(A|~C))+b[12]+1700485571&4294967295,y=A+(v<<6&4294967295|v>>>26),v=C+(A^(y|~w))+b[3]+2399980690&4294967295,C=y+(v<<10&4294967295|v>>>22),v=w+(y^(C|~A))+b[10]+4293915773&4294967295,w=C+(v<<15&4294967295|v>>>17),v=A+(C^(w|~y))+b[1]+2240044497&4294967295,A=w+(v<<21&4294967295|v>>>11),v=y+(w^(A|~C))+b[8]+1873313359&4294967295,y=A+(v<<6&4294967295|v>>>26),v=C+(A^(y|~w))+b[15]+4264355552&4294967295,C=y+(v<<10&4294967295|v>>>22),v=w+(y^(C|~A))+b[6]+2734768916&4294967295,w=C+(v<<15&4294967295|v>>>17),v=A+(C^(w|~y))+b[13]+1309151649&4294967295,A=w+(v<<21&4294967295|v>>>11),v=y+(w^(A|~C))+b[4]+4149444226&4294967295,y=A+(v<<6&4294967295|v>>>26),v=C+(A^(y|~w))+b[11]+3174756917&4294967295,C=y+(v<<10&4294967295|v>>>22),v=w+(y^(C|~A))+b[2]+718787259&4294967295,w=C+(v<<15&4294967295|v>>>17),v=A+(C^(w|~y))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(w+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.v=function(I,y){y===void 0&&(y=I.length);const A=y-this.blockSize,b=this.C;let w=this.h,C=0;for(;C<y;){if(w==0)for(;C<=A;)s(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<y;)if(b[w++]=I.charCodeAt(C++),w==this.blockSize){s(this,b),w=0;break}}else for(;C<y;)if(b[w++]=I[C++],w==this.blockSize){s(this,b),w=0;break}}this.h=w,this.o+=y},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;y=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=y&255,y/=256;for(this.v(I),I=Array(16),y=0,A=0;A<4;++A)for(let b=0;b<32;b+=8)I[y++]=this.g[A]>>>b&255;return I};function i(I,y){var A=l;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=y(I)}function a(I,y){this.h=y;const A=[];let b=!0;for(let w=I.length-1;w>=0;w--){const C=I[w]|0;b&&C==y||(A[w]=C,b=!1)}this.g=A}var l={};function c(I){return-128<=I&&I<128?i(I,function(y){return new a([y|0],y<0?-1:0)}):new a([I|0],I<0?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return p;if(I<0)return D(h(-I));const y=[];let A=1;for(let b=0;I>=A;b++)y[b]=I/A|0,A*=4294967296;return new a(y,0)}function f(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return D(f(I.substring(1),y));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=h(Math.pow(y,8));let b=p;for(let C=0;C<I.length;C+=8){var w=Math.min(8,I.length-C);const v=parseInt(I.substring(C,C+w),y);w<8?(w=h(Math.pow(y,w)),b=b.j(w).add(h(v))):(b=b.j(A),b=b.add(h(v)))}return b}var p=c(0),m=c(1),E=c(16777216);t=a.prototype,t.m=function(){if(V(this))return-D(this).m();let I=0,y=1;for(let A=0;A<this.g.length;A++){const b=this.i(A);I+=(b>=0?b:4294967296+b)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(V(this))return"-"+D(this).toString(I);const y=h(Math.pow(I,6));var A=this;let b="";for(;;){const w=K(A,y).g;A=L(A,w.j(y));let C=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=w,S(A))return C+b;for(;C.length<6;)C="0"+C;b=C+b}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function V(I){return I.h==-1}t.l=function(I){return I=L(this,I),V(I)?-1:S(I)?0:1};function D(I){const y=I.g.length,A=[];for(let b=0;b<y;b++)A[b]=~I.g[b];return new a(A,~I.h).add(m)}t.abs=function(){return V(this)?D(this):this},t.add=function(I){const y=Math.max(this.g.length,I.g.length),A=[];let b=0;for(let w=0;w<=y;w++){let C=b+(this.i(w)&65535)+(I.i(w)&65535),v=(C>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);b=v>>>16,C&=65535,v&=65535,A[w]=v<<16|C}return new a(A,A[A.length-1]&-2147483648?-1:0)};function L(I,y){return I.add(D(y))}t.j=function(I){if(S(this)||S(I))return p;if(V(this))return V(I)?D(this).j(D(I)):D(D(this).j(I));if(V(I))return D(this.j(D(I)));if(this.l(E)<0&&I.l(E)<0)return h(this.m()*I.m());const y=this.g.length+I.g.length,A=[];for(var b=0;b<2*y;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(let w=0;w<I.g.length;w++){const C=this.i(b)>>>16,v=this.i(b)&65535,He=I.i(w)>>>16,wt=I.i(w)&65535;A[2*b+2*w]+=v*wt,B(A,2*b+2*w),A[2*b+2*w+1]+=C*wt,B(A,2*b+2*w+1),A[2*b+2*w+1]+=v*He,B(A,2*b+2*w+1),A[2*b+2*w+2]+=C*He,B(A,2*b+2*w+2)}for(I=0;I<y;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=y;I<2*y;I++)A[I]=0;return new a(A,0)};function B(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function q(I,y){this.g=I,this.h=y}function K(I,y){if(S(y))throw Error("division by zero");if(S(I))return new q(p,p);if(V(I))return y=K(D(I),y),new q(D(y.g),D(y.h));if(V(y))return y=K(I,D(y)),new q(D(y.g),y.h);if(I.g.length>30){if(V(I)||V(y))throw Error("slowDivide_ only works with positive integers.");for(var A=m,b=y;b.l(I)<=0;)A=pe(A),b=pe(b);var w=Ee(A,1),C=Ee(b,1);for(b=Ee(b,2),A=Ee(A,2);!S(b);){var v=C.add(b);v.l(I)<=0&&(w=w.add(A),C=v),b=Ee(b,1),A=Ee(A,1)}return y=L(I,w.j(y)),new q(w,y)}for(w=p;I.l(y)>=0;){for(A=Math.max(1,Math.floor(I.m()/y.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),C=h(A),v=C.j(y);V(v)||v.l(I)>0;)A-=b,C=h(A),v=C.j(y);S(C)&&(C=m),w=w.add(C),I=L(I,v)}return new q(w,I)}t.B=function(I){return K(this,I).h},t.and=function(I){const y=Math.max(this.g.length,I.g.length),A=[];for(let b=0;b<y;b++)A[b]=this.i(b)&I.i(b);return new a(A,this.h&I.h)},t.or=function(I){const y=Math.max(this.g.length,I.g.length),A=[];for(let b=0;b<y;b++)A[b]=this.i(b)|I.i(b);return new a(A,this.h|I.h)},t.xor=function(I){const y=Math.max(this.g.length,I.g.length),A=[];for(let b=0;b<y;b++)A[b]=this.i(b)^I.i(b);return new a(A,this.h^I.h)};function pe(I){const y=I.g.length+1,A=[];for(let b=0;b<y;b++)A[b]=I.i(b)<<1|I.i(b-1)>>>31;return new a(A,I.h)}function Ee(I,y){const A=y>>5;y%=32;const b=I.g.length-A,w=[];for(let C=0;C<b;C++)w[C]=y>0?I.i(C+A)>>>y|I.i(C+A+1)<<32-y:I.i(C+A);return new a(w,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Pd=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,$n=a}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});var wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vd,As,Dd,Ni,za,xd,Nd,Od;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof wi=="object"&&wi];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(o,u){if(u)e:{var d=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var P=o[g];if(!(P in d))break e;d=d[P]}o=o[o.length-1],g=d[o],u=u(g),u!=g&&u!=null&&e(d,o,{configurable:!0,writable:!0,value:u})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(u){var d=[],g;for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&d.push([g,u[g]]);return d}});var i=i||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,d){return o.call.apply(o.bind,arguments)}function h(o,u,d){return h=c,h.apply(null,arguments)}function f(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function p(o,u){function d(){}d.prototype=u.prototype,o.Z=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(g,P,x){for(var G=Array(arguments.length-2),de=2;de<arguments.length;de++)G[de-2]=arguments[de];return u.prototype[P].apply(g,G)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function E(o){const u=o.length;if(u>0){const d=Array(u);for(let g=0;g<u;g++)d[g]=o[g];return d}return[]}function S(o,u){for(let g=1;g<arguments.length;g++){const P=arguments[g];var d=typeof P;if(d=d!="object"?d:P?Array.isArray(P)?"array":d:"null",d=="array"||d=="object"&&typeof P.length=="number"){d=o.length||0;const x=P.length||0;o.length=d+x;for(let G=0;G<x;G++)o[d+G]=P[G]}else o.push(P)}}class V{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function D(o){a.setTimeout(()=>{throw o},0)}function L(){var o=I;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class B{constructor(){this.h=this.g=null}add(u,d){const g=q.get();g.set(u,d),this.h?this.h.next=g:this.g=g,this.h=g}}var q=new V(()=>new K,o=>o.reset());class K{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,Ee=!1,I=new B,y=()=>{const o=Promise.resolve(void 0);pe=()=>{o.then(A)}};function A(){for(var o;o=L();){try{o.h.call(o.g)}catch(d){D(d)}var u=q;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}Ee=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,u),a.removeEventListener("test",d,u)}catch{}return o})();function v(o){return/^[\s\xa0]*$/.test(o)}function He(o,u){w.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}p(He,w),He.prototype.init=function(o,u){const d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),qe=0;function be(o,u,d,g,P){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!g,this.ha=P,this.key=++qe,this.da=this.fa=!1}function ve(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function bt(o,u,d){for(const g in o)u.call(d,o[g],g,o)}function Qt(o,u){for(const d in o)u.call(void 0,o[d],d,o)}function Pt(o){const u={};for(const d in o)u[d]=o[d];return u}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hn(o,u){let d,g;for(let P=1;P<arguments.length;P++){g=arguments[P];for(d in g)o[d]=g[d];for(let x=0;x<st.length;x++)d=st[x],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function Ut(o){this.src=o,this.g={},this.h=0}Ut.prototype.add=function(o,u,d,g,P){const x=o.toString();o=this.g[x],o||(o=this.g[x]=[],this.h++);const G=ut(o,u,g,P);return G>-1?(u=o[G],d||(u.fa=!1)):(u=new be(u,this.src,x,!!g,P),u.fa=d,o.push(u)),u};function jt(o,u){const d=u.type;if(d in o.g){var g=o.g[d],P=Array.prototype.indexOf.call(g,u,void 0),x;(x=P>=0)&&Array.prototype.splice.call(g,P,1),x&&(ve(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function ut(o,u,d,g){for(let P=0;P<o.length;++P){const x=o[P];if(!x.da&&x.listener==u&&x.capture==!!d&&x.ha==g)return P}return-1}var k="closure_lm_"+(Math.random()*1e6|0),Z={};function Q(o,u,d,g,P){if(Array.isArray(u)){for(let x=0;x<u.length;x++)Q(o,u[x],d,g,P);return null}return d=W(d),o&&o[wt]?o.J(u,d,l(g)?!!g.capture:!1,P):re(o,u,d,!1,g,P)}function re(o,u,d,g,P,x){if(!u)throw Error("Invalid event type");const G=l(P)?!!P.capture:!!P;let de=F(o);if(de||(o[k]=de=new Ut(o)),d=de.add(u,d,g,G,x),d.proxy)return d;if(g=ge(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)C||(P=G),P===void 0&&(P=!1),o.addEventListener(u.toString(),g,P);else if(o.attachEvent)o.attachEvent(R(u.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function ge(){function o(d){return u.call(o.src,o.listener,d)}const u=N;return o}function _(o,u,d,g,P){if(Array.isArray(u))for(var x=0;x<u.length;x++)_(o,u[x],d,g,P);else g=l(g)?!!g.capture:!!g,d=W(d),o&&o[wt]?(o=o.i,x=String(u).toString(),x in o.g&&(u=o.g[x],d=ut(u,d,g,P),d>-1&&(ve(u[d]),Array.prototype.splice.call(u,d,1),u.length==0&&(delete o.g[x],o.h--)))):o&&(o=F(o))&&(u=o.g[u.toString()],o=-1,u&&(o=ut(u,d,g,P)),(d=o>-1?u[o]:null)&&T(d))}function T(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[wt])jt(u.i,o);else{var d=o.type,g=o.proxy;u.removeEventListener?u.removeEventListener(d,g,o.capture):u.detachEvent?u.detachEvent(R(d),g):u.addListener&&u.removeListener&&u.removeListener(g),(d=F(u))?(jt(d,o),d.h==0&&(d.src=null,u[k]=null)):ve(o)}}}function R(o){return o in Z?Z[o]:Z[o]="on"+o}function N(o,u){if(o.da)o=!0;else{u=new He(u,this);const d=o.listener,g=o.ha||o.src;o.fa&&T(o),o=d.call(g,u)}return o}function F(o){return o=o[k],o instanceof Ut?o:null}var O="__closure_events_fn_"+(Math.random()*1e9>>>0);function W(o){return typeof o=="function"?o:(o[O]||(o[O]=function(u){return o.handleEvent(u)}),o[O])}function H(){b.call(this),this.i=new Ut(this),this.M=this,this.G=null}p(H,b),H.prototype[wt]=!0,H.prototype.removeEventListener=function(o,u,d,g){_(this,o,u,d,g)};function $(o,u){var d,g=o.G;if(g)for(d=[];g;g=g.G)d.push(g);if(o=o.M,g=u.type||u,typeof u=="string")u=new w(u,o);else if(u instanceof w)u.target=u.target||o;else{var P=u;u=new w(g,o),hn(u,P)}P=!0;let x,G;if(d)for(G=d.length-1;G>=0;G--)x=u.g=d[G],P=U(x,g,!0,u)&&P;if(x=u.g=o,P=U(x,g,!0,u)&&P,P=U(x,g,!1,u)&&P,d)for(G=0;G<d.length;G++)x=u.g=d[G],P=U(x,g,!1,u)&&P}H.prototype.N=function(){if(H.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const d=o.g[u];for(let g=0;g<d.length;g++)ve(d[g]);delete o.g[u],o.h--}}this.G=null},H.prototype.J=function(o,u,d,g){return this.i.add(String(o),u,!1,d,g)},H.prototype.K=function(o,u,d,g){return this.i.add(String(o),u,!0,d,g)};function U(o,u,d,g){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let P=!0;for(let x=0;x<u.length;++x){const G=u[x];if(G&&!G.da&&G.capture==d){const de=G.listener,Qe=G.ha||G.src;G.fa&&jt(o.i,G),P=de.call(Qe,g)!==!1&&P}}return P&&!g.defaultPrevented}function ie(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function Y(o){o.g=ie(()=>{o.g=null,o.i&&(o.i=!1,Y(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class se extends b{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Y(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(o){b.call(this),this.h=o,this.g={}}p(ae,b);var me=[];function Ve(o){bt(o.g,function(u,d){this.g.hasOwnProperty(d)&&T(u)},o),o.g={}}ae.prototype.N=function(){ae.Z.N.call(this),Ve(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ie=a.JSON.stringify,ht=a.JSON.parse,ft=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Vt(){}function Dt(){}var $t={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ir(){w.call(this,"d")}p(Ir,w);function it(){w.call(this,"c")}p(it,w);var et={},ns=null;function Zn(){return ns=ns||new H}et.Ia="serverreachability";function cc(o){w.call(this,et.Ia,o)}p(cc,w);function rs(o){const u=Zn();$(u,new cc(u))}et.STAT_EVENT="statevent";function uc(o,u){w.call(this,et.STAT_EVENT,o),this.stat=u}p(uc,w);function Et(o){const u=Zn();$(u,new uc(u,o))}et.Ja="timingevent";function hc(o,u){w.call(this,et.Ja,o),this.size=u}p(hc,w);function ss(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function is(){this.g=!0}is.prototype.ua=function(){this.g=!1};function am(o,u,d,g,P,x){o.info(function(){if(o.g)if(x){var G="",de=x.split("&");for(let xe=0;xe<de.length;xe++){var Qe=de[xe].split("=");if(Qe.length>1){const tt=Qe[0];Qe=Qe[1];const Yt=tt.split("_");G=Yt.length>=2&&Yt[1]=="type"?G+(tt+"="+Qe+"&"):G+(tt+"=redacted&")}}}else G=null;else G=x;return"XMLHTTP REQ ("+g+") [attempt "+P+"]: "+u+`
`+d+`
`+G})}function lm(o,u,d,g,P,x,G){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+P+"]: "+u+`
`+d+`
`+x+" "+G})}function wr(o,u,d,g){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+um(o,d)+(g?" "+g:"")})}function cm(o,u){o.info(function(){return"TIMEOUT: "+u})}is.prototype.info=function(){};function um(o,u){if(!o.g)return u;if(!u)return null;try{const x=JSON.parse(u);if(x){for(o=0;o<x.length;o++)if(Array.isArray(x[o])){var d=x[o];if(!(d.length<2)){var g=d[1];if(Array.isArray(g)&&!(g.length<1)){var P=g[0];if(P!="noop"&&P!="stop"&&P!="close")for(let G=1;G<g.length;G++)g[G]=""}}}}return Ie(x)}catch{return u}}var hi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dc;function Bo(){}p(Bo,Vt),Bo.prototype.g=function(){return new XMLHttpRequest},dc=new Bo;function os(o){return encodeURIComponent(String(o))}function hm(o){var u=1;o=o.split(":");const d=[];for(;u>0&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function Sn(o,u,d,g){this.j=o,this.i=u,this.l=d,this.S=g||1,this.V=new ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pc}function pc(){this.i=null,this.g="",this.h=!1}var mc={},Uo={};function jo(o,u,d){o.M=1,o.A=di(Jt(u)),o.u=d,o.R=!0,gc(o,null)}function gc(o,u){o.F=Date.now(),fi(o),o.B=Jt(o.A);var d=o.B,g=o.S;Array.isArray(g)||(g=[String(g)]),Pc(d.i,"t",g),o.C=0,d=o.j.L,o.h=new pc,o.g=Kc(o.j,d?u:null,!o.u),o.P>0&&(o.O=new se(h(o.Y,o,o.g),o.P)),u=o.V,d=o.g,g=o.ba;var P="readystatechange";Array.isArray(P)||(P&&(me[0]=P.toString()),P=me);for(let x=0;x<P.length;x++){const G=Q(d,P[x],g||u.handleEvent,!1,u.h||u);if(!G)break;u.g[G.key]=G}u=o.J?Pt(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),rs(),am(o.i,o.v,o.B,o.l,o.S,o.u)}Sn.prototype.ba=function(o){o=o.target;const u=this.O;u&&Vn(o)==3?u.j():this.Y(o)},Sn.prototype.Y=function(o){try{if(o==this.g)e:{const de=Vn(this.g),Qe=this.g.ya(),xe=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||Mc(this.g)))){this.K||de!=4||Qe==7||(Qe==8||xe<=0?rs(3):rs(2)),$o(this);var u=this.g.ca();this.X=u;var d=fm(this);if(this.o=u==200,lm(this.i,this.v,this.B,this.l,this.S,de,u),this.o){if(this.U&&!this.L){t:{if(this.g){var g,P=this.g;if((g=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(g)){var x=g;break t}}x=null}if(o=x)wr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ho(this,o);else{this.o=!1,this.m=3,Et(12),er(this),as(this);break e}}if(this.R){o=!0;let tt;for(;!this.K&&this.C<d.length;)if(tt=dm(this,d),tt==Uo){de==4&&(this.m=4,Et(14),o=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(tt==mc){this.m=4,Et(15),wr(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else wr(this.i,this.l,tt,null),Ho(this,tt);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||d.length!=0||this.h.h||(this.m=1,Et(16),o=!1),this.o=this.o&&o,!o)wr(this.i,this.l,d,"[Invalid Chunked Response]"),er(this),as(this);else if(d.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),Yo(G),G.P=!0,Et(11))}}else wr(this.i,this.l,d,null),Ho(this,d);de==4&&er(this),this.o&&!this.K&&(de==4?Hc(this.j,this):(this.o=!1,fi(this)))}else Sm(this.g),u==400&&d.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),er(this),as(this)}}}catch{}};function fm(o){if(!_c(o))return o.g.la();const u=Mc(o.g);if(u==="")return"";let d="";const g=u.length,P=Vn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return er(o),as(o),"";o.h.i=new a.TextDecoder}for(let x=0;x<g;x++)o.h.h=!0,d+=o.h.i.decode(u[x],{stream:!(P&&x==g-1)});return u.length=0,o.h.g+=d,o.C=0,o.h.g}function _c(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function dm(o,u){var d=o.C,g=u.indexOf(`
`,d);return g==-1?Uo:(d=Number(u.substring(d,g)),isNaN(d)?mc:(g+=1,g+d>u.length?Uo:(u=u.slice(g,g+d),o.C=g+d,u)))}Sn.prototype.cancel=function(){this.K=!0,er(this)};function fi(o){o.T=Date.now()+o.H,yc(o,o.H)}function yc(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=ss(h(o.aa,o),u)}function $o(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Sn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(cm(this.i,this.B),this.M!=2&&(rs(),Et(17)),er(this),this.m=2,as(this)):yc(this,this.T-o)};function as(o){o.j.I==0||o.K||Hc(o.j,o)}function er(o){$o(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,Ve(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function Ho(o,u){try{var d=o.j;if(d.I!=0&&(d.g==o||qo(d.h,o))){if(!o.L&&qo(d.h,o)&&d.I==3){try{var g=d.Ba.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var P=g;if(P[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)yi(d),gi(d);else break e;Jo(d),Et(18)}}else d.xa=P[1],0<d.xa-d.K&&P[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=ss(h(d.Va,d),6e3));Tc(d.h)<=1&&d.ta&&(d.ta=void 0)}else nr(d,11)}else if((o.L||d.g==o)&&yi(d),!v(u))for(P=d.Ba.g.parse(u),u=0;u<P.length;u++){let xe=P[u];const tt=xe[0];if(!(tt<=d.K))if(d.K=tt,xe=xe[1],d.I==2)if(xe[0]=="c"){d.M=xe[1],d.ba=xe[2];const Yt=xe[3];Yt!=null&&(d.ka=Yt,d.j.info("VER="+d.ka));const rr=xe[4];rr!=null&&(d.za=rr,d.j.info("SVER="+d.za));const Dn=xe[5];Dn!=null&&typeof Dn=="number"&&Dn>0&&(g=1.5*Dn,d.O=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const xn=o.g;if(xn){const vi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var x=g.h;x.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(zo(x,x.h),x.h=null))}if(g.G){const Xo=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(g.wa=Xo,ke(g.J,g.G,Xo))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),g=d;var G=o;if(g.na=Gc(g,g.L?g.ba:null,g.W),G.L){Ac(g.h,G);var de=G,Qe=g.O;Qe&&(de.H=Qe),de.D&&($o(de),fi(de)),g.g=G}else jc(g);d.i.length>0&&_i(d)}else xe[0]!="stop"&&xe[0]!="close"||nr(d,7);else d.I==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?nr(d,7):Qo(d):xe[0]!="noop"&&d.l&&d.l.qa(xe),d.A=0)}}rs(4)}catch{}}var pm=class{constructor(o,u){this.g=o,this.map=u}};function Ec(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Tc(o){return o.h?1:o.g?o.g.size:0}function qo(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function zo(o,u){o.g?o.g.add(u):o.h=u}function Ac(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Ec.prototype.cancel=function(){if(this.i=Ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ic(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const d of o.g.values())u=u.concat(d.G);return u}return E(o.i)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mm(o,u){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const g=o[d].indexOf("=");let P,x=null;g>=0?(P=o[d].substring(0,g),x=o[d].substring(g+1)):P=o[d],u(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Cn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof Cn?(this.l=o.l,ls(this,o.j),this.o=o.o,this.g=o.g,cs(this,o.u),this.h=o.h,Go(this,Vc(o.i)),this.m=o.m):o&&(u=String(o).match(wc))?(this.l=!1,ls(this,u[1]||"",!0),this.o=us(u[2]||""),this.g=us(u[3]||"",!0),cs(this,u[4]),this.h=us(u[5]||"",!0),Go(this,u[6]||"",!0),this.m=us(u[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}Cn.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(hs(u,bc,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(hs(u,bc,!0),"@"),o.push(os(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(hs(d,d.charAt(0)=="/"?ym:_m,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",hs(d,vm)),o.join("")},Cn.prototype.resolve=function(o){const u=Jt(this);let d=!!o.j;d?ls(u,o.j):d=!!o.o,d?u.o=o.o:d=!!o.g,d?u.g=o.g:d=o.u!=null;var g=o.h;if(d)cs(u,o.u);else if(d=!!o.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var P=u.h.lastIndexOf("/");P!=-1&&(g=u.h.slice(0,P+1)+g)}if(P=g,P==".."||P==".")g="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){g=P.lastIndexOf("/",0)==0,P=P.split("/");const x=[];for(let G=0;G<P.length;){const de=P[G++];de=="."?g&&G==P.length&&x.push(""):de==".."?((x.length>1||x.length==1&&x[0]!="")&&x.pop(),g&&G==P.length&&x.push("")):(x.push(de),g=!0)}g=x.join("/")}else g=P}return d?u.h=g:d=o.i.toString()!=="",d?Go(u,Vc(o.i)):d=!!o.m,d&&(u.m=o.m),u};function Jt(o){return new Cn(o)}function ls(o,u,d){o.j=d?us(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function cs(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function Go(o,u,d){u instanceof fs?(o.i=u,Tm(o.i,o.l)):(d||(u=hs(u,Em)),o.i=new fs(u,o.l))}function ke(o,u,d){o.i.set(u,d)}function di(o){return ke(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function us(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function hs(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,gm),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function gm(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var bc=/[#\/\?@]/g,_m=/[#\?:]/g,ym=/[#\?]/g,Em=/[#\?@]/g,vm=/#/g;function fs(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function tr(o){o.g||(o.g=new Map,o.h=0,o.i&&mm(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}t=fs.prototype,t.add=function(o,u){tr(this),this.i=null,o=br(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function Rc(o,u){tr(o),u=br(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Sc(o,u){return tr(o),u=br(o,u),o.g.has(u)}t.forEach=function(o,u){tr(this),this.g.forEach(function(d,g){d.forEach(function(P){o.call(u,P,g,this)},this)},this)};function Cc(o,u){tr(o);let d=[];if(typeof u=="string")Sc(o,u)&&(d=d.concat(o.g.get(br(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)d=d.concat(o[u]);return d}t.set=function(o,u){return tr(this),this.i=null,o=br(this,o),Sc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},t.get=function(o,u){return o?(o=Cc(this,o),o.length>0?String(o[0]):u):u};function Pc(o,u,d){Rc(o,u),d.length>0&&(o.i=null,o.g.set(br(o,u),E(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let g=0;g<u.length;g++){var d=u[g];const P=os(d);d=Cc(this,d);for(let x=0;x<d.length;x++){let G=P;d[x]!==""&&(G+="="+os(d[x])),o.push(G)}}return this.i=o.join("&")};function Vc(o){const u=new fs;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function br(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Tm(o,u){u&&!o.j&&(tr(o),o.i=null,o.g.forEach(function(d,g){const P=g.toLowerCase();g!=P&&(Rc(this,g),Pc(this,P,d))},o)),o.j=u}function Am(o,u){const d=new is;if(a.Image){const g=new Image;g.onload=f(Pn,d,"TestLoadImage: loaded",!0,u,g),g.onerror=f(Pn,d,"TestLoadImage: error",!1,u,g),g.onabort=f(Pn,d,"TestLoadImage: abort",!1,u,g),g.ontimeout=f(Pn,d,"TestLoadImage: timeout",!1,u,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else u(!1)}function Im(o,u){const d=new is,g=new AbortController,P=setTimeout(()=>{g.abort(),Pn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:g.signal}).then(x=>{clearTimeout(P),x.ok?Pn(d,"TestPingServer: ok",!0,u):Pn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(P),Pn(d,"TestPingServer: error",!1,u)})}function Pn(o,u,d,g,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),g(d)}catch{}}function wm(){this.g=new ft}function Ko(o){this.i=o.Sb||null,this.h=o.ab||!1}p(Ko,Vt),Ko.prototype.g=function(){return new pi(this.i,this.h)};function pi(o,u){H.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(pi,H),t=pi.prototype,t.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,ps(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dc(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dc(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?ds(this):ps(this),this.readyState==3&&Dc(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,ds(this))},t.Na=function(o){this.g&&(this.response=o,ds(this))},t.ga=function(){this.g&&ds(this)};function ds(o){o.readyState=4,o.l=null,o.j=null,o.B=null,ps(o)}t.setRequestHeader=function(o,u){this.A.append(o,u)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function ps(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function xc(o){let u="";return bt(o,function(d,g){u+=g,u+=":",u+=d,u+=`\r
`}),u}function Wo(o,u,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=xc(d),typeof o=="string"?d!=null&&os(d):ke(o,u,d))}function Ue(o){H.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ue,H);var bm=/^https?$/i,Rm=["POST","PUT"];t=Ue.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,u,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dc.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(x){Nc(this,x);return}if(o=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var P in g)d.set(P,g[P]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const x of g.keys())d.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(x=>x.toLowerCase()=="content-type"),P=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(Rm,u,void 0)>=0)||g||P||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,G]of d)this.g.setRequestHeader(x,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(x){Nc(this,x)}};function Nc(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,Oc(o),mi(o)}function Oc(o){o.A||(o.A=!0,$(o,"complete"),$(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,$(this,"complete"),$(this,"abort"),mi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?kc(this):this.Xa())},t.Xa=function(){kc(this)};function kc(o){if(o.h&&typeof i<"u"){if(o.v&&Vn(o)==4)setTimeout(o.Ca.bind(o),0);else if($(o,"readystatechange"),Vn(o)==4){o.h=!1;try{const x=o.ca();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var g;if(g=x===0){let G=String(o.D).match(wc)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),g=!bm.test(G?G.toLowerCase():"")}d=g}if(d)$(o,"complete"),$(o,"success");else{o.o=6;try{var P=Vn(o)>2?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.ca()+"]",Oc(o)}}finally{mi(o)}}}}function mi(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,u||$(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vn(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Vn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),ht(u)}};function Mc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Sm(o){const u={};o=(o.g&&Vn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(v(o[g]))continue;var d=hm(o[g]);const P=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const x=u[P]||[];u[P]=x,x.push(d)}Qt(u,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function Lc(o){this.za=0,this.i=[],this.j=new is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,o),this.Za=ms("retryDelaySeedMs",1e4,o),this.Ta=ms("forwardChannelMaxRetries",2,o),this.va=ms("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ec(o&&o.concurrentRequestLimit),this.Ba=new wm,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Lc.prototype,t.ka=8,t.I=1,t.connect=function(o,u,d,g){Et(0),this.W=o,this.H=u||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.J=Gc(this,null,this.W),_i(this)};function Qo(o){if(Fc(o),o.I==3){var u=o.V++,d=Jt(o.J);if(ke(d,"SID",o.M),ke(d,"RID",u),ke(d,"TYPE","terminate"),gs(o,d),u=new Sn(o,o.j,u),u.M=2,u.A=di(Jt(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=u.A,d=!0),d||(u.g=Kc(u.j,null),u.g.ea(u.A)),u.F=Date.now(),fi(u)}zc(o)}function gi(o){o.g&&(Yo(o),o.g.cancel(),o.g=null)}function Fc(o){gi(o),o.v&&(a.clearTimeout(o.v),o.v=null),yi(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function _i(o){if(!vc(o.h)&&!o.m){o.m=!0;var u=o.Ea;pe||y(),Ee||(pe(),Ee=!0),I.add(u,o),o.D=0}}function Cm(o,u){return Tc(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=ss(h(o.Ea,o,u),qc(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const P=new Sn(this,this.j,o);let x=this.o;if(this.U&&(x?(x=Pt(x),hn(x,this.U)):x=this.U),this.u!==null||this.R||(P.J=x,x=null),this.S)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(u+=g,u>4096){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=Uc(this,P,u),d=Jt(this.J),ke(d,"RID",o),ke(d,"CVER",22),this.G&&ke(d,"X-HTTP-Session-Id",this.G),gs(this,d),x&&(this.R?u="headers="+os(xc(x))+"&"+u:this.u&&Wo(d,this.u,x)),zo(this.h,P),this.Ra&&ke(d,"TYPE","init"),this.S?(ke(d,"$req",u),ke(d,"SID","null"),P.U=!0,jo(P,d,null)):jo(P,d,u),this.I=2}}else this.I==3&&(o?Bc(this,o):this.i.length==0||vc(this.h)||Bc(this))};function Bc(o,u){var d;u?d=u.l:d=o.V++;const g=Jt(o.J);ke(g,"SID",o.M),ke(g,"RID",d),ke(g,"AID",o.K),gs(o,g),o.u&&o.o&&Wo(g,o.u,o.o),d=new Sn(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),u&&(o.i=u.G.concat(o.i)),u=Uc(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),zo(o.h,d),jo(d,g,u)}function gs(o,u){o.H&&bt(o.H,function(d,g){ke(u,g,d)}),o.l&&bt({},function(d,g){ke(u,g,d)})}function Uc(o,u,d){d=Math.min(o.i.length,d);const g=o.l?h(o.l.Ka,o.l,o):null;e:{var P=o.i;let de=-1;for(;;){const Qe=["count="+d];de==-1?d>0?(de=P[0].g,Qe.push("ofs="+de)):de=0:Qe.push("ofs="+de);let xe=!0;for(let tt=0;tt<d;tt++){var x=P[tt].g;const Yt=P[tt].map;if(x-=de,x<0)de=Math.max(0,P[tt].g-100),xe=!1;else try{x="req"+x+"_"||"";try{var G=Yt instanceof Map?Yt:Object.entries(Yt);for(const[rr,Dn]of G){let xn=Dn;l(Dn)&&(xn=Ie(Dn)),Qe.push(x+rr+"="+encodeURIComponent(xn))}}catch(rr){throw Qe.push(x+"type="+encodeURIComponent("_badmap")),rr}}catch{g&&g(Yt)}}if(xe){G=Qe.join("&");break e}}G=void 0}return o=o.i.splice(0,d),u.G=o,G}function jc(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;pe||y(),Ee||(pe(),Ee=!0),I.add(u,o),o.A=0}}function Jo(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=ss(h(o.Da,o),qc(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,$c(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=ss(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),gi(this),$c(this))};function Yo(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function $c(o){o.g=new Sn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=Jt(o.na);ke(u,"RID","rpc"),ke(u,"SID",o.M),ke(u,"AID",o.K),ke(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&ke(u,"TO",o.ia),ke(u,"TYPE","xmlhttp"),gs(o,u),o.u&&o.o&&Wo(u,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=di(Jt(u)),d.u=null,d.R=!0,gc(d,o)}t.Va=function(){this.C!=null&&(this.C=null,gi(this),Jo(this),Et(19))};function yi(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function Hc(o,u){var d=null;if(o.g==u){yi(o),Yo(o),o.g=null;var g=2}else if(qo(o.h,u))d=u.G,Ac(o.h,u),g=1;else return;if(o.I!=0){if(u.o)if(g==1){d=u.u?u.u.length:0,u=Date.now()-u.F;var P=o.D;g=Zn(),$(g,new hc(g,d)),_i(o)}else jc(o);else if(P=u.m,P==3||P==0&&u.X>0||!(g==1&&Cm(o,u)||g==2&&Jo(o)))switch(d&&d.length>0&&(u=o.h,u.i=u.i.concat(d)),P){case 1:nr(o,5);break;case 4:nr(o,10);break;case 3:nr(o,6);break;default:nr(o,2)}}}function qc(o,u){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*u}function nr(o,u){if(o.j.info("Error code "+u),u==2){var d=h(o.bb,o),g=o.Ua;const P=!g;g=new Cn(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ls(g,"https"),di(g),P?Am(g.toString(),d):Im(g.toString(),d)}else Et(2);o.I=0,o.l&&o.l.pa(u),zc(o),Fc(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zc(o){if(o.I=0,o.ja=[],o.l){const u=Ic(o.h);(u.length!=0||o.i.length!=0)&&(S(o.ja,u),S(o.ja,o.i),o.h.i.length=0,E(o.i),o.i.length=0),o.l.oa()}}function Gc(o,u,d){var g=d instanceof Cn?Jt(d):new Cn(d);if(g.g!="")u&&(g.g=u+"."+g.g),cs(g,g.u);else{var P=a.location;g=P.protocol,u=u?u+"."+P.hostname:P.hostname,P=+P.port;const x=new Cn(null);g&&ls(x,g),u&&(x.g=u),P&&cs(x,P),d&&(x.h=d),g=x}return d=o.G,u=o.wa,d&&u&&ke(g,d,u),ke(g,"VER",o.ka),gs(o,g),g}function Kc(o,u,d){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new Ue(new Ko({ab:d})):new Ue(o.ma),u.Fa(o.L),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}t=Wc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ei(){}Ei.prototype.g=function(o,u){return new xt(o,u)};function xt(o,u){H.call(this),this.g=new Lc(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!v(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!v(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Rr(this)}p(xt,H),xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){Qo(this.g)},xt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=Ie(o),o=d);u.i.push(new pm(u.Ya++,o)),u.I==3&&_i(u)},xt.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,xt.Z.N.call(this)};function Qc(o){Ir.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const d in u){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}p(Qc,Ir);function Jc(){it.call(this),this.status=1}p(Jc,it);function Rr(o){this.g=o}p(Rr,Wc),Rr.prototype.ra=function(){$(this.g,"a")},Rr.prototype.qa=function(o){$(this.g,new Qc(o))},Rr.prototype.pa=function(o){$(this.g,new Jc)},Rr.prototype.oa=function(){$(this.g,"b")},Ei.prototype.createWebChannel=Ei.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,Od=function(){return new Ei},Nd=function(){return Zn()},xd=et,za={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,Ni=hi,fc.COMPLETE="complete",Dd=fc,Dt.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",H.prototype.listen=H.prototype.J,As=Dt,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,Vd=Ue}).apply(typeof wi<"u"?wi:typeof self<"u"?self:typeof window<"u"?window:{});class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");let Xr="12.9.0";function iA(t){Xr=t}const mr=new Id("@firebase/firestore");function Vr(){return mr.logLevel}function ee(t,...e){if(mr.logLevel<=Ae.DEBUG){const n=e.map(Ol);mr.debug(`Firestore (${Xr}): ${t}`,...n)}}function wn(t,...e){if(mr.logLevel<=Ae.ERROR){const n=e.map(Ol);mr.error(`Firestore (${Xr}): ${t}`,...n)}}function gr(t,...e){if(mr.logLevel<=Ae.WARN){const n=e.map(Ol);mr.warn(`Firestore (${Xr}): ${t}`,...n)}}function Ol(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kd(t,r,n)}function kd(t,e,n){let r=`FIRESTORE (${Xr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wn(r),new Error(r)}function Pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||kd(e,s,r)}function he(t,e){return t}const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hn{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Md{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pt.UNAUTHENTICATED)))}shutdown(){}}class aA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lA{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hn,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hn)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new Md(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class cA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class uA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new cA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nh(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nh(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class kl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=fA(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Ga(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ea(s)===Ea(i)?_e(s,i):Ea(s)?1:-1}return _e(t.length,e.length)}const dA=55296,pA=57343;function Ea(t){const e=t.charCodeAt(0);return e>=dA&&e<=pA}function Gr(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const rh="__name__";class en{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return en.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof en?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=en.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=en.isNumericId(e),s=en.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?en.extractNumericId(e).compare(en.extractNumericId(n)):Ga(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $n.fromString(e.substring(4,e.length-2))}}class Fe extends en{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Fe(n)}static emptyPath(){return new Fe([])}}const mA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends en{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return mA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rh}static keyField(){return new at([rh])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new te(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new te(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Fe.fromString(e))}static fromName(e){return new oe(Fe.fromString(e).popFirst(5))}static empty(){return new oe(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Fe(e.slice()))}}function gA(t,e,n){if(!n)throw new te(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _A(t,e,n,r){if(e===!0&&r===!0)throw new te(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sh(t){if(!oe.isDocumentKey(t))throw new te(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ld(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ml(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ml(t);throw new te(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ke(t,e){const n={typeString:t};return e&&(n.value=e),n}function oi(t,e){if(!Ld(t))throw new te(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new te(j.INVALID_ARGUMENT,n);return!0}const ih=-62135596800,oh=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*oh);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ih)throw new te(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oh}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oi(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ih;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:Ke("string",Le._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Le(0,0))}static max(){return new ce(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ws=-1;function yA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new Gn(s,oe.empty(),e)}function EA(t){return new Gn(t.readTime,t.key,Ws)}class Gn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gn(ce.min(),oe.empty(),Ws)}static max(){return new Gn(ce.max(),oe.empty(),Ws)}}function vA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zr(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==TA)throw t;ee("LocalStore","Unexpectedly lost primary lease")}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):M.reject(n)}static resolve(e){return new M(((n,r)=>{n(e)}))}static reject(e){return new M(((n,r)=>{r(e)}))}static waitFor(e){return new M(((n,r)=>{let s=0,i=0,a=!1;e.forEach((l=>{++s,l.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next((s=>s?M.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new M(((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next((f=>{a[h]=f,++l,l===i&&r(a)}),(f=>s(f)))}}))}static doWhile(e,n){return new M(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function IA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function es(t){return t.name==="IndexedDbTransactionError"}class bo{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bo.ce=-1;const Ll=-1;function Ro(t){return t==null}function eo(t){return t===0&&1/t==-1/0}function wA(t){return typeof t=="number"&&Number.isInteger(t)&&!eo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Fd="";function bA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ah(e)),e=RA(t.get(n),e);return ah(e)}function RA(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Fd:n+="";break;default:n+=i}}return n}function ah(t){return t+Fd+""}function lh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Er(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Be{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bi(this.root,e,this.comparator,!0)}}class bi{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ot.RED,this.left=s??ot.EMPTY,this.right=i??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ch(this.data.getIterator())}getIteratorFrom(e){return new ch(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class ch{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new qt([])}unionWith(e){let n=new Ze(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gr(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class Ud extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Ud("Invalid base64 string: "+i):i}})(e);return new ct(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const SA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kn(t){if(Pe(!!t,39018),typeof t=="string"){let e=0;const n=SA.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wn(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}const jd="server_timestamp",$d="__type__",Hd="__previous_value__",qd="__local_write_time__";function Fl(t){return(t?.mapValue?.fields||{})[$d]?.stringValue===jd}function So(t){const e=t.mapValue.fields[Hd];return Fl(e)?So(e):e}function Qs(t){const e=Kn(t.mapValue.fields[qd].timestampValue);return new Le(e.seconds,e.nanos)}class CA{constructor(e,n,r,s,i,a,l,c,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f,this.apiKey=p}}const to="(default)";class Js{constructor(e,n){this.projectId=e,this.database=n||to}static empty(){return new Js("","")}get isDefaultDatabase(){return this.database===to}isEqual(e){return e instanceof Js&&e.projectId===this.projectId&&e.database===this.database}}function PA(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new te(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(t.options.projectId,e)}const zd="__type__",VA="__max__",Ri={mapValue:{}},Gd="__vector__",no="value";function Qn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fl(t)?4:xA(t)?9007199254740991:DA(t)?10:11:le(28295,{value:t})}function cn(t,e){if(t===e)return!0;const n=Qn(t);if(n!==Qn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qs(t).isEqual(Qs(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Kn(s.timestampValue),l=Kn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Wn(s.bytesValue).isEqual(Wn(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=$e(s.doubleValue),l=$e(i.doubleValue);return a===l?eo(a)===eo(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return Gr(t.arrayValue.values||[],e.arrayValue.values||[],cn);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(lh(a)!==lh(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!cn(a[c],l[c])))return!1;return!0})(t,e);default:return le(52216,{left:t})}}function Ys(t,e){return(t.values||[]).find((n=>cn(n,e)))!==void 0}function Kr(t,e){if(t===e)return 0;const n=Qn(t),r=Qn(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const l=$e(i.integerValue||i.doubleValue),c=$e(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return uh(t.timestampValue,e.timestampValue);case 4:return uh(Qs(t),Qs(e));case 5:return Ga(t.stringValue,e.stringValue);case 6:return(function(i,a){const l=Wn(i),c=Wn(a);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const l=i.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=_e(l[h],c[h]);if(f!==0)return f}return _e(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const l=_e($e(i.latitude),$e(a.latitude));return l!==0?l:_e($e(i.longitude),$e(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hh(t.arrayValue,e.arrayValue);case 10:return(function(i,a){const l=i.fields||{},c=a.fields||{},h=l[no]?.arrayValue,f=c[no]?.arrayValue,p=_e(h?.values?.length||0,f?.values?.length||0);return p!==0?p:hh(h,f)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===Ri.mapValue&&a===Ri.mapValue)return 0;if(i===Ri.mapValue)return 1;if(a===Ri.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=a.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=Ga(c[p],f[p]);if(m!==0)return m;const E=Kr(l[c[p]],h[f[p]]);if(E!==0)return E}return _e(c.length,f.length)})(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function uh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Kn(t),r=Kn(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function hh(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Kr(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function Wr(t){return Ka(t)}function Ka(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Kn(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wn(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return oe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ka(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Ka(n.fields[a])}`;return s+"}"})(t.mapValue):le(61005,{value:t})}function Oi(t){switch(Qn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=So(t);return e?16+Oi(e):16;case 5:return 2*t.stringValue.length;case 6:return Wn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Oi(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Er(r.fields,((i,a)=>{s+=i.length+Oi(a)})),s})(t.mapValue);default:throw le(13486,{value:t})}}function Wa(t){return!!t&&"integerValue"in t}function Bl(t){return!!t&&"arrayValue"in t}function fh(t){return!!t&&"nullValue"in t}function dh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ki(t){return!!t&&"mapValue"in t}function DA(t){return(t?.mapValue?.fields||{})[zd]?.stringValue===Gd}function ks(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Er(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ks(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ks(t.arrayValue.values[n]);return e}return{...t}}function xA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VA}class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ki(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ks(n)}setAll(e){let n=at.emptyPath(),r={},s=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=ks(a):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ki(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ki(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Er(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Mt(ks(this.value))}}function Kd(t){const e=[];return Er(t.fields,((n,r)=>{const s=new at([n]);if(ki(r)){const i=Kd(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new qt(e)}class gt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new gt(e,0,ce.min(),ce.min(),ce.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,s){return new gt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new gt(e,2,n,ce.min(),ce.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,ce.min(),ce.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ro{constructor(e,n){this.position=e,this.inclusive=n}}function ph(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(a.referenceValue),n.key):r=Kr(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mh(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cn(t.position[n],e.position[n]))return!1;return!0}class so{constructor(e,n="asc"){this.field=e,this.dir=n}}function NA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Wd{}class Ye extends Wd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kA(e,n,r):n==="array-contains"?new FA(e,r):n==="in"?new BA(e,r):n==="not-in"?new UA(e,r):n==="array-contains-any"?new jA(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MA(e,r):new LA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kr(n,this.value)):n!==null&&Qn(this.value)===Qn(n)&&this.matchesComparison(Kr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends Wd{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new un(e,n)}matches(e){return Qd(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qd(t){return t.op==="and"}function Jd(t){return OA(t)&&Qd(t)}function OA(t){for(const e of t.filters)if(e instanceof un)return!1;return!0}function Qa(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Wr(t.value);if(Jd(t))return t.filters.map((e=>Qa(e))).join(",");{const e=t.filters.map((n=>Qa(n))).join(",");return`${t.op}(${e})`}}function Yd(t,e){return t instanceof Ye?(function(r,s){return s instanceof Ye&&r.op===s.op&&r.field.isEqual(s.field)&&cn(r.value,s.value)})(t,e):t instanceof un?(function(r,s){return s instanceof un&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,l)=>i&&Yd(a,s.filters[l])),!0):!1})(t,e):void le(19439)}function Xd(t){return t instanceof Ye?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wr(n.value)}`})(t):t instanceof un?(function(n){return n.op.toString()+" {"+n.getFilters().map(Xd).join(" ,")+"}"})(t):"Filter"}class kA extends Ye{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class MA extends Ye{constructor(e,n){super(e,"in",n),this.keys=Zd("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class LA extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=Zd("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Zd(t,e){return(e.arrayValue?.values||[]).map((n=>oe.fromName(n.referenceValue)))}class FA extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bl(n)&&Ys(n.arrayValue,this.value)}}class BA extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ys(this.value.arrayValue,n)}}class UA extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ys(this.value.arrayValue,n)}}class jA extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ys(this.value.arrayValue,r)))}}class $A{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function gh(t,e=null,n=[],r=[],s=null,i=null,a=null){return new $A(t,e,n,r,s,i,a)}function Ul(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Qa(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Ro(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wr(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wr(r))).join(",")),e.Te=n}return e.Te}function jl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yd(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mh(t.startAt,e.startAt)&&mh(t.endAt,e.endAt)}function Ja(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Co{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function HA(t,e,n,r,s,i,a,l){return new Co(t,e,n,r,s,i,a,l)}function Po(t){return new Co(t)}function _h(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qA(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function zA(t){return t.collectionGroup!==null}function Ms(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ze(at.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new so(i,r))})),n.has(at.keyField().canonicalString())||e.Ie.push(new so(at.keyField(),r))}return e.Ie}function rn(t){const e=he(t);return e.Ee||(e.Ee=GA(e,Ms(t))),e.Ee}function GA(t,e){if(t.limitType==="F")return gh(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new so(s.field,i)}));const n=t.endAt?new ro(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ro(t.startAt.position,t.startAt.inclusive):null;return gh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ya(t,e,n){return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vo(t,e){return jl(rn(t),rn(e))&&t.limitType===e.limitType}function ep(t){return`${Ul(rn(t))}|lt:${t.limitType}`}function Dr(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>Xd(s))).join(", ")}]`),Ro(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Wr(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Wr(s))).join(",")),`Target(${r})`})(rn(t))}; limitType=${t.limitType})`}function Do(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Ms(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(a,l,c){const h=ph(a,l,c);return a.inclusive?h<=0:h<0})(r.startAt,Ms(r),s)||r.endAt&&!(function(a,l,c){const h=ph(a,l,c);return a.inclusive?h>=0:h>0})(r.endAt,Ms(r),s))})(t,e)}function KA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tp(t){return(e,n)=>{let r=!1;for(const s of Ms(t)){const i=WA(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function WA(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):(function(i,a,l){const c=a.data.field(i),h=l.data.field(i);return c!==null&&h!==null?Kr(c,h):le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}class vr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return Bd(this.inner)}size(){return this.innerSize}}const QA=new Be(oe.comparator);function bn(){return QA}const np=new Be(oe.comparator);function Is(...t){let e=np;for(const n of t)e=e.insert(n.key,n);return e}function rp(t){let e=np;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function cr(){return Ls()}function sp(){return Ls()}function Ls(){return new vr((t=>t.toString()),((t,e)=>t.isEqual(e)))}const JA=new Be(oe.comparator),YA=new Ze(oe.comparator);function ye(...t){let e=YA;for(const n of t)e=e.add(n);return e}const XA=new Ze(_e);function ZA(){return XA}function $l(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eo(e)?"-0":e}}function ip(t){return{integerValue:""+t}}function eI(t,e){return wA(e)?ip(e):$l(t,e)}class xo{constructor(){this._=void 0}}function tI(t,e,n){return t instanceof io?(function(s,i){const a={fields:{[$d]:{stringValue:jd},[qd]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Fl(i)&&(i=So(i)),i&&(a.fields[Hd]=i),{mapValue:a}})(n,e):t instanceof Xs?ap(t,e):t instanceof Zs?lp(t,e):(function(s,i){const a=op(s,i),l=yh(a)+yh(s.Ae);return Wa(a)&&Wa(s.Ae)?ip(l):$l(s.serializer,l)})(t,e)}function nI(t,e,n){return t instanceof Xs?ap(t,e):t instanceof Zs?lp(t,e):n}function op(t,e){return t instanceof oo?(function(r){return Wa(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class io extends xo{}class Xs extends xo{constructor(e){super(),this.elements=e}}function ap(t,e){const n=cp(e);for(const r of t.elements)n.some((s=>cn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Zs extends xo{constructor(e){super(),this.elements=e}}function lp(t,e){let n=cp(e);for(const r of t.elements)n=n.filter((s=>!cn(s,r)));return{arrayValue:{values:n}}}class oo extends xo{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yh(t){return $e(t.integerValue||t.doubleValue)}function cp(t){return Bl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rI(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Xs&&s instanceof Xs||r instanceof Zs&&s instanceof Zs?Gr(r.elements,s.elements,cn):r instanceof oo&&s instanceof oo?cn(r.Ae,s.Ae):r instanceof io&&s instanceof io})(t.transform,e.transform)}class sI{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mi(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class No{}function up(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fp(t.key,En.none()):new ai(t.key,t.data,En.none());{const n=t.data,r=Mt.empty();let s=new Ze(at.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Tr(t.key,r,new qt(s.toArray()),En.none())}}function iI(t,e,n){t instanceof ai?(function(s,i,a){const l=s.value.clone(),c=vh(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Tr?(function(s,i,a){if(!Mi(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=vh(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(hp(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Fs(t,e,n,r){return t instanceof ai?(function(i,a,l,c){if(!Mi(i.precondition,a))return l;const h=i.value.clone(),f=Th(i.fieldTransforms,c,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Tr?(function(i,a,l,c){if(!Mi(i.precondition,a))return l;const h=Th(i.fieldTransforms,c,a),f=a.data;return f.setAll(hp(i)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(i,a,l){return Mi(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function oI(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=op(r.transform,s||null);i!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function Eh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Gr(r,s,((i,a)=>rI(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ai extends No{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Tr extends No{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hp(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function vh(t,e,n){const r=new Map;Pe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,nI(a,l,n[s]))}return r}function Th(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,tI(i,a,e))}return r}class fp extends No{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends No{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lI{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&iI(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sp();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=up(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ye())}isEqual(e){return this.batchId===e.batchId&&Gr(this.mutations,e.mutations,((n,r)=>Eh(n,r)))&&Gr(this.baseMutations,e.baseMutations,((n,r)=>Eh(n,r)))}}class Hl{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return JA})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Hl(e,n,r,s)}}class cI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uI{constructor(e,n){this.count=e,this.unchangedNames=n}}var ze,Te;function hI(t){switch(t){case j.OK:return le(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function dp(t){if(t===void 0)return wn("GRPC error has no .code"),j.UNKNOWN;switch(t){case ze.OK:return j.OK;case ze.CANCELLED:return j.CANCELLED;case ze.UNKNOWN:return j.UNKNOWN;case ze.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ze.INTERNAL:return j.INTERNAL;case ze.UNAVAILABLE:return j.UNAVAILABLE;case ze.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ze.NOT_FOUND:return j.NOT_FOUND;case ze.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ze.ABORTED:return j.ABORTED;case ze.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ze.DATA_LOSS:return j.DATA_LOSS;default:return le(39323,{code:t})}}(Te=ze||(ze={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";function fI(){return new TextEncoder}const dI=new $n([4294967295,4294967295],0);function Ah(t){const e=fI().encode(t),n=new Pd;return n.update(e),new Uint8Array(n.digest())}function Ih(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $n([n,r],0),new $n([s,i],0)]}class ql{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ws(`Invalid padding: ${n}`);if(r<0)throw new ws(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ws(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ws(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$n.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply($n.fromNumber(r)));return s.compare(dI)===1&&(s=new $n([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ah(e),[r,s]=Ih(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ql(i,s,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=Ah(e),[r,s]=Ih(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ws extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oo{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,li.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Oo(ce.min(),s,new Be(_e),bn(),ye())}}class li{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new li(r,n,ye(),ye(),ye())}}class Li{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class pp{constructor(e,n){this.targetId=e,this.Ce=n}}class mp{constructor(e,n,r=ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class wh{constructor(){this.ve=0,this.Fe=bh(),this.Me=ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ye(),n=ye(),r=ye();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}})),new li(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=bh()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pI{constructor(e){this.Ge=e,this.ze=new Map,this.je=bn(),this.He=Si(),this.Je=Si(),this.Ze=new Be(_e)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ja(i))if(r===0){const a=new oe(i.path);this.et(n,a,gt.newNoDocument(a,ce.min()))}else Pe(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Wn(r).toUint8Array()}catch(c){if(c instanceof Ud)return gr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ql(a,s,i)}catch(c){return gr(c instanceof ws?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Ja(l.target)){const c=new oe(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,gt.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.Ke())}}));let r=ye();this.Je.forEach(((i,a)=>{let l=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new Oo(e,n,this.Ze,this.je,r);return this.je=bn(),this.He=Si(),this.Je=Si(),this.Ze=new Be(_e),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new wh,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ze(_e),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ze(_e),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wh),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Si(){return new Be(oe.comparator)}function bh(){return new Be(oe.comparator)}const mI={asc:"ASCENDING",desc:"DESCENDING"},gI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_I={and:"AND",or:"OR"};class yI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xa(t,e){return t.useProto3Json||Ro(e)?e:{value:e}}function ao(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gp(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EI(t,e){return ao(t,e.toTimestamp())}function sn(t){return Pe(!!t,49232),ce.fromTimestamp((function(n){const r=Kn(n);return new Le(r.seconds,r.nanos)})(t))}function zl(t,e){return Za(t,e).canonicalString()}function Za(t,e){const n=(function(s){return new Fe(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _p(t){const e=Fe.fromString(t);return Pe(Ap(e),10190,{key:e.toString()}),e}function el(t,e){return zl(t.databaseId,e.path)}function va(t,e){const n=_p(e);if(n.get(1)!==t.databaseId.projectId)throw new te(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(Ep(n))}function yp(t,e){return zl(t.databaseId,e)}function vI(t){const e=_p(t);return e.length===4?Fe.emptyPath():Ep(e)}function tl(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ep(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rh(t,e,n){return{name:el(t,e),fields:n.value.mapValue.fields}}function TI(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:le(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,f){return h.useProto3Json?(Pe(f===void 0||typeof f=="string",58123),ct.fromBase64String(f||"")):(Pe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ct.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(h){const f=h.code===void 0?j.UNKNOWN:dp(h.code);return new te(f,h.message||"")})(a);n=new mp(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=va(t,r.document.name),i=sn(r.document.updateTime),a=r.document.createTime?sn(r.document.createTime):ce.min(),l=new Mt({mapValue:{fields:r.document.fields}}),c=gt.newFoundDocument(s,i,a,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Li(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=va(t,r.document),i=r.readTime?sn(r.readTime):ce.min(),a=gt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Li([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=va(t,r.document),i=r.removedTargetIds||[];n=new Li([],i,s,null)}else{if(!("filter"in e))return le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new uI(s,i),l=r.targetId;n=new pp(l,a)}}return n}function AI(t,e){let n;if(e instanceof ai)n={update:Rh(t,e.key,e.value)};else if(e instanceof fp)n={delete:el(t,e.key)};else if(e instanceof Tr)n={update:Rh(t,e.key,e.data),updateMask:DI(e.fieldMask)};else{if(!(e instanceof aI))return le(16599,{dt:e.type});n={verify:el(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,a){const l=a.transform;if(l instanceof io)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Xs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Zs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof oo)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw le(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:EI(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)})(t,e.precondition)),n}function II(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map((n=>(function(s,i){let a=s.updateTime?sn(s.updateTime):sn(i);return a.isEqual(ce.min())&&(a=sn(i)),new sI(a,s.transformResults||[])})(n,e)))):[]}function wI(t,e){return{documents:[yp(t,e.path)]}}function bI(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yp(t,s);const i=(function(h){if(h.length!==0)return Tp(un.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((f=>(function(m){return{field:xr(m.field),direction:CI(m.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Xa(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function RI(t){let e=vI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=(function(p){const m=vp(p);return m instanceof un&&Jd(m)?m.getFilters():[m]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((m=>(function(S){return new so(Nr(S.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let m;return m=typeof p=="object"?p.value:p,Ro(m)?null:m})(n.limit));let c=null;n.startAt&&(c=(function(p){const m=!!p.before,E=p.values||[];return new ro(E,m)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const m=!p.before,E=p.values||[];return new ro(E,m)})(n.endAt)),HA(e,s,a,i,l,"F",c,h)}function SI(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vp(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nr(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Nr(n.unaryFilter.field);return Ye.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nr(n.unaryFilter.field);return Ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Nr(n.unaryFilter.field);return Ye.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ye.create(Nr(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return un.create(n.compositeFilter.filters.map((r=>vp(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}})(n.compositeFilter.op))})(t):le(30097,{filter:t})}function CI(t){return mI[t]}function PI(t){return gI[t]}function VI(t){return _I[t]}function xr(t){return{fieldPath:t.canonicalString()}}function Nr(t){return at.fromServerFormat(t.fieldPath)}function Tp(t){return t instanceof Ye?(function(n){if(n.op==="=="){if(dh(n.value))return{unaryFilter:{field:xr(n.field),op:"IS_NAN"}};if(fh(n.value))return{unaryFilter:{field:xr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dh(n.value))return{unaryFilter:{field:xr(n.field),op:"IS_NOT_NAN"}};if(fh(n.value))return{unaryFilter:{field:xr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xr(n.field),op:PI(n.op),value:n.value}}})(t):t instanceof un?(function(n){const r=n.getFilters().map((s=>Tp(s)));return r.length===1?r[0]:{compositeFilter:{op:VI(n.op),filters:r}}})(t):le(54877,{filter:t})}function DI(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ap(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Ip(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Fn{constructor(e,n,r,s,i=ce.min(),a=ce.min(),l=ct.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Fn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xI{constructor(e){this.yt=e}}function NI(t){const e=RI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ya(e,e.limit,"L"):e}class OI{constructor(){this.Sn=new kI}addToCollectionParentIndex(e,n){return this.Sn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Gn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Gn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class kI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ze(Fe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ze(Fe.comparator)).toArray()}}const Sh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wp=41943040;class Ct{static withCacheSize(e){return new Ct(e,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ct.DEFAULT_COLLECTION_PERCENTILE=10,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ct.DEFAULT=new Ct(wp,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ct.DISABLED=new Ct(-1,0,0);class Qr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Qr(0)}static ar(){return new Qr(-1)}}const Ch="LruGarbageCollector",MI=1048576;function Ph([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class LI{constructor(e){this.Pr=e,this.buffer=new Ze(Ph),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ph(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ee(Ch,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){es(n)?ee(Ch,"Ignoring IndexedDB error during garbage collection: ",n):await Zr(n)}await this.Ar(3e5)}))}}class BI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return M.resolve(bo.ce);const r=new LI(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(Sh)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sh):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,a,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),Vr()<=Ae.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function UI(t,e){return new BI(t,e)}class jI{constructor(){this.changes=new vr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $I{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class HI{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Fs(r.mutation,s,qt.empty(),Le.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ye()){const s=cr();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=Is();return i.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=cr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ye())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,s){let i=bn();const a=Ls(),l=(function(){return Ls()})();return n.forEach(((c,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof Tr)?i=i.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Fs(f.mutation,h,f.mutation.getFieldMask(),Le.now())):a.set(h.key,qt.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((h,f)=>a.set(h,f))),n.forEach(((h,f)=>l.set(h,new $I(f,a.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Ls();let s=new Be(((a,l)=>a-l)),i=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||qt.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(s.get(l.batchId)||ye()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=sp();f.forEach((m=>{if(!i.has(m)){const E=up(n.get(m),r.get(m));E!==null&&p.set(m,E),i=i.add(m)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return M.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return qA(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(cr());let l=Ws,c=i;return a.next((h=>M.forEach(h,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{c=c.insert(f,m)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,c,h,ye()))).next((f=>({batchId:l,changes:rp(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next((r=>{let s=Is();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Is();return this.indexManager.getCollectionParents(e,i).next((l=>M.forEach(l,(c=>{const h=(function(p,m){return new Co(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((f=>{f.forEach(((p,m)=>{a=a.insert(p,m)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((c,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,gt.newInvalidDocument(f)))}));let l=Is();return a.forEach(((c,h)=>{const f=i.get(c);f!==void 0&&Fs(f.mutation,h,qt.empty(),Le.now()),Do(n,h)&&(l=l.insert(c,h))})),l}))}}class qI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return M.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:sn(s.createTime)}})(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:NI(s.bundledQuery),readTime:sn(s.readTime)}})(n)),M.resolve()}}class zI{constructor(){this.overlays=new Be(oe.comparator),this.Lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cr();return M.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.bt(e,n,i)})),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=cr(),i=n.length+1,a=new oe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Be(((h,f)=>h-f));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=cr(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=cr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,f)=>l.set(h,f))),!(l.size()>=s)););return M.resolve(l)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new cI(n,r));let i=this.Lr.get(n);i===void 0&&(i=ye(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}class GI{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}class Gl{constructor(){this.kr=new Ze(nt.Kr),this.qr=new Ze(nt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new nt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new oe(new Fe([])),r=new nt(n,e),s=new nt(n,e+1),i=[];return this.qr.forEachInRange([r,s],(a=>{this.Wr(a),i.push(a.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new oe(new Fe([])),r=new nt(n,e),s=new nt(n,e+1);let i=ye();return this.qr.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new nt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return oe.comparator(e.key,n.key)||_e(e.Hr,n.Hr)}static Ur(e,n){return _e(e.Hr,n.Hr)||oe.comparator(e.key,n.key)}}class KI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ze(nt.Kr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new lI(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Jr=this.Jr.add(new nt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return M.resolve(a)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Ll:this.Yn-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),s=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],(a=>{const l=this.Zr(a.Hr);i.push(l)})),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(_e);return n.forEach((s=>{const i=new nt(s,0),a=new nt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,a],(l=>{r=r.add(l.Hr)}))})),M.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const a=new nt(new oe(i),0);let l=new Ze(_e);return this.Jr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Hr)),!0)}),a),M.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Pe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return M.forEach(n.mutations,(s=>{const i=new nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new nt(n,0),s=this.Jr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WI{constructor(e){this.ti=e,this.docs=(function(){return new Be(oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let r=bn();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():gt.newInvalidDocument(s))})),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=bn();const a=n.path,l=new oe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||vA(EA(f),r)<=0||(s.has(f.key)||Do(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}ni(e,n){return M.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new QI(this)}getSize(e){return M.resolve(this.size)}}class QI extends jI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),M.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class JI{constructor(e){this.persistence=e,this.ri=new vr((n=>Ul(n)),jl),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.ii=0,this.si=new Gl,this.targetCount=0,this.oi=Qr._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),M.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Qr(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.lr(n),M.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),M.waitFor(i).next((()=>s))}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.si.containsKey(n))}}class bp{constructor(e,n){this._i={},this.overlays={},this.ai=new bo(0),this.ui=!1,this.ui=!0,this.ci=new GI,this.referenceDelegate=e(this),this.li=new JI(this),this.indexManager=new OI,this.remoteDocumentCache=(function(s){return new WI(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new xI(n),this.Pi=new qI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new KI(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new YI(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((i=>this.referenceDelegate.Ii(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ei(e,n){return M.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class YI extends AA{constructor(e){super(),this.currentSequenceNumber=e}}class Kl{constructor(e){this.persistence=e,this.Ri=new Gl,this.Ai=null}static Vi(e){return new Kl(e)}get di(){if(this.Ai)return this.Ai;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.di.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.di,(r=>{const s=oe.fromPath(r);return this.mi(e,s).next((i=>{i||n.removeEntry(s,ce.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return M.or([()=>M.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class lo{constructor(e,n){this.persistence=e,this.fi=new vr((r=>bA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=UI(this,n)}static Vi(e,n){return new lo(e,n)}Ti(){}Ii(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return M.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((i=>i?M.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,(a=>this.wr(e,a,n).next((l=>{l||(r++,i.removeEntry(a,ce.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),M.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oi(e.data.value)),n}wr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wl{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ye(),s=ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Wl(e,n.fromCache,r,s)}}class XI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return jv()?8:IA(Bv())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ps(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new XI;return this.ys(e,n,a).next((l=>{if(i.result=l,this.As)return this.ws(e,n,a,l.size)}))})).next((()=>i.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Vr()<=Ae.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Dr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(Vr()<=Ae.DEBUG&&ee("QueryEngine","Query:",Dr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Vr()<=Ae.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Dr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rn(n))):M.resolve())}gs(e,n){if(_h(n))return M.resolve(null);let r=rn(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Ya(n,null,"F"),r=rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=ye(...i);return this.fs.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const h=this.bs(n,l);return this.Ss(n,h,a,c.readTime)?this.gs(e,Ya(n,null,"F")):this.Ds(e,h,n,c)}))))})))))}ps(e,n,r,s){return _h(n)||s.isEqual(ce.min())?M.resolve(null):this.fs.getDocuments(e,r).next((i=>{const a=this.bs(n,i);return this.Ss(n,a,r,s)?M.resolve(null):(Vr()<=Ae.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dr(n)),this.Ds(e,a,n,yA(s,Ws)).next((l=>l)))}))}bs(e,n){let r=new Ze(tp(e));return n.forEach(((s,i)=>{Do(e,i)&&(r=r.add(i))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Vr()<=Ae.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Dr(n)),this.fs.getDocumentsMatchingQuery(e,n,Gn.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}const Ql="LocalStore",ew=3e8;class tw{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Be(_e),this.Fs=new vr((i=>Ul(i)),jl),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function nw(t,e,n,r){return new tw(t,e,n,r)}async function Rp(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],l=[];let c=ye();for(const h of s){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of i){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ns:h,removedBatchIds:a,addedBatchIds:l})))}))}))}function rw(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,h,f){const p=h.batch,m=p.keys();let E=M.resolve();return m.forEach((S=>{E=E.next((()=>f.getEntry(c,S))).next((V=>{const D=h.docVersions.get(S);Pe(D!==null,48541),V.version.compareTo(D)<0&&(p.applyToRemoteDocument(V,h),V.isValidDocument()&&(V.setReadTime(h.commitVersion),f.addEntry(V)))}))})),E.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=ye();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function Sp(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function sw(t,e){const n=he(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];e.targetChanges.forEach(((f,p)=>{const m=s.get(p);if(!m)return;l.push(n.li.removeMatchingKeys(i,f.removedDocuments,p).next((()=>n.li.addMatchingKeys(i,f.addedDocuments,p))));let E=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(ct.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),s=s.insert(p,E),(function(V,D,L){return V.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=ew?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,E,f)&&l.push(n.li.updateTargetData(i,E))}));let c=bn(),h=ye();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))})),l.push(iw(i,a,e.documentUpdates).next((f=>{c=f.Bs,h=f.Ls}))),!r.isEqual(ce.min())){const f=n.li.getLastRemoteSnapshotVersion(i).next((p=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(f)}return M.waitFor(l).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.vs=s,i)))}function iw(t,e,n){let r=ye(),s=ye();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=bn();return n.forEach(((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ee(Ql,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)})),{Bs:a,Ls:s}}))}function ow(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ll),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aw(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((i=>i?(s=i,M.resolve(s)):n.li.allocateTargetId(r).next((a=>(s=new Fn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function nl(t,e,n){const r=he(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!es(a))throw a;ee(Ql,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function Vh(t,e,n){const r=he(t);let s=ce.min(),i=ye();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,h,f){const p=he(c),m=p.Fs.get(f);return m!==void 0?M.resolve(p.vs.get(m)):p.li.getTargetData(h,f)})(r,a,rn(e)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,l.targetId).next((c=>{i=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(a,e,n?s:ce.min(),n?i:ye()))).next((l=>(lw(r,KA(e),l),{documents:l,ks:i})))))}function lw(t,e,n){let r=t.Ms.get(e)||ce.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Ms.set(e,r)}class Dh{constructor(){this.activeTargetIds=ZA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cw{constructor(){this.vo=new Dh,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Dh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uw{Mo(e){}shutdown(){}}const xh="ConnectivityMonitor";class Nh{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ee(xh,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ee(xh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ci=null;function rl(){return Ci===null?Ci=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ci++,"0x"+Ci.toString(16)}const Ta="RestConnection",hw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fw{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===to?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const a=rl(),l=this.Qo(e,n.toUriEncodedString());ee(Ta,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,s,i);const{host:h}=new URL(l),f=xl(h);return this.zo(e,l,c,r,f).then((p=>(ee(Ta,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw gr(Ta,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}jo(e,n,r,s,i,a){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}Qo(e,n){const r=hw[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class dw{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const dt="WebChannelConnection",vs=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Br extends fw{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Br.c_){const e=Nd();vs(e,xd.STAT_EVENT,(n=>{n.stat===za.PROXY?ee(dt,"STAT_EVENT: detected buffering proxy"):n.stat===za.NOPROXY&&ee(dt,"STAT_EVENT: detected no buffering proxy")})),Br.c_=!0}}zo(e,n,r,s,i){const a=rl();return new Promise(((l,c)=>{const h=new Vd;h.setWithCredentials(!0),h.listenOnce(Dd.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Ni.NO_ERROR:const p=h.getResponseJson();ee(dt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ni.TIMEOUT:ee(dt,`RPC '${e}' ${a} timed out`),c(new te(j.DEADLINE_EXCEEDED,"Request time out"));break;case Ni.HTTP_ERROR:const m=h.getStatus();if(ee(dt,`RPC '${e}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E?.error;if(S&&S.status&&S.message){const V=(function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(B)>=0?B:j.UNKNOWN})(S.status);c(new te(V,S.message))}else c(new te(j.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new te(j.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ee(dt,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(s);ee(dt,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",f,r,15)}))}T_(e,n,r){const s=rl(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ee(dt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=a.createWebChannel(h,l);this.I_(f);let p=!1,m=!1;const E=new dw({Ho:S=>{m?ee(dt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(ee(dt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ee(dt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Jo:()=>f.close()});return vs(f,As.EventType.OPEN,(()=>{m||(ee(dt,`RPC '${e}' stream ${s} transport opened.`),E.i_())})),vs(f,As.EventType.CLOSE,(()=>{m||(m=!0,ee(dt,`RPC '${e}' stream ${s} transport closed`),E.o_(),this.E_(f))})),vs(f,As.EventType.ERROR,(S=>{m||(m=!0,gr(dt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),E.o_(new te(j.UNAVAILABLE,"The operation could not be completed")))})),vs(f,As.EventType.MESSAGE,(S=>{if(!m){const V=S.data[0];Pe(!!V,16349);const D=V,L=D?.error||D[0]?.error;if(L){ee(dt,`RPC '${e}' stream ${s} received error:`,L);const B=L.status;let q=(function(Ee){const I=ze[Ee];if(I!==void 0)return dp(I)})(B),K=L.message;B==="NOT_FOUND"&&K.includes("database")&&K.includes("does not exist")&&K.includes(this.databaseId.database)&&gr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),q===void 0&&(q=j.INTERNAL,K="Unknown error status: "+B+" with message "+L.message),m=!0,E.o_(new te(q,K)),f.close()}else ee(dt,`RPC '${e}' stream ${s} received:`,V),E.__(V)}})),Br.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Od()}}function pw(t){return new Br(t)}function Aa(){return typeof document<"u"?document:null}function ko(t){return new yI(t,!0)}Br.c_=!1;class Cp{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Oh="PersistentStream";class Pp{constructor(e,n,r,s,i,a,l,c){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cp(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(wn(n.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new te(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ee(Oh,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ee(Oh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mw extends Pp{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TI(this.serializer,e),r=(function(i){if(!("targetChange"in i))return ce.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ce.min():a.readTime?sn(a.readTime):ce.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=tl(this.serializer),n.addTarget=(function(i,a){let l;const c=a.target;if(l=Ja(c)?{documents:wI(i,c)}:{query:bI(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=gp(i,a.resumeToken);const h=Xa(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ce.min())>0){l.readTime=ao(i,a.snapshotVersion.toTimestamp());const h=Xa(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const r=SI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=tl(this.serializer),n.removeTarget=e,this.K_(n)}}class gw extends Pp{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=II(e.writeResults,e.commitTime),r=sn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tl(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>AI(this.serializer,r)))};this.K_(n)}}class _w{}class yw extends _w{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,Za(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(j.UNKNOWN,i.toString())}))}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.jo(e,Za(n,r),s,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(j.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Ew(t,e,n,r){return new yw(t,e,n,r)}class vw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wn(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _r="RemoteStore";class Tw{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((a=>{r.enqueueAndForget((async()=>{Ar(this)&&(ee(_r,"Restarting streams for network reachability change."),await(async function(c){const h=he(c);h.Ea.add(4),await ci(h),h.Va.set("Unknown"),h.Ea.delete(4),await Mo(h)})(this))}))})),this.Va=new vw(r,s)}}async function Mo(t){if(Ar(t))for(const e of t.Ra)await e(!0)}async function ci(t){for(const e of t.Ra)await e(!1)}function Vp(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zl(n)?Xl(n):ts(n).O_()&&Yl(n,e))}function Jl(t,e){const n=he(t),r=ts(n);n.Ia.delete(e),r.O_()&&Dp(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ar(n)&&n.Va.set("Unknown"))}function Yl(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ts(t).Z_(e)}function Dp(t,e){t.da.$e(e),ts(t).X_(e)}function Xl(t){t.da=new pI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ts(t).start(),t.Va.ua()}function Zl(t){return Ar(t)&&!ts(t).x_()&&t.Ia.size>0}function Ar(t){return he(t).Ea.size===0}function xp(t){t.da=void 0}async function Aw(t){t.Va.set("Online")}async function Iw(t){t.Ia.forEach(((e,n)=>{Yl(t,e)}))}async function ww(t,e){xp(t),Zl(t)?(t.Va.ha(e),Xl(t)):t.Va.set("Unknown")}async function bw(t,e,n){if(t.Va.set("Online"),e instanceof mp&&e.state===2&&e.cause)try{await(async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.da.removeTarget(l))})(t,e)}catch(r){ee(_r,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await co(t,r)}else if(e instanceof Li?t.da.Xe(e):e instanceof pp?t.da.st(e):t.da.tt(e),!n.isEqual(ce.min()))try{const r=await Sp(t.localStore);n.compareTo(r)>=0&&await(function(i,a){const l=i.da.Tt(a);return l.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ia.get(h);f&&i.Ia.set(h,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,h)=>{const f=i.Ia.get(c);if(!f)return;i.Ia.set(c,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),Dp(i,c);const p=new Fn(f.target,c,h,f.sequenceNumber);Yl(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){ee(_r,"Failed to raise snapshot:",r),await co(t,r)}}async function co(t,e,n){if(!es(e))throw e;t.Ea.add(1),await ci(t),t.Va.set("Offline"),n||(n=()=>Sp(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ee(_r,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mo(t)}))}function Np(t,e){return e().catch((n=>co(t,n,e)))}async function Lo(t){const e=he(t),n=Jn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ll;for(;Rw(e);)try{const s=await ow(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Sw(e,s)}catch(s){await co(e,s)}Op(e)&&kp(e)}function Rw(t){return Ar(t)&&t.Ta.length<10}function Sw(t,e){t.Ta.push(e);const n=Jn(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Op(t){return Ar(t)&&!Jn(t).x_()&&t.Ta.length>0}function kp(t){Jn(t).start()}async function Cw(t){Jn(t).ra()}async function Pw(t){const e=Jn(t);for(const n of t.Ta)e.ea(n.mutations)}async function Vw(t,e,n){const r=t.Ta.shift(),s=Hl.from(r,e,n);await Np(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Lo(t)}async function Dw(t,e){e&&Jn(t).Y_&&await(async function(r,s){if((function(a){return hI(a)&&a!==j.ABORTED})(s.code)){const i=r.Ta.shift();Jn(r).B_(),await Np(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Lo(r)}})(t,e),Op(t)&&kp(t)}async function kh(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),ee(_r,"RemoteStore received new credentials");const r=Ar(n);n.Ea.add(3),await ci(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mo(n)}async function xw(t,e){const n=he(t);e?(n.Ea.delete(2),await Mo(n)):e||(n.Ea.add(2),await ci(n),n.Va.set("Unknown"))}function ts(t){return t.ma||(t.ma=(function(n,r,s){const i=he(n);return i.sa(),new mw(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Zo:Aw.bind(null,t),Yo:Iw.bind(null,t),t_:ww.bind(null,t),J_:bw.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Zl(t)?Xl(t):t.Va.set("Unknown")):(await t.ma.stop(),xp(t))}))),t.ma}function Jn(t){return t.fa||(t.fa=(function(n,r,s){const i=he(n);return i.sa(),new gw(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Cw.bind(null,t),t_:Dw.bind(null,t),ta:Pw.bind(null,t),na:Vw.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Lo(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(_r,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class ec{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new ec(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tc(t,e){if(wn("AsyncQueue",`${e}: ${t}`),es(t))return new te(j.UNAVAILABLE,`${e}: ${t}`);throw t}class Ur{static emptySet(e){return new Ur(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Is(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ur;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Mh{constructor(){this.ga=new Be(oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Jr{constructor(e,n,r,s,i,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new Jr(e,n,Ur.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class Nw{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Ow{constructor(){this.queries=Lh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=Lh(),i.forEach(((a,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new te(j.ABORTED,"Firestore shutting down"))}}function Lh(){return new vr((t=>ep(t)),Vo)}async function Mp(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new Nw,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=tc(a,`Initialization of query '${Dr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&nc(n)}async function Lp(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.ba.indexOf(e);a>=0&&(i.ba.splice(a,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kw(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.ba)l.Fa(s)&&(r=!0);a.wa=s}}r&&nc(n)}function Mw(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function nc(t){t.Ca.forEach((e=>{e.next()}))}var sl,Fh;(Fh=sl||(sl={})).Ma="default",Fh.Cache="cache";class Fp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sl.Cache}}class Bp{constructor(e){this.key=e}}class Up{constructor(e){this.key=e}}class Lw{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ye(),this.mutatedKeys=ye(),this.eu=tp(e),this.tu=new Ur(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Mh,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((f,p)=>{const m=s.get(f),E=Do(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),V=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;m&&E?m.data.isEqual(E.data)?S!==V&&(r.track({type:3,doc:E}),D=!0):this.su(m,E)||(r.track({type:2,doc:E}),D=!0,(c&&this.eu(E,c)>0||h&&this.eu(E,h)<0)&&(l=!0)):!m&&E?(r.track({type:0,doc:E}),D=!0):m&&!E&&(r.track({type:1,doc:m}),D=!0,(c||h)&&(l=!0)),D&&(E?(a=a.add(E),i=V?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Ss:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,p)=>(function(E,S){const V=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Vt:D})}};return V(E)-V(S)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Ya.size===0&&this.current&&!s?1:0,h=c!==this.Xa;return this.Xa=c,a.length!==0||h?{snapshot:new Jr(this.query,e.tu,i,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mh,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Up(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Bp(r))})),n}cu(e){this.Za=e.ks,this.Ya=ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rc="SyncEngine";class Fw{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Bw{constructor(e){this.key=e,this.hu=!1}}class Uw{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new vr((l=>ep(l)),Vo),this.Iu=new Map,this.Eu=new Set,this.Ru=new Be(oe.comparator),this.Au=new Map,this.Vu=new Gl,this.du={},this.mu=new Map,this.fu=Qr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jw(t,e,n=!0){const r=Gp(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await jp(r,e,n,!0),s}async function $w(t,e){const n=Gp(t);await jp(n,e,!0,!1)}async function jp(t,e,n,r){const s=await aw(t.localStore,rn(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await Hw(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&Vp(t.remoteStore,s),l}async function Hw(t,e,n,r,s){t.pu=(p,m,E)=>(async function(V,D,L,B){let q=D.view.ru(L);q.Ss&&(q=await Vh(V.localStore,D.query,!1).then((({documents:I})=>D.view.ru(I,q))));const K=B&&B.targetChanges.get(D.targetId),pe=B&&B.targetMismatches.get(D.targetId)!=null,Ee=D.view.applyChanges(q,V.isPrimaryClient,K,pe);return Uh(V,D.targetId,Ee.au),Ee.snapshot})(t,p,m,E);const i=await Vh(t.localStore,e,!0),a=new Lw(e,i.ks),l=a.ru(i.documents),c=li.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(l,t.isPrimaryClient,c);Uh(t,n,h.au);const f=new Fw(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function qw(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!Vo(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nl(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jl(r.remoteStore,s.targetId),il(r,s.targetId)})).catch(Zr)):(il(r,s.targetId),await nl(r.localStore,s.targetId,!0))}async function zw(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jl(n.remoteStore,r.targetId))}async function Gw(t,e,n){const r=Zw(t);try{const s=await(function(a,l){const c=he(a),h=Le.now(),f=l.reduce(((E,S)=>E.add(S.key)),ye());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=bn(),V=ye();return c.xs.getEntries(E,f).next((D=>{S=D,S.forEach(((L,B)=>{B.isValidDocument()||(V=V.add(L))}))})).next((()=>c.localDocuments.getOverlayedDocuments(E,S))).next((D=>{p=D;const L=[];for(const B of l){const q=oI(B,p.get(B.key).overlayedDocument);q!=null&&L.push(new Tr(B.key,q,Kd(q.value.mapValue),En.exists(!0)))}return c.mutationQueue.addMutationBatch(E,h,L,l)})).next((D=>{m=D;const L=D.applyToLocalDocumentSet(p,V);return c.documentOverlayCache.saveOverlays(E,D.batchId,L)}))})).then((()=>({batchId:m.batchId,changes:rp(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(a,l,c){let h=a.du[a.currentUser.toKey()];h||(h=new Be(_e)),h=h.insert(l,c),a.du[a.currentUser.toKey()]=h})(r,s.batchId,n),await ui(r,s.changes),await Lo(r.remoteStore)}catch(s){const i=tc(s,"Failed to persist write");n.reject(i)}}async function $p(t,e){const n=he(t);try{const r=await sw(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Pe(a.hu,14607):s.removedDocuments.size>0&&(Pe(a.hu,42227),a.hu=!1))})),await ui(n,r,e)}catch(r){await Zr(r)}}function Bh(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)})),(function(a,l){const c=he(a);c.onlineState=l;let h=!1;c.queries.forEach(((f,p)=>{for(const m of p.ba)m.va(l)&&(h=!0)})),h&&nc(c)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kw(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Be(oe.comparator);a=a.insert(i,gt.newNoDocument(i,ce.min()));const l=ye().add(i),c=new Oo(ce.min(),new Map,new Be(_e),a,l);await $p(r,c),r.Ru=r.Ru.remove(i),r.Au.delete(e),sc(r)}else await nl(r.localStore,e,!1).then((()=>il(r,e,n))).catch(Zr)}async function Ww(t,e){const n=he(t),r=e.batch.batchId;try{const s=await rw(n.localStore,e);qp(n,r,null),Hp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ui(n,s)}catch(s){await Zr(s)}}async function Qw(t,e,n){const r=he(t);try{const s=await(function(a,l){const c=he(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next((p=>(Pe(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p)))).next((()=>c.mutationQueue.performConsistencyCheck(h))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>c.localDocuments.getDocuments(h,f)))}))})(r.localStore,e);qp(r,e,n),Hp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ui(r,s)}catch(s){await Zr(s)}}function Hp(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function qp(t,e,n){const r=he(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function il(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||zp(t,r)}))}function zp(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Jl(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),sc(t))}function Uh(t,e,n){for(const r of n)r instanceof Bp?(t.Vu.addReference(r.key,e),Jw(t,r)):r instanceof Up?(ee(rc,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||zp(t,r.key)):le(19791,{wu:r})}function Jw(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(ee(rc,"New document in limbo: "+n),t.Eu.add(r),sc(t))}function sc(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(Fe.fromString(e)),r=t.fu.next();t.Au.set(r,new Bw(n)),t.Ru=t.Ru.insert(n,r),Vp(t.remoteStore,new Fn(rn(Po(n.path)),r,"TargetPurposeLimboResolution",bo.ce))}}async function ui(t,e,n){const r=he(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(h){s.push(h);const f=Wl.Es(c.targetId,h);i.push(f)}})))})),await Promise.all(a),r.Pu.J_(s),await(async function(c,h){const f=he(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>M.forEach(h,(m=>M.forEach(m.Ts,(E=>f.persistence.referenceDelegate.addReference(p,m.targetId,E))).next((()=>M.forEach(m.Is,(E=>f.persistence.referenceDelegate.removeReference(p,m.targetId,E)))))))))}catch(p){if(!es(p))throw p;ee(Ql,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const E=f.vs.get(m),S=E.snapshotVersion,V=E.withLastLimboFreeSnapshotVersion(S);f.vs=f.vs.insert(m,V)}}})(r.localStore,i))}async function Yw(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){ee(rc,"User change. New user:",e.toKey());const r=await Rp(n.localStore,e);n.currentUser=e,(function(i,a){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new te(j.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ui(n,r.Ns)}}function Xw(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return ye().add(r.key);{let s=ye();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function Gp(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$p.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kw.bind(null,e),e.Pu.J_=kw.bind(null,e.eventManager),e.Pu.yu=Mw.bind(null,e.eventManager),e}function Zw(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ww.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qw.bind(null,e),e}class uo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ko(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nw(this.persistence,new ZI,e.initialUser,this.serializer)}Cu(e){return new bp(Kl.Vi,this.serializer)}Du(e){return new cw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uo.provider={build:()=>new uo};class e0 extends uo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Pe(this.persistence.referenceDelegate instanceof lo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ct.withCacheSize(this.cacheSizeBytes):Ct.DEFAULT;return new bp((r=>lo.Vi(r,n)),this.serializer)}}class ol{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yw.bind(null,this.syncEngine),await xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ow})()}createDatastore(e){const n=ko(e.databaseInfo.databaseId),r=pw(e.databaseInfo);return Ew(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,a,l){return new Tw(r,s,i,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>Bh(this.syncEngine,n,0)),(function(){return Nh.v()?new Nh:new uw})())}createSyncEngine(e,n){return(function(s,i,a,l,c,h,f){const p=new Uw(s,i,a,l,c,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=he(n);ee(_r,"RemoteStore shutting down."),r.Ea.add(5),await ci(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ol.provider={build:()=>new ol};class Kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Yn="FirestoreClient";class t0{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=kl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{ee(Yn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(ee(Yn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tc(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ia(t,e){t.asyncQueue.verifyOperationInProgress(),ee(Yn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Rp(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function jh(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n0(t);ee(Yn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>kh(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>kh(e.remoteStore,s))),t._onlineComponents=e}async function n0(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(Yn,"Using user provided OfflineComponentProvider");try{await Ia(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;gr("Error using user provided cache. Falling back to memory cache: "+n),await Ia(t,new uo)}}else ee(Yn,"Using default OfflineComponentProvider"),await Ia(t,new e0(void 0));return t._offlineComponents}async function Wp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(Yn,"Using user provided OnlineComponentProvider"),await jh(t,t._uninitializedComponentsProvider._online)):(ee(Yn,"Using default OnlineComponentProvider"),await jh(t,new ol))),t._onlineComponents}function r0(t){return Wp(t).then((e=>e.syncEngine))}async function al(t){const e=await Wp(t),n=e.eventManager;return n.onListen=jw.bind(null,e.syncEngine),n.onUnlisten=qw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$w.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zw.bind(null,e.syncEngine),n}function s0(t,e,n,r){const s=new Kp(r),i=new Fp(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>Mp(await al(t),i))),()=>{s.Nu(),t.asyncQueue.enqueueAndForget((async()=>Lp(await al(t),i)))}}function i0(t,e,n={}){const r=new Hn;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,c,h){const f=new Kp({next:m=>{f.Nu(),a.enqueueAndForget((()=>Lp(i,p)));const E=m.docs.has(l);!E&&m.fromCache?h.reject(new te(j.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&m.fromCache&&c&&c.source==="server"?h.reject(new te(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new Fp(Po(l.path),f,{includeMetadataChanges:!0,Ka:!0});return Mp(i,p)})(await al(t),t.asyncQueue,e,n,r))),r.promise}function o0(t,e){const n=new Hn;return t.asyncQueue.enqueueAndForget((async()=>Gw(await r0(t),e,n))),n.promise}function Qp(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const a0="ComponentProvider",$h=new Map;function l0(t,e,n,r,s){return new CA(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Qp(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const Jp="firestore.googleapis.com",Hh=!0;class qh{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jp,this.ssl=Hh}else this.host=e.host,this.ssl=e.ssl??Hh;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wp;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MI)throw new te(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qp(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ic{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oA;switch(r.type){case"firstParty":return new uA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=$h.get(n);r&&(ee(a0,"Removing Datastore"),$h.delete(n),r.terminate())})(this),Promise.resolve()}}function c0(t,e,n,r={}){t=qn(t,ic);const s=xl(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Ov(`https://${l}`),Fv("Firestore",!0)),i.host!==Jp&&i.host!==l&&gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Yi(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=pt.MOCK_USER;else{h=kv(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new te(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pt(p)}t._authCredentials=new aA(new Md(h,f))}}class Fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class Xe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xe(this.firestore,e,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(oi(n,Xe._jsonSchema))return new Xe(e,r||null,new oe(Fe.fromString(n.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:Ke("string",Xe._jsonSchemaVersion),referencePath:Ke("string")};class ei extends Fo{constructor(e,n,r){super(e,n,Po(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new oe(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function Fi(t,e,...n){if(t=zs(t),arguments.length===1&&(e=kl.newId()),gA("doc","path",e),t instanceof ic){const r=Fe.fromString(e,...n);return sh(r),new Xe(t,null,new oe(r))}{if(!(t instanceof Xe||t instanceof ei))throw new te(j.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return sh(r),new Xe(t.firestore,t instanceof ei?t.converter:null,new oe(r))}}const zh="AsyncQueue";class Gh{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cp(this,"async_queue_retry"),this._c=()=>{const r=Aa();r&&ee(zh,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Aa();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Aa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!es(e))throw e;ee(zh,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wn("INTERNAL UNHANDLED ERROR: ",Kh(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ec.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&le(47125,{Pc:Kh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Kh(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ti extends ic{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Gh,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gh(e),this._firestoreClient=void 0,await e}}}function u0(t,e){const n=typeof t=="object"?t:WT(),r=typeof t=="string"?t:to,s=HT(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xv("firestore");i&&c0(s,...i)}return s}function oc(t){if(t._terminated)throw new te(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h0(t),t._firestoreClient}function h0(t){const e=t._freezeSettings(),n=l0(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new t0(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Lt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lt(ct.fromBase64String(e))}catch(n){throw new te(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lt(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oi(e,Lt._jsonSchema))return Lt.fromBase64String(e.bytes)}}Lt._jsonSchemaVersion="firestore/bytes/1.0",Lt._jsonSchema={type:Ke("string",Lt._jsonSchemaVersion),bytes:Ke("string")};class Yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._methodName=e}}class on{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:on._jsonSchemaVersion}}static fromJSON(e){if(oi(e,on._jsonSchema))return new on(e.latitude,e.longitude)}}on._jsonSchemaVersion="firestore/geoPoint/1.0",on._jsonSchema={type:Ke("string",on._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};class Gt{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gt._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oi(e,Gt._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gt(e.vectorValues);throw new te(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gt._jsonSchemaVersion="firestore/vectorValue/1.0",Gt._jsonSchema={type:Ke("string",Gt._jsonSchemaVersion),vectorValues:Ke("object")};const f0=/^__.*__$/;class d0{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ai(e,this.data,n,this.fieldTransforms)}}function Zp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{dataSource:t})}}class ac{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ac({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ho(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Zp(this.dataSource)&&f0.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class p0{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ko(e)}createContext(e,n,r,s=!1){return new ac({dataSource:e,methodName:n,targetDoc:r,path:at.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m0(t){const e=t._freezeSettings(),n=ko(t._databaseId);return new p0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g0(t,e,n,r,s,i={}){const a=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);rm("Data must be an object, but it was:",a,r);const l=tm(r,a);let c,h;if(i.merge)c=new qt(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const m=lc(e,p,n);if(!a.contains(m))throw new te(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);E0(f,m)||f.push(m)}c=new qt(f),h=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,h=a.fieldTransforms;return new d0(new Mt(l),c,h)}function em(t,e){if(nm(t=zs(t)))return rm("Unsupported field value:",e,t),tm(t,e);if(t instanceof Xp)return(function(r,s){if(!Zp(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const l of r){let c=em(l,s.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=zs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Le.fromDate(r);return{timestampValue:ao(s.serializer,i)}}if(r instanceof Le){const i=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ao(s.serializer,i)}}if(r instanceof on)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lt)return{bytesValue:gp(s.serializer,r._byteString)};if(r instanceof Xe){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zl(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Gt)return(function(a,l){const c=a instanceof Gt?a.toArray():a;return{mapValue:{fields:{[zd]:{stringValue:Gd},[no]:{arrayValue:{values:c.map((f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return $l(l.serializer,f)}))}}}}}})(r,s);if(Ip(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Ml(r)}`)})(t,e)}function tm(t,e){const n={};return Bd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(t,((r,s)=>{const i=em(s,e.childContextForField(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function nm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof on||t instanceof Lt||t instanceof Xe||t instanceof Xp||t instanceof Gt||Ip(t))}function rm(t,e,n){if(!nm(n)||!Ld(n)){const r=Ml(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function lc(t,e,n){if((e=zs(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return y0(t,e);throw ho("Field path arguments must be of type string or ",t,!1,void 0,n)}const _0=new RegExp("[~\\*/\\[\\]]");function y0(t,e,n){if(e.search(_0)>=0)throw ho(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yp(...e.split("."))._internalPath}catch{throw ho(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ho(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new te(j.INVALID_ARGUMENT,l+t+c)}function E0(t,e){return t.some((n=>n.isEqual(e)))}class v0{convertValue(e,n="none"){switch(Qn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Er(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[no].arrayValue?.values?.map((r=>$e(r.doubleValue)));return new Gt(n)}convertGeoPoint(e){return new on($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=So(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qs(e));default:return null}}convertTimestamp(e){const n=Kn(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Pe(Ap(r),9688,{name:e});const s=new Js(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||wn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class sm extends v0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}const Wh="@firebase/firestore",Qh="4.11.0";function Jh(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class im{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(lc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T0 extends im{data(){return super.data()}}function A0(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function I0(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dr extends im{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=dr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",dr._jsonSchema={type:Ke("string",dr._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class Bi extends dr{data(e={}){return super.data(e)}}class jr{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new bs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Bi(this._firestore,this._userDataWriter,r.key,r,new bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((l=>{const c=new Bi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new bs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new Bi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new bs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:w0(l.type),doc:c,oldIndex:h,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w0(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}jr._jsonSchemaVersion="firestore/querySnapshot/1.0",jr._jsonSchema={type:Ke("string",jr._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};function b0(t){t=qn(t,Xe);const e=qn(t.firestore,ti),n=oc(e);return i0(n,t._key).then((r=>om(e,t,r)))}function Yh(t,e,n){t=qn(t,Xe);const r=qn(t.firestore,ti),s=I0(t.converter,e),i=m0(r);return S0(r,[g0(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,En.none())])}function R0(t,...e){t=zs(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Jh(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Jh(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let i,a,l;if(t instanceof Xe)a=qn(t.firestore,ti),l=Po(t._key.path),i={next:h=>{e[r]&&e[r](om(a,t,h))},error:e[r+1],complete:e[r+2]};else{const h=qn(t,Fo);a=qn(h.firestore,ti),l=h._query;const f=new sm(a);i={next:p=>{e[r]&&e[r](new jr(a,f,h,p))},error:e[r+1],complete:e[r+2]},A0(t._query)}const c=oc(a);return s0(c,l,s,i)}function S0(t,e){const n=oc(t);return o0(n,e)}function om(t,e,n){const r=n.docs.get(e._key),s=new sm(t);return new dr(t,s,e._key,r,new bs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){iA(KT),Zi(new Gs("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new ti(new lA(r.getProvider("auth-internal")),new hA(a,r.getProvider("app-check-internal")),PA(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Fr(Wh,Qh,e),Fr(Wh,Qh,"esm2020")})();var C0="firebase",P0="12.9.0";Fr(C0,P0,"app");const V0={apiKey:"AIzaSyDn1Mc0vfxH3CZ6hKfEa5UsZpB6CFJGnX4",authDomain:"uzo-menu.firebaseapp.com",projectId:"uzo-menu",storageBucket:"uzo-menu.firebasestorage.app",messagingSenderId:"717673685617",appId:"1:717673685617:web:f06683d78cc846b57671d0"},D0=Rd(V0),Ui=u0(D0),x0={class:"hero"},N0={class:"hero-icon"},O0={class:"content"},k0={class:"info-bar"},M0={key:1},L0={key:0,class:"happy-hour-banner"},F0=["id"],B0={class:"sec-title"},U0={key:1,class:"drink-compact-list"},j0={key:2,class:"drinks-list"},$0=["id"],H0={class:"sec-title"},q0={__name:"MenuView",setup(t){const e=fr({hiddenCategories:[],hiddenItems:{}}),n=fr(new Date),r=Ge(()=>n.value.getDay()),s=Ge(()=>n.value.getHours()*100+n.value.getMinutes()),i=Ge(()=>{const S=pn.hours[r.value];return!S||!S.open||!S.close?null:S}),a=Ge(()=>{if(!pn.happyHour||!i.value)return null;const{start:S,end:V}=pn.happyHour,D=Array.isArray(S)?S:[S],L=Array.isArray(V)?V:[V];for(let B=0;B<D.length;B++){const q=parseInt(D[B].replace(":","")),K=parseInt(L[B].replace(":",""));if(s.value>=q&&s.value<K)return{start:D[B],end:L[B]}}return null}),l=Ge(()=>a.value!==null);function c(S){const V=parseFloat(pn.happyHour.discount)/100;S.badge="happyhour",S.badgeLabel=` ${pn.happyHour.discount} off`,S.price&&(S.originalPrice=S.price,S.price=h(S.price,V)),S.sizes&&(S.sizes=S.sizes.map(D=>({...D,originalPrice:D.price,price:h(D.price,V)})))}function h(S,V){return`${(parseFloat(S.replace("",""))*(1-V)).toFixed(2)}`}const f=Ge(()=>Qi.filter(S=>!(e.value.hiddenCategories.includes(S.id)||S.happyHourOnly&&!l.value)).map(S=>{const V=JSON.parse(JSON.stringify(S));return e.value.hiddenItems[S.id]&&(V.items=V.items.filter((D,L)=>!e.value.hiddenItems[S.id].includes(L)),Array.isArray(V.featured)&&(V.featured=V.featured.filter((D,L)=>!e.value.hiddenItems[S.id].includes(L)))),l.value&&(V.featured&&(Array.isArray(V.featured)?V.featured:[V.featured]).forEach(L=>{L.happyHour&&c(L)}),V.items.forEach(D=>{D.happyHour&&c(D)})),V})),p=Ge(()=>[...f.value.map(S=>({id:S.id,icon:S.icon,label:S.label})),...pa.map(S=>({id:S.id,icon:S.icon,label:S.label}))]),m=fr(Qi[0].id);function E(S){m.value=S;const V=document.getElementById("sec-"+S);V&&V.scrollIntoView({behavior:"smooth",block:"start"})}return Il(()=>{R0(Fi(Ui,"settings","menu"),D=>{if(D.exists()){const L=D.data();e.value={hiddenCategories:L.hiddenCategories||[],hiddenItems:L.hiddenItems||{}}}}),setInterval(()=>{n.value=new Date},6e4);const S=[...f.value.map(D=>D.id),...pa.map(D=>D.id)],V=new IntersectionObserver(D=>{D.forEach(L=>{L.isIntersecting&&(m.value=L.target.id.replace("sec-",""))})},{rootMargin:"-40% 0px -55% 0px"});S.forEach(D=>{const L=document.getElementById("sec-"+D);L&&V.observe(L)})}),wl(()=>{unsubscribe()}),(S,V)=>(z(),X(we,null,[It(dE,{categories:p.value,activeCategory:m.value,onNavigate:E},null,8,["categories","activeCategory"]),J("div",null,[J("div",x0,[J("span",N0,ne(Nt(pn).icon),1),J("h1",null,ne(Nt(pn).name),1),J("p",null,ne(Nt(pn).tagline),1)]),J("div",O0,[J("div",k0,[i.value?(z(),X(we,{key:0},[pr("  Open today  "+ne(i.value.label)+" "+ne(i.value.open)+"  "+ne(i.value.close),1)],64)):(z(),X("span",M0,"Sorry, we're closed today."))]),V[1]||(V[1]=J("div",{class:"allergy-bar"}," Allergen info available on request  ask our staff",-1)),a.value?(z(),X("div",L0,[V[0]||(V[0]=J("div",{style:{"text-align":"center"}}," Happy Hour right now!",-1)),pr(" "+ne(Nt(pn).happyHour.discount)+" off on select beers from "+ne(a.value.start)+" until "+ne(a.value.end),1)])):Me("",!0),(z(!0),X(we,null,rt(f.value,D=>(z(),X("div",{key:D.id,class:"section",id:"sec-"+D.id},[J("div",B0,ne(D.icon)+" "+ne(D.label),1),D.featured?(z(),X(we,{key:0},[Array.isArray(D.featured)?(z(!0),X(we,{key:0},rt(D.featured,L=>(z(),kt(Ba,{key:L.name,item:L},null,8,["item"]))),128)):(z(),kt(Ba,{key:1,item:D.featured},null,8,["item"]))],64)):Me("",!0),D.layout==="compact"?(z(),X("div",U0,[(z(!0),X(we,null,rt(D.items,L=>(z(),kt(Tv,{key:L.name,item:L},null,8,["item"]))),128))])):(z(),X("div",j0,[(z(!0),X(we,null,rt(D.items,L=>(z(),kt(sv,{key:L.name,item:L},null,8,["item"]))),128))]))],8,F0))),128)),V[2]||(V[2]=J("div",{class:"section-divider"},[J("span",null," Food Menu")],-1)),(z(!0),X(we,null,rt(Nt(pa),D=>(z(),X("div",{key:D.id,class:"section",id:"sec-"+D.id},[J("div",H0,ne(D.icon)+" "+ne(D.label),1),D.featured?(z(),kt(Hu,{key:0,item:D.featured,featured:!0},null,8,["item"])):Me("",!0),(z(!0),X(we,null,rt(D.items,L=>(z(),kt(Hu,{key:L.name,item:L},null,8,["item"]))),128))],8,$0))),128))])])],64))}},z0={class:"admin-panel"},G0={class:"admin-content"},K0={class:"admin-section"},W0={class:"toggle-list"},Q0={class:"toggle-label"},J0=["checked","onChange"],Y0={class:"toggle-text"},X0={class:"toggle-list"},Z0={class:"toggle-label"},eb=["checked","onChange"],tb={class:"toggle-text"},nb={class:"toggle-label"},rb=["checked","onChange"],sb={class:"toggle-text"},ib={class:"admin-actions"},ob=["disabled"],ab=["disabled"],lb={key:0,class:"last-saved"},cb={__name:"AdminPanel",setup(t){const e=fr({hiddenCategories:[],hiddenItems:{}}),n=fr(!1),r=fr("");Il(async()=>{try{const f=Fi(Ui,"settings","menu"),p=await b0(f);if(p.exists()){const m=p.data();e.value={hiddenCategories:m.hiddenCategories||[],hiddenItems:m.hiddenItems||{}},m.updatedAt&&(r.value=new Date(m.updatedAt.seconds*1e3).toLocaleString())}}catch(f){console.error("Error loading settings:",f),alert("Error loading settings from server")}});function s(f){const p=e.value.hiddenCategories.indexOf(f);p>-1?e.value.hiddenCategories.splice(p,1):e.value.hiddenCategories.push(f)}function i(f,p){return e.value.hiddenItems[f]?.includes(p)||!1}function a(f,p){e.value.hiddenItems[f]||(e.value.hiddenItems[f]=[]);const m=e.value.hiddenItems[f].indexOf(p);m>-1?e.value.hiddenItems[f].splice(m,1):e.value.hiddenItems[f].push(p)}async function l(){n.value=!0;try{const f=Fi(Ui,"settings","menu");await Yh(f,{hiddenCategories:e.value.hiddenCategories,hiddenItems:e.value.hiddenItems,updatedAt:new Date}),r.value=new Date().toLocaleString(),alert(" Settings saved! All guest devices will update within seconds.")}catch(f){console.error("Error saving settings:",f),alert(" Error saving settings. Check console.")}finally{n.value=!1}}async function c(){if(confirm("Reset all settings to default? This will show all items.")){n.value=!0;try{e.value={hiddenCategories:[],hiddenItems:{}};const f=Fi(Ui,"settings","menu");await Yh(f,{hiddenCategories:[],hiddenItems:{},updatedAt:new Date}),r.value=new Date().toLocaleString(),alert(" Settings reset!")}catch(f){console.error("Error resetting:",f),alert(" Error resetting settings")}finally{n.value=!1}}}function h(){window.location.href="/"}return(f,p)=>(z(),X("div",z0,[J("div",{class:"admin-header"},[p[0]||(p[0]=J("h1",null,"Menu Control Panel",-1)),J("button",{onClick:h,class:"back-btn"}," Back to Menu")]),J("div",G0,[J("section",K0,[p[1]||(p[1]=J("h2",null," Drink Categories",-1)),J("div",W0,[(z(!0),X(we,null,rt(Nt(Qi),m=>(z(),X("div",{key:m.id,class:"toggle-item"},[J("label",Q0,[J("input",{type:"checkbox",checked:!e.value.hiddenCategories.includes(m.id),onChange:E=>s(m.id)},null,40,J0),J("span",Y0,ne(m.label),1)])]))),128))])]),(z(!0),X(we,null,rt(Nt(Qi),m=>(z(),X("section",{class:"admin-section",key:"items-"+m.id},[J("h2",null,ne(m.icon)+" "+ne(m.label)+" - Items",1),J("div",X0,[(z(!0),X(we,null,rt(m.items,(E,S)=>(z(),X("div",{key:S,class:"toggle-item"},[J("label",Z0,[J("input",{type:"checkbox",checked:!i(m.id,S),onChange:V=>a(m.id,S)},null,40,eb),J("span",tb,ne(E.name),1)])]))),128)),m.featured?(z(!0),X(we,{key:0},rt(m.featured,(E,S)=>(z(),X("div",{key:S,class:"toggle-item"},[J("label",nb,[J("input",{type:"checkbox",checked:!i(m.id,S),onChange:V=>a(m.id,S)},null,40,rb),J("span",sb,ne(E.name),1)])]))),128)):Me("",!0)])]))),128)),J("div",ib,[J("button",{onClick:l,class:"save-btn",disabled:n.value},ne(n.value?" Saving...":"Save & Publish"),9,ob),J("button",{onClick:c,class:"reset-btn",disabled:n.value}," Reset All ",8,ab)]),r.value?(z(),X("div",lb," Last saved: "+ne(r.value),1)):Me("",!0)])]))}},ub=Xn(cb,[["__scopeId","data-v-e58b82ce"]]),hb=[{path:"/",name:"Menu",component:q0},{path:"/admin",name:"Admin",component:ub}],fb=oE({history:Fy(),routes:hb});Q_(ey).use(fb).mount("#app");
